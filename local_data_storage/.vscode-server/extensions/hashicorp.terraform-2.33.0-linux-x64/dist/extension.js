"use strict";var uN=Object.create;var Nu=Object.defineProperty;var lN=Object.getOwnPropertyDescriptor;var pN=Object.getOwnPropertyNames;var dN=Object.getPrototypeOf,fN=Object.prototype.hasOwnProperty;var $=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),j_=(t,e)=>{for(var r in e)Nu(t,r,{get:e[r],enumerable:!0})},F_=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pN(e))!fN.call(t,i)&&i!==r&&Nu(t,i,{get:()=>e[i],enumerable:!(n=lN(e,i))||n.enumerable});return t};var $e=(t,e,r)=>(r=t!=null?uN(dN(t)):{},F_(e||!t||!t.__esModule?Nu(r,"default",{value:t,enumerable:!0}):r,t)),mN=t=>F_(Nu({},"__esModule",{value:!0}),t);var kx=$((ZK,Ax)=>{var hN=Object.create,rc=Object.defineProperty,gN=Object.getOwnPropertyDescriptor,vN=Object.getOwnPropertyNames,U_=Object.getOwnPropertySymbols,yN=Object.getPrototypeOf,B_=Object.prototype.hasOwnProperty,bN=Object.prototype.propertyIsEnumerable,$_=(t,e,r)=>e in t?rc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ji=(t,e)=>{for(var r in e||(e={}))B_.call(e,r)&&$_(t,r,e[r]);if(U_)for(var r of U_(e))bN.call(e,r)&&$_(t,r,e[r]);return t},A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_N=(t,e)=>{for(var r in e)rc(t,r,{get:e[r],enumerable:!0})},z_=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vN(e))!B_.call(t,i)&&i!==r&&rc(t,i,{get:()=>e[i],enumerable:!(n=gN(e,i))||n.enumerable});return t},nc=(t,e,r)=>(r=t!=null?hN(yN(t)):{},z_(e||!t||!t.__esModule?rc(r,"default",{value:t,enumerable:!0}):r,t)),xN=t=>z_(rc({},"__esModule",{value:!0}),t),Gr=A((t,e)=>{"use strict";var r=function(){function n(){}return n.info=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.enableDebug&&console.info(n.TAG+i,o)},n.warn=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.disableWarnings||console.warn(n.TAG+i,o)},n.enableDebug=!1,n.disableWarnings=!1,n.disableErrors=!1,n.TAG="ApplicationInsights:",n}();e.exports=r}),V_=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScopeManager=t.OpenTelemetryScopeManagerWrapper=void 0;var r=Os(),n=require("events"),i=function(){function o(){}return o.prototype.active=function(){var s=this,a=r.CorrelationContextManager.getCurrentContext();return e(e({},a),{getValue:function(c){return s._activeSymbol?c===s._activeSymbol?a:!1:(s._activeSymbol=c,a)},setValue:function(){}})},o.prototype.with=function(s,a){var c=s.parentSpanId,u=s.name,l=o._spanToContext(s,c,u);return r.CorrelationContextManager.runWithContext(l,a)()},o.prototype.bind=function(s){return typeof s=="function"?r.CorrelationContextManager.wrapCallback(s):(s instanceof n.EventEmitter&&r.CorrelationContextManager.wrapEmitter(s),s)},o.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},o.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},o._spanToContext=function(s,a,c){var u=a?"|"+s.spanContext().traceId+"."+a+".":s.spanContext().traceId,l=e(e({},s.spanContext()),{traceFlags:s.spanContext().traceFlags}),p=r.CorrelationContextManager.spanToContextObject(l,u,c);return p},o}();t.OpenTelemetryScopeManagerWrapper=i,t.AsyncScopeManager=new i}),wN=A((t,e)=>{t=e.exports=ue;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var v=Array.prototype.slice.call(arguments,0);v.unshift("SEMVER"),console.log.apply(console,v)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var p=c++;a[p]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[p]+")";var g=c++;a[g]="(?:"+a[l]+"|"+a[p]+")";var y=c++;a[y]="(?:-("+a[m]+"(?:\\."+a[m]+")*))";var b=c++;a[b]="(?:-?("+a[g]+"(?:\\."+a[g]+")*))";var x=c++;a[x]="[0-9A-Za-z-]+";var w=c++;a[w]="(?:\\+("+a[x]+"(?:\\."+a[x]+")*))";var C=c++,D="v?"+a[d]+a[y]+"?"+a[w]+"?";a[C]="^"+D+"$";var N="[v=\\s]*"+a[f]+a[b]+"?"+a[w]+"?",M=c++;a[M]="^"+N+"$";var F=c++;a[F]="((?:<|>)?=?)";var Q=c++;a[Q]=a[l]+"|x|X|\\*";var ne=c++;a[ne]=a[u]+"|x|X|\\*";var X=c++;a[X]="[v=\\s]*("+a[ne]+")(?:\\.("+a[ne]+")(?:\\.("+a[ne]+")(?:"+a[y]+")?"+a[w]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[Q]+")(?:\\.("+a[Q]+")(?:\\.("+a[Q]+")(?:"+a[b]+")?"+a[w]+"?)?)?";var ae=c++;a[ae]="^"+a[F]+"\\s*"+a[X]+"$";var ee=c++;a[ee]="^"+a[F]+"\\s*"+a[H]+"$";var xe=c++;a[xe]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var pe=c++;a[pe]="(?:~>?)";var z=c++;a[z]="(\\s*)"+a[pe]+"\\s+",s[z]=new RegExp(a[z],"g");var Z="$1~",te=c++;a[te]="^"+a[pe]+a[X]+"$";var de=c++;a[de]="^"+a[pe]+a[H]+"$";var he=c++;a[he]="(?:\\^)";var Pe=c++;a[Pe]="(\\s*)"+a[he]+"\\s+",s[Pe]=new RegExp(a[Pe],"g");var Te="$1^",Be=c++;a[Be]="^"+a[he]+a[X]+"$";var We=c++;a[We]="^"+a[he]+a[H]+"$";var mt=c++;a[mt]="^"+a[F]+"\\s*("+N+")$|^$";var it=c++;a[it]="^"+a[F]+"\\s*("+D+")$|^$";var ke=c++;a[ke]="(\\s*)"+a[F]+"\\s*("+N+"|"+a[X]+")",s[ke]=new RegExp(a[ke],"g");var It="$1$2$3",jt=c++;a[jt]="^\\s*("+a[X]+")\\s+-\\s+("+a[X]+")\\s*$";var Me=c++;a[Me]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var we=c++;for(a[we]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;t.parse=et;function et(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue)return v;if(typeof v!="string"||v.length>n)return null;var _=h.loose?s[M]:s[C];if(!_.test(v))return null;try{return new ue(v,h)}catch{return null}}t.valid=Ir;function Ir(v,h){var _=et(v,h);return _?_.version:null}t.clean=Jr;function Jr(v,h){var _=et(v.trim().replace(/^[=v]+/,""),h);return _?_.version:null}t.SemVer=ue;function ue(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue){if(v.loose===h.loose)return v;v=v.version}else if(typeof v!="string")throw new TypeError("Invalid Version: "+v);if(v.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ue))return new ue(v,h);r("SemVer",v,h),this.options=h,this.loose=!!h.loose;var _=v.trim().match(h.loose?s[M]:s[C]);if(!_)throw new TypeError("Invalid Version: "+v);if(this.raw=v,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");_[4]?this.prerelease=_[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var P=+R;if(P>=0&&P<i)return P}return R}):this.prerelease=[],this.build=_[5]?_[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(v){return r("SemVer.compare",this.version,this.options,v),v instanceof ue||(v=new ue(v,this.options)),this.compareMain(v)||this.comparePre(v)},ue.prototype.compareMain=function(v){return v instanceof ue||(v=new ue(v,this.options)),ht(this.major,v.major)||ht(this.minor,v.minor)||ht(this.patch,v.patch)},ue.prototype.comparePre=function(v){if(v instanceof ue||(v=new ue(v,this.options)),this.prerelease.length&&!v.prerelease.length)return-1;if(!this.prerelease.length&&v.prerelease.length)return 1;if(!this.prerelease.length&&!v.prerelease.length)return 0;var h=0;do{var _=this.prerelease[h],R=v.prerelease[h];if(r("prerelease compare",h,_,R),_===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(_===void 0)return-1;if(_!==R)return ht(_,R)}while(++h)},ue.prototype.inc=function(v,h){switch(v){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h),this.inc("pre",h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h),this.inc("pre",h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var _=this.prerelease.length;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);_===-1&&this.prerelease.push(0)}h&&(this.prerelease[0]===h?isNaN(this.prerelease[1])&&(this.prerelease=[h,0]):this.prerelease=[h,0]);break;default:throw new Error("invalid increment argument: "+v)}return this.format(),this.raw=this.version,this},t.inc=Lr;function Lr(v,h,_,R){typeof _=="string"&&(R=_,_=void 0);try{return new ue(v,_).inc(h,R).version}catch{return null}}t.diff=Wt;function Wt(v,h){if(Qe(v,h))return null;var _=et(v),R=et(h),P="";if(_.prerelease.length||R.prerelease.length){P="pre";var U="prerelease"}for(var V in _)if((V==="major"||V==="minor"||V==="patch")&&_[V]!==R[V])return P+V;return U}t.compareIdentifiers=ht;var Ht=/^[0-9]+$/;function ht(v,h){var _=Ht.test(v),R=Ht.test(h);return _&&R&&(v=+v,h=+h),v===h?0:_&&!R?-1:R&&!_?1:v<h?-1:1}t.rcompareIdentifiers=nr;function nr(v,h){return ht(h,v)}t.major=Bt;function Bt(v,h){return new ue(v,h).major}t.minor=Mr;function Mr(v,h){return new ue(v,h).minor}t.patch=jr;function jr(v,h){return new ue(v,h).patch}t.compare=lt;function lt(v,h,_){return new ue(v,_).compare(new ue(h,_))}t.compareLoose=Wr;function Wr(v,h){return lt(v,h,!0)}t.rcompare=Zt;function Zt(v,h,_){return lt(h,v,_)}t.sort=q;function q(v,h){return v.sort(function(_,R){return t.compare(_,R,h)})}t.rsort=oe;function oe(v,h){return v.sort(function(_,R){return t.rcompare(_,R,h)})}t.gt=fe;function fe(v,h,_){return lt(v,h,_)>0}t.lt=ve;function ve(v,h,_){return lt(v,h,_)<0}t.eq=Qe;function Qe(v,h,_){return lt(v,h,_)===0}t.neq=tt;function tt(v,h,_){return lt(v,h,_)!==0}t.gte=ot;function ot(v,h,_){return lt(v,h,_)>=0}t.lte=Ye;function Ye(v,h,_){return lt(v,h,_)<=0}t.cmp=qe;function qe(v,h,_,R){switch(h){case"===":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v===_;case"!==":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v!==_;case"":case"=":case"==":return Qe(v,_,R);case"!=":return tt(v,_,R);case">":return fe(v,_,R);case">=":return ot(v,_,R);case"<":return ve(v,_,R);case"<=":return Ye(v,_,R);default:throw new TypeError("Invalid operator: "+h)}}t.Comparator=Re;function Re(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof Re){if(v.loose===!!h.loose)return v;v=v.value}if(!(this instanceof Re))return new Re(v,h);r("comparator",v,h),this.options=h,this.loose=!!h.loose,this.parse(v),this.semver===Ue?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var Ue={};Re.prototype.parse=function(v){var h=this.options.loose?s[mt]:s[it],_=v.match(h);if(!_)throw new TypeError("Invalid comparator: "+v);this.operator=_[1],this.operator==="="&&(this.operator=""),_[2]?this.semver=new ue(_[2],this.options.loose):this.semver=Ue},Re.prototype.toString=function(){return this.value},Re.prototype.test=function(v){return r("Comparator.test",v,this.options.loose),this.semver===Ue?!0:(typeof v=="string"&&(v=new ue(v,this.options)),qe(v,this.operator,this.semver,this.options))},Re.prototype.intersects=function(v,h){if(!(v instanceof Re))throw new TypeError("a Comparator is required");(!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1});var _;if(this.operator==="")return _=new me(v.value,h),I(this.value,_,h);if(v.operator==="")return _=new me(this.value,h),I(v.semver,_,h);var R=(this.operator===">="||this.operator===">")&&(v.operator===">="||v.operator===">"),P=(this.operator==="<="||this.operator==="<")&&(v.operator==="<="||v.operator==="<"),U=this.semver.version===v.semver.version,V=(this.operator===">="||this.operator==="<=")&&(v.operator===">="||v.operator==="<="),ie=qe(this.semver,"<",v.semver,h)&&(this.operator===">="||this.operator===">")&&(v.operator==="<="||v.operator==="<"),le=qe(this.semver,">",v.semver,h)&&(this.operator==="<="||this.operator==="<")&&(v.operator===">="||v.operator===">");return R||P||U&&V||ie||le},t.Range=me;function me(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof me)return v.loose===!!h.loose&&v.includePrerelease===!!h.includePrerelease?v:new me(v.raw,h);if(v instanceof Re)return new me(v.value,h);if(!(this instanceof me))return new me(v,h);if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=v,this.set=v.split(/\s*\|\|\s*/).map(function(_){return this.parseRange(_.trim())},this).filter(function(_){return _.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+v);this.format()}me.prototype.format=function(){return this.range=this.set.map(function(v){return v.join(" ").trim()}).join("||").trim(),this.range},me.prototype.toString=function(){return this.range},me.prototype.parseRange=function(v){var h=this.options.loose;v=v.trim();var _=h?s[Me]:s[jt];v=v.replace(_,L),r("hyphen replace",v),v=v.replace(s[ke],It),r("comparator trim",v,s[ke]),v=v.replace(s[z],Z),v=v.replace(s[Pe],Te),v=v.split(/\s+/).join(" ");var R=h?s[mt]:s[it],P=v.split(" ").map(function(U){return zt(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(P=P.filter(function(U){return!!U.match(R)})),P=P.map(function(U){return new Re(U,this.options)},this),P},me.prototype.intersects=function(v,h){if(!(v instanceof me))throw new TypeError("a Range is required");return this.set.some(function(_){return _.every(function(R){return v.set.some(function(P){return P.every(function(U){return R.intersects(U,h)})})})})},t.toComparators=Ft;function Ft(v,h){return new me(v,h).set.map(function(_){return _.map(function(R){return R.value}).join(" ").trim().split(" ")})}function zt(v,h){return r("comp",v,h),v=J(v,h),r("caret",v),v=yr(v,h),r("tildes",v),v=bt(v,h),r("xrange",v),v=S(v,h),r("stars",v),v}function je(v){return!v||v.toLowerCase()==="x"||v==="*"}function yr(v,h){return v.trim().split(/\s+/).map(function(_){return T(_,h)}).join(" ")}function T(v,h){var _=h.loose?s[de]:s[te];return v.replace(_,function(R,P,U,V,ie){r("tilde",v,R,P,U,V,ie);var le;return je(P)?le="":je(U)?le=">="+P+".0.0 <"+(+P+1)+".0.0":je(V)?le=">="+P+"."+U+".0 <"+P+"."+(+U+1)+".0":ie?(r("replaceTilde pr",ie),le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+(+U+1)+".0"):le=">="+P+"."+U+"."+V+" <"+P+"."+(+U+1)+".0",r("tilde return",le),le})}function J(v,h){return v.trim().split(/\s+/).map(function(_){return Ee(_,h)}).join(" ")}function Ee(v,h){r("caret",v,h);var _=h.loose?s[We]:s[Be];return v.replace(_,function(R,P,U,V,ie){r("caret",v,R,P,U,V,ie);var le;return je(P)?le="":je(U)?le=">="+P+".0.0 <"+(+P+1)+".0.0":je(V)?P==="0"?le=">="+P+"."+U+".0 <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+".0 <"+(+P+1)+".0.0":ie?(r("replaceCaret pr",ie),P==="0"?U==="0"?le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+U+"."+(+V+1):le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+"."+V+"-"+ie+" <"+(+P+1)+".0.0"):(r("no pr"),P==="0"?U==="0"?le=">="+P+"."+U+"."+V+" <"+P+"."+U+"."+(+V+1):le=">="+P+"."+U+"."+V+" <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+"."+V+" <"+(+P+1)+".0.0"),r("caret return",le),le})}function bt(v,h){return r("replaceXRanges",v,h),v.split(/\s+/).map(function(_){return W(_,h)}).join(" ")}function W(v,h){v=v.trim();var _=h.loose?s[ee]:s[ae];return v.replace(_,function(R,P,U,V,ie,le){r("xRange",v,R,P,U,V,ie,le);var Le=je(U),gt=Le||je(V),st=gt||je(ie),Je=st;return P==="="&&Je&&(P=""),Le?P===">"||P==="<"?R="<0.0.0":R="*":P&&Je?(gt&&(V=0),ie=0,P===">"?(P=">=",gt?(U=+U+1,V=0,ie=0):(V=+V+1,ie=0)):P==="<="&&(P="<",gt?U=+U+1:V=+V+1),R=P+U+"."+V+"."+ie):gt?R=">="+U+".0.0 <"+(+U+1)+".0.0":st&&(R=">="+U+"."+V+".0 <"+U+"."+(+V+1)+".0"),r("xRange return",R),R})}function S(v,h){return r("replaceStars",v,h),v.trim().replace(s[we],"")}function L(v,h,_,R,P,U,V,ie,le,Le,gt,st,Je){return je(_)?h="":je(R)?h=">="+_+".0.0":je(P)?h=">="+_+"."+R+".0":h=">="+h,je(le)?ie="":je(Le)?ie="<"+(+le+1)+".0.0":je(gt)?ie="<"+le+"."+(+Le+1)+".0":st?ie="<="+le+"."+Le+"."+gt+"-"+st:ie="<="+ie,(h+" "+ie).trim()}me.prototype.test=function(v){if(!v)return!1;typeof v=="string"&&(v=new ue(v,this.options));for(var h=0;h<this.set.length;h++)if(j(this.set[h],v,this.options))return!0;return!1};function j(v,h,_){for(var R=0;R<v.length;R++)if(!v[R].test(h))return!1;if(h.prerelease.length&&!_.includePrerelease){for(R=0;R<v.length;R++)if(r(v[R].semver),v[R].semver!==Ue&&v[R].semver.prerelease.length>0){var P=v[R].semver;if(P.major===h.major&&P.minor===h.minor&&P.patch===h.patch)return!0}return!1}return!0}t.satisfies=I;function I(v,h,_){try{h=new me(h,_)}catch{return!1}return h.test(v)}t.maxSatisfying=E;function E(v,h,_){var R=null,P=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||P.compare(V)===-1)&&(R=V,P=new ue(R,_))}),R}t.minSatisfying=Y;function Y(v,h,_){var R=null,P=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||P.compare(V)===1)&&(R=V,P=new ue(R,_))}),R}t.minVersion=se;function se(v,h){v=new me(v,h);var _=new ue("0.0.0");if(v.test(_)||(_=new ue("0.0.0-0"),v.test(_)))return _;_=null;for(var R=0;R<v.set.length;++R){var P=v.set[R];P.forEach(function(U){var V=new ue(U.semver.version);switch(U.operator){case">":V.prerelease.length===0?V.patch++:V.prerelease.push(0),V.raw=V.format();case"":case">=":(!_||fe(_,V))&&(_=V);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return _&&v.test(_)?_:null}t.validRange=ze;function ze(v,h){try{return new me(v,h).range||"*"}catch{return null}}t.ltr=Nt;function Nt(v,h,_){return Kt(v,h,"<",_)}t.gtr=xt;function xt(v,h,_){return Kt(v,h,">",_)}t.outside=Kt;function Kt(v,h,_,R){v=new ue(v,R),h=new me(h,R);var P,U,V,ie,le;switch(_){case">":P=fe,U=Ye,V=ve,ie=">",le=">=";break;case"<":P=ve,U=ot,V=fe,ie="<",le="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I(v,h,R))return!1;for(var Le=0;Le<h.set.length;++Le){var gt=h.set[Le],st=null,Je=null;if(gt.forEach(function(Mt){Mt.semver===Ue&&(Mt=new Re(">=0.0.0")),st=st||Mt,Je=Je||Mt,P(Mt.semver,st.semver,R)?st=Mt:V(Mt.semver,Je.semver,R)&&(Je=Mt)}),st.operator===ie||st.operator===le||(!Je.operator||Je.operator===ie)&&U(v,Je.semver)||Je.operator===le&&V(v,Je.semver))return!1}return!0}t.prerelease=Tr;function Tr(v,h){var _=et(v,h);return _&&_.prerelease.length?_.prerelease:null}t.intersects=ir;function ir(v,h,_){return v=new me(v,_),h=new me(h,_),v.intersects(h)}t.coerce=rt;function rt(v){if(v instanceof ue)return v;if(typeof v!="string")return null;var h=v.match(s[xe]);return h==null?null:et(h[1]+"."+(h[2]||"0")+"."+(h[3]||"0"))}}),H_=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePatchingRequire=void 0;var e=require("path"),r=wN(),n=require("module"),i=Object.keys(process.binding("natives")),o=n.prototype.require;function s(a){var c={};return function(u){var l=o.apply(this,arguments);if(a[u]){var p=n._resolveFilename(u,this);if(c.hasOwnProperty(p))return c[p];var d=void 0;if(i.indexOf(u)<0)try{d=o.call(this,e.join(u,"package.json")).version}catch{return l}else d=process.version.substring(1);var f=d.indexOf("-");f>=0&&(d=d.substring(0,f));for(var m=l,g=0,y=a[u];g<y.length;g++){var b=y[g];r.satisfies(d,b.versionSpecifier)&&(m=b.patch(m,p))}return c[p]=m}return l}}t.makePatchingRequire=s}),CN=A((t,e)=>{e.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}),Or=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=t.makePatchingRequire=void 0;var e=H_(),r=H_();Object.defineProperty(t,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var n=function(s){return!0},i=function(){function s(){this.version=CN().version,this.subscribers={},this.contextPreservationFunction=function(a){return a},this.knownPatches={},this.currentlyPublishing=!1}return s.prototype.shouldPublish=function(a){var c=this.subscribers[a];return c?c.some(function(u){var l=u.filter;return!l||l(!1)}):!1},s.prototype.publish=function(a,c){if(!this.currentlyPublishing){var u=this.subscribers[a];if(u){var l={timestamp:Date.now(),data:c};this.currentlyPublishing=!0,u.forEach(function(p){var d=p.listener,f=p.filter;try{f&&f(!0)&&d(l)}catch{}}),this.currentlyPublishing=!1}}},s.prototype.subscribe=function(a,c,u){u===void 0&&(u=n),this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push({listener:c,filter:u})},s.prototype.unsubscribe=function(a,c,u){u===void 0&&(u=n);var l=this.subscribers[a];if(l){for(var p=0;p<l.length;++p)if(l[p].listener===c&&l[p].filter===u)return l.splice(p,1),!0}return!1},s.prototype.reset=function(){var a=this;this.subscribers={},this.contextPreservationFunction=function(c){return c},Object.getOwnPropertyNames(this.knownPatches).forEach(function(c){return delete a.knownPatches[c]})},s.prototype.bindToContext=function(a){return this.contextPreservationFunction(a)},s.prototype.addContextPreservation=function(a){var c=this.contextPreservationFunction;this.contextPreservationFunction=function(u){return a(c(u))}},s.prototype.registerMonkeyPatch=function(a,c){this.knownPatches[a]||(this.knownPatches[a]=[]),this.knownPatches[a].push(c)},s.prototype.getPatchesObject=function(){return this.knownPatches},s}();global.diagnosticsSource||(global.diagnosticsSource=new i,o=require("module"),o.prototype.require=e.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var o;t.channel=global.diagnosticsSource}),EN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),SN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis=typeof globalThis=="object"?globalThis:global}),TN=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(SN(),t)}),RN=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(TN(),t)}),W_=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.0.3"}),PN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;var e=W_(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(i){var o=new Set([i]),s=new Set,a=i.match(r);if(!a)return function(){return!1};var c={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(c.prerelease!=null)return function(p){return p===i};function u(p){return s.add(p),!1}function l(p){return o.add(p),!0}return function(p){if(o.has(p))return!0;if(s.has(p))return!1;var d=p.match(r);if(!d)return u(p);var f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return f.prerelease!=null||c.major!==f.major?u(p):c.major===0?c.minor===f.minor&&c.patch<=f.patch?l(p):u(p):c.minor<=f.minor?l(p):u(p)}}t._makeCompatibilityCheck=n,t.isCompatible=n(e.VERSION)}),ic=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;var e=RN(),r=W_(),n=PN(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=e._globalThis;function a(l,p,d,f){var m;f===void 0&&(f=!1);var g=s[o]=(m=s[o])!==null&&m!==void 0?m:{version:r.VERSION};if(!f&&g[l]){var y=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+l);return d.error(y.stack||y.message),!1}if(g.version!==r.VERSION){var y=new Error("@opentelemetry/api: All API registration versions must match");return d.error(y.stack||y.message),!1}return g[l]=p,d.debug("@opentelemetry/api: Registered a global for "+l+" v"+r.VERSION+"."),!0}t.registerGlobal=a;function c(l){var p,d,f=(p=s[o])===null||p===void 0?void 0:p.version;if(!(!f||!n.isCompatible(f)))return(d=s[o])===null||d===void 0?void 0:d[l]}t.getGlobal=c;function u(l,p){p.debug("@opentelemetry/api: Unregistering a global for "+l+" v"+r.VERSION+".");var d=s[o];d&&delete d[l]}t.unregisterGlobal=u}),DN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;var e=ic(),r=function(){function i(o){this._namespace=o.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("debug",this._namespace,o)},i.prototype.error=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("error",this._namespace,o)},i.prototype.info=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("info",this._namespace,o)},i.prototype.warn=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("warn",this._namespace,o)},i.prototype.verbose=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("verbose",this._namespace,o)},i}();t.DiagComponentLogger=r;function n(i,o,s){var a=e.getGlobal("diag");if(a)return s.unshift(o),a[i].apply(a,s)}}),ff=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(e=t.DiagLogLevel||(t.DiagLogLevel={}))}),IN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;var e=ff();function r(n,i){n<e.DiagLogLevel.NONE?n=e.DiagLogLevel.NONE:n>e.DiagLogLevel.ALL&&(n=e.DiagLogLevel.ALL),i=i||{};function o(s,a){var c=i[s];return typeof c=="function"&&n>=a?c.bind(i):function(){}}return{error:o("error",e.DiagLogLevel.ERROR),warn:o("warn",e.DiagLogLevel.WARN),info:o("info",e.DiagLogLevel.INFO),debug:o("debug",e.DiagLogLevel.DEBUG),verbose:o("verbose",e.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=r}),oc=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;var e=DN(),r=IN(),n=ff(),i=ic(),o="diag",s=function(){function a(){function c(l){return function(){var p=i.getGlobal("diag");if(p)return p[l].apply(p,arguments)}}var u=this;u.setLogger=function(l,p){var d,f;if(p===void 0&&(p=n.DiagLogLevel.INFO),l===u){var m=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return u.error((d=m.stack)!==null&&d!==void 0?d:m.message),!1}var g=i.getGlobal("diag"),y=r.createLogLevelDiagLogger(p,l);if(g){var b=(f=new Error().stack)!==null&&f!==void 0?f:"<failed to generate stacktrace>";g.warn("Current logger will be overwritten from "+b),y.warn("Current logger will overwrite one already registered from "+b)}return i.registerGlobal("diag",y,u,!0)},u.disable=function(){i.unregisterGlobal(o,u)},u.createComponentLogger=function(l){return new e.DiagComponentLogger(l)},u.verbose=c("verbose"),u.debug=c("debug"),u.info=c("info"),u.warn=c("warn"),u.error=c("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}();t.DiagAPI=s}),ON=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;var e=function(){function r(n){this._entries=n?new Map(n):new Map}return r.prototype.getEntry=function(n){var i=this._entries.get(n);if(i)return Object.assign({},i)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(n){var i=n[0],o=n[1];return[i,o]})},r.prototype.setEntry=function(n,i){var o=new r(this._entries);return o._entries.set(n,i),o},r.prototype.removeEntry=function(n){var i=new r(this._entries);return i._entries.delete(n),i},r.prototype.removeEntries=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=new r(this._entries),s=0,a=n;s<a.length;s++){var c=a[s];o._entries.delete(c)}return o},r.prototype.clear=function(){return new r},r}();t.BaggageImpl=e}),AN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}),G_=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;var e=oc(),r=ON(),n=AN(),i=e.DiagAPI.instance();function o(a){return a===void 0&&(a={}),new r.BaggageImpl(new Map(Object.entries(a)))}t.createBaggage=o;function s(a){return typeof a!="string"&&(i.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return a}}}t.baggageEntryMetadataFromString=s}),kN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),NN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),MN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;var e=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],r=function(){function n(){function i(s){return function(){var a=arguments;if(console){var c=console[s];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,a)}}}for(var o=0;o<e.length;o++)this[e[o].n]=i(e[o].c)}return n}();t.DiagConsoleLogger=r}),qN=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(MN(),t),r(ff(),t)}),K_=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get:function(e,r){if(e!=null)return e[r]},keys:function(e){return e==null?[]:Object.keys(e)}},t.defaultTextMapSetter={set:function(e,r,n){e!=null&&(e[r]=n)}}}),LN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),jN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),qu=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0;function e(n){return Symbol.for(n)}t.createContextKey=e;var r=function(){function n(i){var o=this;o._currentContext=i?new Map(i):new Map,o.getValue=function(s){return o._currentContext.get(s)},o.setValue=function(s,a){var c=new n(o._currentContext);return c._currentContext.set(s,a),c},o.deleteValue=function(s){var a=new n(o._currentContext);return a._currentContext.delete(s),a}}return n}();t.ROOT_CONTEXT=new r}),FN=A(t=>{"use strict";var e=t&&t.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;var r=qu(),n=function(){function i(){}return i.prototype.active=function(){return r.ROOT_CONTEXT},i.prototype.with=function(o,s,a){for(var c=[],u=3;u<arguments.length;u++)c[u-3]=arguments[u];return s.call.apply(s,e([a],c))},i.prototype.bind=function(o,s){return s},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}();t.NoopContextManager=n}),X_=A(t=>{"use strict";var e=t&&t.__spreadArray||function(c,u){for(var l=0,p=u.length,d=c.length;l<p;l++,d++)c[d]=u[l];return c};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;var r=FN(),n=ic(),i=oc(),o="context",s=new r.NoopContextManager,a=function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(u){return n.registerGlobal(o,u,i.DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(u,l,p){for(var d,f=[],m=3;m<arguments.length;m++)f[m-3]=arguments[m];return(d=this._getContextManager()).with.apply(d,e([u,l,p],f))},c.prototype.bind=function(u,l){return this._getContextManager().bind(u,l)},c.prototype._getContextManager=function(){return n.getGlobal(o)||s},c.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},c}();t.ContextAPI=a}),Q_=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(e=t.TraceFlags||(t.TraceFlags={}))}),mf=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;var e=Q_();t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:e.TraceFlags.NONE}}),hf=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;var e=mf(),r=function(){function n(i){i===void 0&&(i=e.INVALID_SPAN_CONTEXT),this._spanContext=i}return n.prototype.spanContext=function(){return this._spanContext},n.prototype.setAttribute=function(i,o){return this},n.prototype.setAttributes=function(i){return this},n.prototype.addEvent=function(i,o){return this},n.prototype.setStatus=function(i){return this},n.prototype.updateName=function(i){return this},n.prototype.end=function(i){},n.prototype.isRecording=function(){return!1},n.prototype.recordException=function(i,o){},n}();t.NonRecordingSpan=r}),Y_=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getSpan=void 0;var e=qu(),r=hf(),n=e.createContextKey("OpenTelemetry Context Key SPAN");function i(u){return u.getValue(n)||void 0}t.getSpan=i;function o(u,l){return u.setValue(n,l)}t.setSpan=o;function s(u){return u.deleteValue(n)}t.deleteSpan=s;function a(u,l){return o(u,new r.NonRecordingSpan(l))}t.setSpanContext=a;function c(u){var l;return(l=i(u))===null||l===void 0?void 0:l.spanContext()}t.getSpanContext=c}),gf=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;var e=mf(),r=hf(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(u){return n.test(u)&&u!==e.INVALID_TRACEID}t.isValidTraceId=o;function s(u){return i.test(u)&&u!==e.INVALID_SPANID}t.isValidSpanId=s;function a(u){return o(u.traceId)&&s(u.spanId)}t.isSpanContextValid=a;function c(u){return new r.NonRecordingSpan(u)}t.wrapSpanContext=c}),Z_=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;var e=X_(),r=Y_(),n=hf(),i=gf(),o=e.ContextAPI.getInstance(),s=function(){function c(){}return c.prototype.startSpan=function(u,l,p){var d=!!l?.root;if(d)return new n.NonRecordingSpan;var f=p&&r.getSpanContext(p);return a(f)&&i.isSpanContextValid(f)?new n.NonRecordingSpan(f):new n.NonRecordingSpan},c.prototype.startActiveSpan=function(u,l,p,d){var f,m,g;if(!(arguments.length<2)){arguments.length===2?g=l:arguments.length===3?(f=l,g=p):(f=l,m=p,g=d);var y=m??o.active(),b=this.startSpan(u,f,y),x=r.setSpan(y,b);return o.with(x,g,void 0,b)}},c}();t.NoopTracer=s;function a(c){return typeof c=="object"&&typeof c.spanId=="string"&&typeof c.traceId=="string"&&typeof c.traceFlags=="number"}}),J_=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;var e=Z_(),r=new e.NoopTracer,n=function(){function i(o,s,a){this._provider=o,this.name=s,this.version=a}return i.prototype.startSpan=function(o,s,a){return this._getTracer().startSpan(o,s,a)},i.prototype.startActiveSpan=function(o,s,a,c){var u=this._getTracer();return Reflect.apply(u.startActiveSpan,u,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var o=this._provider.getDelegateTracer(this.name,this.version);return o?(this._delegate=o,this._delegate):r},i}();t.ProxyTracer=n}),UN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;var e=Z_(),r=function(){function n(){}return n.prototype.getTracer=function(i,o){return new e.NoopTracer},n}();t.NoopTracerProvider=r}),ex=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;var e=J_(),r=UN(),n=new r.NoopTracerProvider,i=function(){function o(){}return o.prototype.getTracer=function(s,a){var c;return(c=this.getDelegateTracer(s,a))!==null&&c!==void 0?c:new e.ProxyTracer(this,s,a)},o.prototype.getDelegate=function(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n},o.prototype.setDelegate=function(s){this._delegate=s},o.prototype.getDelegateTracer=function(s,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,a)},o}();t.ProxyTracerProvider=i}),$N=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),HN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0;var e;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(e=t.SamplingDecision||(t.SamplingDecision={}))}),BN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),zN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0;var e;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(e=t.SpanKind||(t.SpanKind={}))}),VN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),WN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),GN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0;var e;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(e=t.SpanStatusCode||(t.SpanStatusCode={}))}),KN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),XN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),QN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),YN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),ZN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;var e=ic(),r=ex(),n=gf(),i=Y_(),o=oc(),s="trace",a=function(){function c(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(u){var l=e.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return l&&this._proxyTracerProvider.setDelegate(u),l},c.prototype.getTracerProvider=function(){return e.getGlobal(s)||this._proxyTracerProvider},c.prototype.getTracer=function(u,l){return this.getTracerProvider().getTracer(u,l)},c.prototype.disable=function(){e.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},c}();t.TraceAPI=a}),JN=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;var e=function(){function r(){}return r.prototype.inject=function(n,i){},r.prototype.extract=function(n,i){return n},r.prototype.fields=function(){return[]},r}();t.NoopTextMapPropagator=e}),e1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getBaggage=void 0;var e=qu(),r=e.createContextKey("OpenTelemetry Baggage Key");function n(s){return s.getValue(r)||void 0}t.getBaggage=n;function i(s,a){return s.setValue(r,a)}t.setBaggage=i;function o(s){return s.deleteValue(r)}t.deleteBaggage=o}),t1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;var e=ic(),r=JN(),n=K_(),i=e1(),o=G_(),s=oc(),a="propagation",c=new r.NoopTextMapPropagator,u=function(){function l(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return l.getInstance=function(){return this._instance||(this._instance=new l),this._instance},l.prototype.setGlobalPropagator=function(p){return e.registerGlobal(a,p,s.DiagAPI.instance())},l.prototype.inject=function(p,d,f){return f===void 0&&(f=n.defaultTextMapSetter),this._getGlobalPropagator().inject(p,d,f)},l.prototype.extract=function(p,d,f){return f===void 0&&(f=n.defaultTextMapGetter),this._getGlobalPropagator().extract(p,d,f)},l.prototype.fields=function(){return this._getGlobalPropagator().fields()},l.prototype.disable=function(){e.unregisterGlobal(a,s.DiagAPI.instance())},l.prototype._getGlobalPropagator=function(){return e.getGlobal(a)||c},l}();t.PropagationAPI=u}),ar=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(l,p,d,f){f===void 0&&(f=d),Object.defineProperty(l,f,{enumerable:!0,get:function(){return p[d]}})}:function(l,p,d,f){f===void 0&&(f=d),l[f]=p[d]}),r=t&&t.__exportStar||function(l,p){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(p,d)&&e(p,l,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.diag=t.propagation=t.trace=t.context=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=t.isValidSpanId=t.isValidTraceId=t.isSpanContextValid=t.baggageEntryMetadataFromString=void 0,r(EN(),t);var n=G_();Object.defineProperty(t,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(kN(),t),r(NN(),t),r(qN(),t),r(K_(),t),r(LN(),t),r(jN(),t),r(J_(),t),r(ex(),t),r($N(),t),r(HN(),t),r(BN(),t),r(zN(),t),r(VN(),t),r(WN(),t),r(GN(),t),r(Q_(),t),r(KN(),t),r(XN(),t),r(QN(),t);var i=gf();Object.defineProperty(t,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(t,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(t,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=mf();Object.defineProperty(t,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(t,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(t,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r(qu(),t),r(YN(),t);var s=X_();t.context=s.ContextAPI.getInstance();var a=ZN();t.trace=a.TraceAPI.getInstance();var c=t1();t.propagation=c.PropagationAPI.getInstance();var u=oc();t.diag=u.DiagAPI.instance(),t.default={trace:t.trace,context:t.context,propagation:t.propagation,diag:t.diag}}),vf=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTracingSuppressed=t.unsuppressTracing=t.suppressTracing=void 0;var e=ar(),r=e.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function n(s){return s.setValue(r,!0)}t.suppressTracing=n;function i(s){return s.deleteValue(r)}t.unsuppressTracing=i;function o(s){return s.getValue(r)===!0}t.isTracingSuppressed=o}),tx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BAGGAGE_MAX_TOTAL_LENGTH=t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=t.BAGGAGE_MAX_NAME_VALUE_PAIRS=t.BAGGAGE_HEADER=t.BAGGAGE_ITEMS_SEPARATOR=t.BAGGAGE_PROPERTIES_SEPARATOR=t.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,t.BAGGAGE_KEY_PAIR_SEPARATOR="=",t.BAGGAGE_PROPERTIES_SEPARATOR=";",t.BAGGAGE_ITEMS_SEPARATOR=",",t.BAGGAGE_HEADER="baggage",t.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,t.BAGGAGE_MAX_TOTAL_LENGTH=8192}),rx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKeyPairsIntoRecord=t.parsePairKeyValue=t.getKeyPairs=t.serializeKeyPairs=void 0;var e=ar(),r=tx(),n=a=>a.reduce((c,u)=>{let l=`${c}${c!==""?r.BAGGAGE_ITEMS_SEPARATOR:""}${u}`;return l.length>r.BAGGAGE_MAX_TOTAL_LENGTH?c:l},"");t.serializeKeyPairs=n;var i=a=>a.getAllEntries().map(([c,u])=>`${encodeURIComponent(c)}=${encodeURIComponent(u.value)}`);t.getKeyPairs=i;var o=a=>{let c=a.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(c.length<=0)return;let u=c.shift();if(!u)return;let l=u.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(l.length!==2)return;let p=decodeURIComponent(l[0].trim()),d=decodeURIComponent(l[1].trim()),f;return c.length>0&&(f=e.baggageEntryMetadataFromString(c.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:p,value:d,metadata:f}};t.parsePairKeyValue=o;var s=a=>typeof a!="string"||a.length===0?{}:a.split(r.BAGGAGE_ITEMS_SEPARATOR).map(c=>t.parsePairKeyValue(c)).filter(c=>c!==void 0&&c.value.length>0).reduce((c,u)=>(c[u.key]=u.value,c),{});t.parseKeyPairsIntoRecord=s}),r1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpBaggagePropagator=void 0;var e=ar(),r=vf(),n=tx(),i=rx(),o=class{inject(s,a,c){let u=e.propagation.getBaggage(s);if(!u||r.isTracingSuppressed(s))return;let l=i.getKeyPairs(u).filter(d=>d.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),p=i.serializeKeyPairs(l);p.length>0&&c.set(a,n.BAGGAGE_HEADER,p)}extract(s,a,c){let u=c.get(a,n.BAGGAGE_HEADER);if(!u)return s;let l={};return u.length===0||(u.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach(p=>{let d=i.parsePairKeyValue(p);if(d){let f={value:d.value};d.metadata&&(f.metadata=d.metadata),l[d.key]=f}}),Object.entries(l).length===0)?s:e.propagation.setBaggage(s,e.propagation.createBaggage(l))}fields(){return[n.BAGGAGE_HEADER]}};t.HttpBaggagePropagator=o}),n1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributeValue=t.sanitizeAttributes=void 0;function e(o){let s={};if(o==null||typeof o!="object")return s;for(let[a,c]of Object.entries(o))r(c)&&(Array.isArray(c)?s[a]=c.slice():s[a]=c);return s}t.sanitizeAttributes=e;function r(o){return o==null?!0:Array.isArray(o)?n(o):i(o)}t.isAttributeValue=r;function n(o){let s;for(let a of o)if(a!=null){if(!s){if(i(a)){s=typeof a;continue}return!1}if(typeof a!==s)return!1}return!0}function i(o){switch(typeof o){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}),nx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggingErrorHandler=void 0;var e=ar();function r(){return o=>{e.diag.error(n(o))}}t.loggingErrorHandler=r;function n(o){return typeof o=="string"?o:JSON.stringify(i(o))}function i(o){let s={},a=o;for(;a!==null;)Object.getOwnPropertyNames(a).forEach(c=>{if(s[c])return;let u=a[c];u&&(s[c]=String(u))}),a=Object.getPrototypeOf(a);return s}}),ix=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalErrorHandler=t.setGlobalErrorHandler=void 0;var e=nx(),r=e.loggingErrorHandler();function n(o){r=o}t.setGlobalErrorHandler=n;var i=o=>{try{r(o)}catch{}};t.globalErrorHandler=i}),ox=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TracesSamplerValues=void 0;var e;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(e=t.TracesSamplerValues||(t.TracesSamplerValues={}))}),sx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvironment=t.DEFAULT_ENVIRONMENT=void 0;var e=ar(),r=ox(),n=",",i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(f){return i.indexOf(f)>-1}var s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(f){return s.indexOf(f)>-1}t.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:e.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function c(f,m,g,y=-1/0,b=1/0){if(typeof g[f]<"u"){let x=Number(g[f]);isNaN(x)||(x<y?m[f]=y:x>b?m[f]=b:m[f]=x)}}function u(f,m,g,y=n){let b=g[f];typeof b=="string"&&(m[f]=b.split(y).map(x=>x.trim()))}var l={ALL:e.DiagLogLevel.ALL,VERBOSE:e.DiagLogLevel.VERBOSE,DEBUG:e.DiagLogLevel.DEBUG,INFO:e.DiagLogLevel.INFO,WARN:e.DiagLogLevel.WARN,ERROR:e.DiagLogLevel.ERROR,NONE:e.DiagLogLevel.NONE};function p(f,m,g){let y=g[f];if(typeof y=="string"){let b=l[y.toUpperCase()];b!=null&&(m[f]=b)}}function d(f){let m={};for(let g in t.DEFAULT_ENVIRONMENT){let y=g;switch(y){case"OTEL_LOG_LEVEL":p(y,m,f);break;default:if(o(y))c(y,m,f);else if(a(y))u(y,m,f);else{let b=f[y];typeof b<"u"&&b!==null&&(m[y]=String(b))}}}return m}t.parseEnvironment=d}),i1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=void 0;var e=require("os"),r=sx();function n(){let i=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:e.hostname()},r.DEFAULT_ENVIRONMENT,i)}t.getEnv=n}),o1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBase64=void 0;function e(r){let n=r.length,i="";for(let o=0;o<n;o+=2){let s=r.substring(o,o+2),a=parseInt(s,16);i+=String.fromCharCode(a)}return Buffer.from(i,"ascii").toString("base64")}t.hexToBase64=e}),s1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomIdGenerator=void 0;var e=8,r=16,n=class{constructor(){this.generateTraceId=o(r),this.generateSpanId=o(e)}};t.RandomIdGenerator=n;var i=Buffer.allocUnsafe(r);function o(s){return function(){for(let a=0;a<s/4;a++)i.writeUInt32BE(Math.random()*2**32>>>0,a*4);for(let a=0;a<s&&!(i[a]>0);a++)a===s-1&&(i[s-1]=1);return i.toString("hex",0,s)}}}),a1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.otperformance=void 0;var e=require("perf_hooks");t.otperformance=e.performance}),df=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.23.0"}),c1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcGrpcStatusCodeValues=t.MessagingOperationValues=t.MessagingDestinationKindValues=t.HttpFlavorValues=t.NetTransportValues=t.FaasInvokedProviderValues=t.FaasDocumentOperationValues=t.FaasTriggerValues=t.DbCassandraConsistencyLevelValues=t.DbSystemValues=t.SemanticAttributes=void 0,t.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var e;(function(p){p.OTHER_SQL="other_sql",p.MSSQL="mssql",p.MYSQL="mysql",p.ORACLE="oracle",p.DB2="db2",p.POSTGRESQL="postgresql",p.REDSHIFT="redshift",p.HIVE="hive",p.CLOUDSCAPE="cloudscape",p.HSQLDB="hsqldb",p.PROGRESS="progress",p.MAXDB="maxdb",p.HANADB="hanadb",p.INGRES="ingres",p.FIRSTSQL="firstsql",p.EDB="edb",p.CACHE="cache",p.ADABAS="adabas",p.FIREBIRD="firebird",p.DERBY="derby",p.FILEMAKER="filemaker",p.INFORMIX="informix",p.INSTANTDB="instantdb",p.INTERBASE="interbase",p.MARIADB="mariadb",p.NETEZZA="netezza",p.PERVASIVE="pervasive",p.POINTBASE="pointbase",p.SQLITE="sqlite",p.SYBASE="sybase",p.TERADATA="teradata",p.VERTICA="vertica",p.H2="h2",p.COLDFUSION="coldfusion",p.CASSANDRA="cassandra",p.HBASE="hbase",p.MONGODB="mongodb",p.REDIS="redis",p.COUCHBASE="couchbase",p.COUCHDB="couchdb",p.COSMOSDB="cosmosdb",p.DYNAMODB="dynamodb",p.NEO4J="neo4j",p.GEODE="geode",p.ELASTICSEARCH="elasticsearch",p.MEMCACHED="memcached",p.COCKROACHDB="cockroachdb"})(e=t.DbSystemValues||(t.DbSystemValues={}));var r;(function(p){p.ALL="all",p.EACH_QUORUM="each_quorum",p.QUORUM="quorum",p.LOCAL_QUORUM="local_quorum",p.ONE="one",p.TWO="two",p.THREE="three",p.LOCAL_ONE="local_one",p.ANY="any",p.SERIAL="serial",p.LOCAL_SERIAL="local_serial"})(r=t.DbCassandraConsistencyLevelValues||(t.DbCassandraConsistencyLevelValues={}));var n;(function(p){p.DATASOURCE="datasource",p.HTTP="http",p.PUBSUB="pubsub",p.TIMER="timer",p.OTHER="other"})(n=t.FaasTriggerValues||(t.FaasTriggerValues={}));var i;(function(p){p.INSERT="insert",p.EDIT="edit",p.DELETE="delete"})(i=t.FaasDocumentOperationValues||(t.FaasDocumentOperationValues={}));var o;(function(p){p.AWS="aws",p.AZURE="azure",p.GCP="gcp"})(o=t.FaasInvokedProviderValues||(t.FaasInvokedProviderValues={}));var s;(function(p){p.IP_TCP="ip_tcp",p.IP_UDP="ip_udp",p.IP="ip",p.UNIX="unix",p.PIPE="pipe",p.INPROC="inproc",p.OTHER="other"})(s=t.NetTransportValues||(t.NetTransportValues={}));var a;(function(p){p.HTTP_1_0="1.0",p.HTTP_1_1="1.1",p.HTTP_2_0="2.0",p.SPDY="SPDY",p.QUIC="QUIC"})(a=t.HttpFlavorValues||(t.HttpFlavorValues={}));var c;(function(p){p.QUEUE="queue",p.TOPIC="topic"})(c=t.MessagingDestinationKindValues||(t.MessagingDestinationKindValues={}));var u;(function(p){p.RECEIVE="receive",p.PROCESS="process"})(u=t.MessagingOperationValues||(t.MessagingOperationValues={}));var l;(function(p){p[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(l=t.RpcGrpcStatusCodeValues||(t.RpcGrpcStatusCodeValues={}))}),u1=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(c1(),t)}),l1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetrySdkLanguageValues=t.OsTypeValues=t.HostArchValues=t.AwsEcsLaunchtypeValues=t.CloudPlatformValues=t.CloudProviderValues=t.ResourceAttributes=void 0,t.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var e;(function(a){a.AWS="aws",a.AZURE="azure",a.GCP="gcp"})(e=t.CloudProviderValues||(t.CloudProviderValues={}));var r;(function(a){a.AWS_EC2="aws_ec2",a.AWS_ECS="aws_ecs",a.AWS_EKS="aws_eks",a.AWS_LAMBDA="aws_lambda",a.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",a.AZURE_VM="azure_vm",a.AZURE_CONTAINER_INSTANCES="azure_container_instances",a.AZURE_AKS="azure_aks",a.AZURE_FUNCTIONS="azure_functions",a.AZURE_APP_SERVICE="azure_app_service",a.GCP_COMPUTE_ENGINE="gcp_compute_engine",a.GCP_CLOUD_RUN="gcp_cloud_run",a.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",a.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",a.GCP_APP_ENGINE="gcp_app_engine"})(r=t.CloudPlatformValues||(t.CloudPlatformValues={}));var n;(function(a){a.EC2="ec2",a.FARGATE="fargate"})(n=t.AwsEcsLaunchtypeValues||(t.AwsEcsLaunchtypeValues={}));var i;(function(a){a.AMD64="amd64",a.ARM32="arm32",a.ARM64="arm64",a.IA64="ia64",a.PPC32="ppc32",a.PPC64="ppc64",a.X86="x86"})(i=t.HostArchValues||(t.HostArchValues={}));var o;(function(a){a.WINDOWS="windows",a.LINUX="linux",a.DARWIN="darwin",a.FREEBSD="freebsd",a.NETBSD="netbsd",a.OPENBSD="openbsd",a.DRAGONFLYBSD="dragonflybsd",a.HPUX="hpux",a.AIX="aix",a.SOLARIS="solaris",a.Z_OS="z_os"})(o=t.OsTypeValues||(t.OsTypeValues={}));var s;(function(a){a.CPP="cpp",a.DOTNET="dotnet",a.ERLANG="erlang",a.GO="go",a.JAVA="java",a.NODEJS="nodejs",a.PHP="php",a.PYTHON="python",a.RUBY="ruby",a.WEBJS="webjs"})(s=t.TelemetrySdkLanguageValues||(t.TelemetrySdkLanguageValues={}))}),p1=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(l1(),t)}),sc=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(u1(),t),r(p1(),t)}),d1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_INFO=void 0;var e=df(),r=sc();t.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:e.VERSION}}),f1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unrefTimer=void 0;function e(r){r.unref()}t.unrefTimer=e}),m1=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(i1(),t),r(o1(),t),r(s1(),t),r(a1(),t),r(d1(),t),r(f1(),t)}),ax=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(m1(),t)}),h1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTimeInput=t.isTimeInputHrTime=t.hrTimeToMicroseconds=t.hrTimeToMilliseconds=t.hrTimeToNanoseconds=t.hrTimeToTimeStamp=t.hrTimeDuration=t.timeInputToHrTime=t.hrTime=void 0;var e=ax(),r=9,n=Math.pow(10,r);function i(g){let y=g/1e3,b=Math.trunc(y),x=Number((y-b).toFixed(r))*n;return[b,x]}function o(){let g=e.otperformance.timeOrigin;if(typeof g!="number"){let y=e.otperformance;g=y.timing&&y.timing.fetchStart}return g}function s(g){let y=i(o()),b=i(typeof g=="number"?g:e.otperformance.now()),x=y[0]+b[0],w=y[1]+b[1];return w>n&&(w-=n,x+=1),[x,w]}t.hrTime=s;function a(g){if(f(g))return g;if(typeof g=="number")return g<o()?s(g):i(g);if(g instanceof Date)return i(g.getTime());throw TypeError("Invalid input type")}t.timeInputToHrTime=a;function c(g,y){let b=y[0]-g[0],x=y[1]-g[1];return x<0&&(b-=1,x+=n),[b,x]}t.hrTimeDuration=c;function u(g){let y=r,b=`${"0".repeat(y)}${g[1]}Z`,x=b.substr(b.length-y-1);return new Date(g[0]*1e3).toISOString().replace("000Z",x)}t.hrTimeToTimeStamp=u;function l(g){return g[0]*n+g[1]}t.hrTimeToNanoseconds=l;function p(g){return Math.round(g[0]*1e3+g[1]/1e6)}t.hrTimeToMilliseconds=p;function d(g){return Math.round(g[0]*1e6+g[1]/1e3)}t.hrTimeToMicroseconds=d;function f(g){return Array.isArray(g)&&g.length===2&&typeof g[0]=="number"&&typeof g[1]=="number"}t.isTimeInputHrTime=f;function m(g){return f(g)||typeof g=="number"||g instanceof Date}t.isTimeInput=m}),g1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),v1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExportResultCode=void 0;var e;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(e=t.ExportResultCode||(t.ExportResultCode={}))}),y1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositePropagator=void 0;var e=ar(),r=class{constructor(n={}){var i;this._propagators=(i=n.propagators)!==null&&i!==void 0?i:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(n,i,o){for(let s of this._propagators)try{s.inject(n,i,o)}catch(a){e.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(n,i,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,i,o)}catch(c){e.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${c.message}`)}return s},n)}fields(){return this._fields.slice()}};t.CompositePropagator=r}),b1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;var e="[_0-9a-z-*/]",r=`[a-z]${e}{0,255}`,n=`[a-z0-9]${e}{0,240}@[a-z]${e}{0,13}`,i=new RegExp(`^(?:${r}|${n})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(u){return i.test(u)}t.validateKey=a;function c(u){return o.test(u)&&!s.test(u)}t.validateValue=c}),cx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceState=void 0;var e=b1(),r=32,n=512,i=",",o="=",s=class{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){let u=this._clone();return u._internalState.has(a)&&u._internalState.delete(a),u._internalState.set(a,c),u}unset(a){let c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+o+this.get(c)),a),[]).join(i)}_parse(a){a.length>n||(this._internalState=a.split(i).reverse().reduce((c,u)=>{let l=u.trim(),p=l.indexOf(o);if(p!==-1){let d=l.slice(0,p),f=l.slice(p+1,u.length);e.validateKey(d)&&e.validateValue(f)&&c.set(d,f)}return c},new Map),this._internalState.size>r&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,r))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new s;return a._internalState=new Map(this._internalState),a}};t.TraceState=s}),_1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpTraceContextPropagator=t.parseTraceParent=t.TRACE_STATE_HEADER=t.TRACE_PARENT_HEADER=void 0;var e=ar(),r=vf(),n=cx();t.TRACE_PARENT_HEADER="traceparent",t.TRACE_STATE_HEADER="tracestate";var i="00",o="(?!ff)[\\da-f]{2}",s="(?![0]{32})[\\da-f]{32}",a="(?![0]{16})[\\da-f]{16}",c="[\\da-f]{2}",u=new RegExp(`^\\s?(${o})-(${s})-(${a})-(${c})(-.*)?\\s?$`);function l(d){let f=u.exec(d);return!f||f[1]==="00"&&f[5]?null:{traceId:f[2],spanId:f[3],traceFlags:parseInt(f[4],16)}}t.parseTraceParent=l;var p=class{inject(d,f,m){let g=e.trace.getSpanContext(d);if(!g||r.isTracingSuppressed(d)||!e.isSpanContextValid(g))return;let y=`${i}-${g.traceId}-${g.spanId}-0${Number(g.traceFlags||e.TraceFlags.NONE).toString(16)}`;m.set(f,t.TRACE_PARENT_HEADER,y),g.traceState&&m.set(f,t.TRACE_STATE_HEADER,g.traceState.serialize())}extract(d,f,m){let g=m.get(f,t.TRACE_PARENT_HEADER);if(!g)return d;let y=Array.isArray(g)?g[0]:g;if(typeof y!="string")return d;let b=l(y);if(!b)return d;b.isRemote=!0;let x=m.get(f,t.TRACE_STATE_HEADER);if(x){let w=Array.isArray(x)?x.join(","):x;b.traceState=new n.TraceState(typeof w=="string"?w:void 0)}return e.trace.setSpanContext(d,b)}fields(){return[t.TRACE_PARENT_HEADER,t.TRACE_STATE_HEADER]}};t.HttpTraceContextPropagator=p}),x1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),w1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRPCMetadata=t.deleteRPCMetadata=t.setRPCMetadata=t.RPCType=void 0;var e=ar(),r=e.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),n;(function(a){a.HTTP="http"})(n=t.RPCType||(t.RPCType={}));function i(a,c){return a.setValue(r,c)}t.setRPCMetadata=i;function o(a){return a.deleteValue(r)}t.deleteRPCMetadata=o;function s(a){return a.getValue(r)}t.getRPCMetadata=s}),ux=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOffSampler=void 0;var e=ar(),r=class{shouldSample(){return{decision:e.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};t.AlwaysOffSampler=r}),lx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOnSampler=void 0;var e=ar(),r=class{shouldSample(){return{decision:e.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};t.AlwaysOnSampler=r}),C1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParentBasedSampler=void 0;var e=ar(),r=ix(),n=ux(),i=lx(),o=class{constructor(s){var a,c,u,l;this._root=s.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=(a=s.remoteParentSampled)!==null&&a!==void 0?a:new i.AlwaysOnSampler,this._remoteParentNotSampled=(c=s.remoteParentNotSampled)!==null&&c!==void 0?c:new n.AlwaysOffSampler,this._localParentSampled=(u=s.localParentSampled)!==null&&u!==void 0?u:new i.AlwaysOnSampler,this._localParentNotSampled=(l=s.localParentNotSampled)!==null&&l!==void 0?l:new n.AlwaysOffSampler}shouldSample(s,a,c,u,l,p){let d=e.trace.getSpanContext(s);return!d||!e.isSpanContextValid(d)?this._root.shouldSample(s,a,c,u,l,p):d.isRemote?d.traceFlags&e.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(s,a,c,u,l,p):this._remoteParentNotSampled.shouldSample(s,a,c,u,l,p):d.traceFlags&e.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(s,a,c,u,l,p):this._localParentNotSampled.shouldSample(s,a,c,u,l,p)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};t.ParentBasedSampler=o}),E1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceIdRatioBasedSampler=void 0;var e=ar(),r=class{constructor(n=0){this._ratio=n,this._ratio=this._normalize(n),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(n,i){return{decision:e.isValidTraceId(i)&&this._accumulate(i)<this._upperBound?e.SamplingDecision.RECORD_AND_SAMPLED:e.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(n){return typeof n!="number"||isNaN(n)?0:n>=1?1:n<=0?0:n}_accumulate(n){let i=0;for(let o=0;o<n.length/8;o++){let s=o*8,a=parseInt(n.slice(s,s+8),16);i=(i^a)>>>0}return i}};t.TraceIdRatioBasedSampler=r}),S1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlIgnored=t.urlMatches=void 0;function e(n,i){return typeof i=="string"?n===i:i.test(n)}t.urlMatches=e;function r(n,i){if(!i)return!1;for(let o of i)if(e(n,o))return!0;return!1}t.isUrlIgnored=r}),T1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapped=void 0;function e(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}t.isWrapped=e}),ci=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.baggageUtils=void 0,r(r1(),t),r(n1(),t),r(ix(),t),r(nx(),t),r(h1(),t),r(g1(),t),r(v1(),t),r(df(),t),t.baggageUtils=rx(),r(ax(),t),r(y1(),t),r(_1(),t),r(x1(),t),r(w1(),t),r(ux(),t),r(lx(),t),r(C1(),t),r(E1(),t),r(vf(),t),r(cx(),t),r(sx(),t),r(ox(),t),r(S1(),t),r(T1(),t),r(df(),t)}),R1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEventName=void 0,t.ExceptionEventName="exception"}),px=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var e=ar(),r=ci(),n=sc(),i=R1(),o=class{constructor(s,a,c,u,l,p,d=[],f=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:e.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=u,this.parentSpanId=p,this.kind=l,this.links=d,this.startTime=r.timeInputToHrTime(f),this.resource=s.resource,this.instrumentationLibrary=s.instrumentationLibrary,this._spanLimits=s.getSpanLimits(),this._spanProcessor=s.getActiveSpanProcessor(),this._spanProcessor.onStart(this,a)}spanContext(){return this._spanContext}setAttribute(s,a){return a==null||this._isSpanEnded()?this:s.length===0?(e.diag.warn(`Invalid attribute key: ${s}`),this):r.isAttributeValue(a)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,s)?this:(this.attributes[s]=a,this):(e.diag.warn(`Invalid attribute value set for key: ${s}`),this)}setAttributes(s){for(let[a,c]of Object.entries(s))this.setAttribute(a,c);return this}addEvent(s,a,c){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(e.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(a)&&(typeof c>"u"&&(c=a),a=void 0),typeof c>"u"&&(c=r.hrTime()),this.events.push({name:s,attributes:a,time:r.timeInputToHrTime(c)}),this)}setStatus(s){return this._isSpanEnded()?this:(this.status=s,this)}updateName(s){return this._isSpanEnded()?this:(this.name=s,this)}end(s=r.hrTime()){if(this._isSpanEnded()){e.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=r.timeInputToHrTime(s),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&e.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(s,a=r.hrTime()){let c={};typeof s=="string"?c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s:s&&(s.code?c[n.SemanticAttributes.EXCEPTION_TYPE]=s.code.toString():s.name&&(c[n.SemanticAttributes.EXCEPTION_TYPE]=s.name),s.message&&(c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s.message),s.stack&&(c[n.SemanticAttributes.EXCEPTION_STACKTRACE]=s.stack)),c[n.SemanticAttributes.EXCEPTION_TYPE]||c[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,c,a):e.diag.warn(`Failed to record an exception ${s}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&e.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};t.Span=o}),dx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSamplerFromEnv=t.DEFAULT_CONFIG=void 0;var e=ar(),r=ci(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;t.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function o(c=r.getEnv()){switch(c.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(a(c));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(a(c))});default:return e.diag.error(`OTEL_TRACES_SAMPLER value "${c.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}t.buildSamplerFromEnv=o;var s=1;function a(c){if(c.OTEL_TRACES_SAMPLER_ARG===void 0||c.OTEL_TRACES_SAMPLER_ARG==="")return e.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let u=Number(c.OTEL_TRACES_SAMPLER_ARG);return isNaN(u)?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):u<0||u>1?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):u}}),P1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfig=void 0;var e=dx();function r(n){let i={sampler:e.buildSamplerFromEnv()},o=Object.assign({},e.DEFAULT_CONFIG,i,n);return o.spanLimits=Object.assign({},e.DEFAULT_CONFIG.spanLimits,n.spanLimits||{}),o}t.mergeConfig=r}),D1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracer=void 0;var e=ar(),r=ci(),n=px(),i=P1(),o=class{constructor(a,c,u){this._tracerProvider=u;let l=i.mergeConfig(c);this._sampler=l.sampler,this._spanLimits=l.spanLimits,this._idGenerator=c.idGenerator||new r.RandomIdGenerator,this.resource=u.resource,this.instrumentationLibrary=a}startSpan(a,c={},u=e.context.active()){var l,p;if(r.isTracingSuppressed(u))return e.diag.debug("Instrumentation suppressed, returning Noop Span"),e.trace.wrapSpanContext(e.INVALID_SPAN_CONTEXT);let d=s(c,u),f=this._idGenerator.generateSpanId(),m,g,y;!d||!e.trace.isSpanContextValid(d)?m=this._idGenerator.generateTraceId():(m=d.traceId,g=d.traceState,y=d.spanId);let b=(l=c.kind)!==null&&l!==void 0?l:e.SpanKind.INTERNAL,x=(p=c.links)!==null&&p!==void 0?p:[],w=r.sanitizeAttributes(c.attributes),C=this._sampler.shouldSample(c.root?e.trace.setSpanContext(u,e.INVALID_SPAN_CONTEXT):u,m,a,b,w,x),D=C.decision===e.SamplingDecision.RECORD_AND_SAMPLED?e.TraceFlags.SAMPLED:e.TraceFlags.NONE,N={traceId:m,spanId:f,traceFlags:D,traceState:g};if(C.decision===e.SamplingDecision.NOT_RECORD)return e.diag.debug("Recording is off, propagating context in a non-recording span"),e.trace.wrapSpanContext(N);let M=new n.Span(this,u,a,N,b,y,x,c.startTime);return M.setAttributes(Object.assign(w,C.attributes)),M}startActiveSpan(a,c,u,l){let p,d,f;if(arguments.length<2)return;arguments.length===2?f=c:arguments.length===3?(p=c,f=u):(p=c,d=u,f=l);let m=d??e.context.active(),g=this.startSpan(a,p,m),y=e.trace.setSpan(m,g);return e.context.with(y,f,void 0,g)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};t.Tracer=o;function s(a,c){if(!a.root)return e.trace.getSpanContext(c)}}),I1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultServiceName=void 0;function e(){return`unknown_service:${process.argv0}`}t.defaultServiceName=e}),O1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectResources=void 0;var e=mx(),r=ar(),n=require("util"),i=async(s={})=>{let a=Object.assign(s),c=await Promise.all((a.detectors||[]).map(async u=>{try{let l=await u.detect(a);return r.diag.debug(`${u.constructor.name} found resource.`,l),l}catch(l){return r.diag.debug(`${u.constructor.name} failed: ${l.message}`),e.Resource.empty()}}));return o(c),c.reduce((u,l)=>u.merge(l),e.Resource.empty())};t.detectResources=i;var o=s=>{s.forEach(a=>{if(Object.keys(a.attributes).length>0){let c=n.inspect(a.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(c)}})}}),A1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.envDetector=void 0;var e=ar(),r=ci(),n=sc(),i=yf(),o=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(s){let a={},c=r.getEnv(),u=c.OTEL_RESOURCE_ATTRIBUTES,l=c.OTEL_SERVICE_NAME;if(u)try{let p=this._parseResourceAttributes(u);Object.assign(a,p)}catch(p){e.diag.debug(`EnvDetector failed: ${p.message}`)}return l&&(a[n.ResourceAttributes.SERVICE_NAME]=l),new i.Resource(a)}_parseResourceAttributes(s){if(!s)return{};let a={},c=s.split(this._COMMA_SEPARATOR,-1);for(let u of c){let l=u.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(l.length!==2)continue;let[p,d]=l;if(p=p.trim(),d=d.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(p))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(d))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);a[p]=d}return a}_isValid(s){return s.length<=this._MAX_LENGTH&&this._isPrintableString(s)}_isPrintableString(s){for(let a=0;a<s.length;a++){let c=s.charAt(a);if(c<=" "||c>="~")return!1}return!0}_isValidAndNotEmpty(s){return s.length>0&&this._isValid(s)}};t.envDetector=new o}),k1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processDetector=void 0;var e=ar(),r=sc(),n=yf(),i=class{async detect(o){let s={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(s,o)}_getResourceAttributes(o,s){return o[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||o[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||o[r.ResourceAttributes.PROCESS_COMMAND]===""||o[r.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(e.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},o))}};t.processDetector=new i}),N1=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(A1(),t),r(k1(),t)}),M1=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(I1(),t),r(O1(),t),r(N1(),t)}),fx=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(M1(),t)}),mx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var e=sc(),r=ci(),n=fx(),i=class{constructor(o){this.attributes=o}static empty(){return i.EMPTY}static default(){return new i({[e.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[e.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_NAME],[e.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(o){if(!o||!Object.keys(o.attributes).length)return this;let s=Object.assign({},this.attributes,o.attributes);return new i(s)}};t.Resource=i,i.EMPTY=new i({})}),q1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),L1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),yf=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(mx(),t),r(fx(),t),r(q1(),t),r(L1(),t)}),j1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSpanProcessor=void 0;var e=ci(),r=class{constructor(n){this._spanProcessors=n}forceFlush(){let n=[];for(let i of this._spanProcessors)n.push(i.forceFlush());return new Promise(i=>{Promise.all(n).then(()=>{i()}).catch(o=>{e.globalErrorHandler(o||new Error("MultiSpanProcessor: forceFlush failed")),i()})})}onStart(n,i){for(let o of this._spanProcessors)o.onStart(n,i)}onEnd(n){for(let i of this._spanProcessors)i.onEnd(n)}shutdown(){let n=[];for(let i of this._spanProcessors)n.push(i.shutdown());return new Promise((i,o)=>{Promise.all(n).then(()=>{i()},o)})}};t.MultiSpanProcessor=r}),hx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopSpanProcessor=void 0;var e=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};t.NoopSpanProcessor=e}),F1=A((t,e)=>{var r=200,n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",p="[object Date]",d="[object Error]",f="[object Function]",m="[object GeneratorFunction]",g="[object Map]",y="[object Number]",b="[object Null]",x="[object Object]",w="[object Proxy]",C="[object RegExp]",D="[object Set]",N="[object String]",M="[object Undefined]",F="[object WeakMap]",Q="[object ArrayBuffer]",ne="[object DataView]",X="[object Float32Array]",H="[object Float64Array]",ae="[object Int8Array]",ee="[object Int16Array]",xe="[object Int32Array]",pe="[object Uint8Array]",z="[object Uint8ClampedArray]",Z="[object Uint16Array]",te="[object Uint32Array]",de=/[\\^$.*+?()[\]{}|]/g,he=/^\[object .+?Constructor\]$/,Pe=/^(?:0|[1-9]\d*)$/,Te={};Te[X]=Te[H]=Te[ae]=Te[ee]=Te[xe]=Te[pe]=Te[z]=Te[Z]=Te[te]=!0,Te[a]=Te[c]=Te[Q]=Te[l]=Te[ne]=Te[p]=Te[d]=Te[f]=Te[g]=Te[y]=Te[x]=Te[C]=Te[D]=Te[N]=Te[F]=!1;var Be=typeof global=="object"&&global&&global.Object===Object&&global,We=typeof self=="object"&&self&&self.Object===Object&&self,mt=Be||We||Function("return this")(),it=typeof t=="object"&&t&&!t.nodeType&&t,ke=it&&typeof e=="object"&&e&&!e.nodeType&&e,It=ke&&ke.exports===it,jt=It&&Be.process,Me=function(){try{var O=ke&&ke.require&&ke.require("util").types;return O||jt&&jt.binding&&jt.binding("util")}catch{}}(),we=Me&&Me.isTypedArray;function Fe(O,K,re){switch(re.length){case 0:return O.call(K);case 1:return O.call(K,re[0]);case 2:return O.call(K,re[0],re[1]);case 3:return O.call(K,re[0],re[1],re[2])}return O.apply(K,re)}function et(O,K){for(var re=-1,Ne=Array(O);++re<O;)Ne[re]=K(re);return Ne}function Ir(O){return function(K){return O(K)}}function Jr(O,K){return O?.[K]}function ue(O,K){return function(re){return O(K(re))}}var Lr=Array.prototype,Wt=Function.prototype,Ht=Object.prototype,ht=mt["__core-js_shared__"],nr=Wt.toString,Bt=Ht.hasOwnProperty,Mr=function(){var O=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}(),jr=Ht.toString,lt=nr.call(Object),Wr=RegExp("^"+nr.call(Bt).replace(de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=It?mt.Buffer:void 0,q=mt.Symbol,oe=mt.Uint8Array,fe=Zt?Zt.allocUnsafe:void 0,ve=ue(Object.getPrototypeOf,Object),Qe=Object.create,tt=Ht.propertyIsEnumerable,ot=Lr.splice,Ye=q?q.toStringTag:void 0,qe=function(){try{var O=rf(Object,"defineProperty");return O({},"",{}),O}catch{}}(),Re=Zt?Zt.isBuffer:void 0,Ue=Math.max,me=Date.now,Ft=rf(mt,"Map"),zt=rf(Object,"create"),je=function(){function O(){}return function(K){if(!Mo(K))return{};if(Qe)return Qe(K);O.prototype=K;var re=new O;return O.prototype=void 0,re}}();function yr(O){var K=-1,re=O==null?0:O.length;for(this.clear();++K<re;){var Ne=O[K];this.set(Ne[0],Ne[1])}}function T(){this.__data__=zt?zt(null):{},this.size=0}function J(O){var K=this.has(O)&&delete this.__data__[O];return this.size-=K?1:0,K}function Ee(O){var K=this.__data__;if(zt){var re=K[O];return re===n?void 0:re}return Bt.call(K,O)?K[O]:void 0}function bt(O){var K=this.__data__;return zt?K[O]!==void 0:Bt.call(K,O)}function W(O,K){var re=this.__data__;return this.size+=this.has(O)?0:1,re[O]=zt&&K===void 0?n:K,this}yr.prototype.clear=T,yr.prototype.delete=J,yr.prototype.get=Ee,yr.prototype.has=bt,yr.prototype.set=W;function S(O){var K=-1,re=O==null?0:O.length;for(this.clear();++K<re;){var Ne=O[K];this.set(Ne[0],Ne[1])}}function L(){this.__data__=[],this.size=0}function j(O){var K=this.__data__,re=ie(K,O);if(re<0)return!1;var Ne=K.length-1;return re==Ne?K.pop():ot.call(K,re,1),--this.size,!0}function I(O){var K=this.__data__,re=ie(K,O);return re<0?void 0:K[re][1]}function E(O){return ie(this.__data__,O)>-1}function Y(O,K){var re=this.__data__,Ne=ie(re,O);return Ne<0?(++this.size,re.push([O,K])):re[Ne][1]=K,this}S.prototype.clear=L,S.prototype.delete=j,S.prototype.get=I,S.prototype.has=E,S.prototype.set=Y;function se(O){var K=-1,re=O==null?0:O.length;for(this.clear();++K<re;){var Ne=O[K];this.set(Ne[0],Ne[1])}}function ze(){this.size=0,this.__data__={hash:new yr,map:new(Ft||S),string:new yr}}function Nt(O){var K=Au(this,O).delete(O);return this.size-=K?1:0,K}function xt(O){return Au(this,O).get(O)}function Kt(O){return Au(this,O).has(O)}function Tr(O,K){var re=Au(this,O),Ne=re.size;return re.set(O,K),this.size+=re.size==Ne?0:1,this}se.prototype.clear=ze,se.prototype.delete=Nt,se.prototype.get=xt,se.prototype.has=Kt,se.prototype.set=Tr;function ir(O){var K=this.__data__=new S(O);this.size=K.size}function rt(){this.__data__=new S,this.size=0}function v(O){var K=this.__data__,re=K.delete(O);return this.size=K.size,re}function h(O){return this.__data__.get(O)}function _(O){return this.__data__.has(O)}function R(O,K){var re=this.__data__;if(re instanceof S){var Ne=re.__data__;if(!Ft||Ne.length<r-1)return Ne.push([O,K]),this.size=++re.size,this;re=this.__data__=new se(Ne)}return re.set(O,K),this.size=re.size,this}ir.prototype.clear=rt,ir.prototype.delete=v,ir.prototype.get=h,ir.prototype.has=_,ir.prototype.set=R;function P(O,K){var re=sf(O),Ne=!re&&of(O),Rt=!re&&!Ne&&A_(O),Jt=!re&&!Ne&&!Rt&&N_(O),or=re||Ne||Rt||Jt,St=or?et(O.length,String):[],sr=St.length;for(var Wn in O)(K||Bt.call(O,Wn))&&!(or&&(Wn=="length"||Rt&&(Wn=="offset"||Wn=="parent")||Jt&&(Wn=="buffer"||Wn=="byteLength"||Wn=="byteOffset")||I_(Wn,sr)))&&St.push(Wn);return St}function U(O,K,re){(re!==void 0&&!ku(O[K],re)||re===void 0&&!(K in O))&&le(O,K,re)}function V(O,K,re){var Ne=O[K];(!(Bt.call(O,K)&&ku(Ne,re))||re===void 0&&!(K in O))&&le(O,K,re)}function ie(O,K){for(var re=O.length;re--;)if(ku(O[re][0],K))return re;return-1}function le(O,K,re){K=="__proto__"&&qe?qe(O,K,{configurable:!0,enumerable:!0,value:re,writable:!0}):O[K]=re}var Le=Vk();function gt(O){return O==null?O===void 0?M:b:Ye&&Ye in Object(O)?Wk(O):Zk(O)}function st(O){return Ja(O)&&gt(O)==a}function Je(O){if(!Mo(O)||Qk(O))return!1;var K=cf(O)?Wr:he;return K.test(rN(O))}function Mt(O){return Ja(O)&&k_(O.length)&&!!Te[gt(O)]}function tf(O){if(!Mo(O))return Yk(O);var K=O_(O),re=[];for(var Ne in O)Ne=="constructor"&&(K||!Bt.call(O,Ne))||re.push(Ne);return re}function Za(O,K,re,Ne,Rt){O!==K&&Le(K,function(Jt,or){if(Rt||(Rt=new ir),Mo(Jt))qk(O,K,or,re,Za,Ne,Rt);else{var St=Ne?Ne(nf(O,or),Jt,or+"",O,K,Rt):void 0;St===void 0&&(St=Jt),U(O,or,St)}},M_)}function qk(O,K,re,Ne,Rt,Jt,or){var St=nf(O,re),sr=nf(K,re),Wn=or.get(sr);if(Wn){U(O,re,Wn);return}var Nn=Jt?Jt(St,sr,re+"",O,K,or):void 0,ec=Nn===void 0;if(ec){var uf=sf(sr),lf=!uf&&A_(sr),L_=!uf&&!lf&&N_(sr);Nn=sr,uf||lf||L_?sf(St)?Nn=St:nN(St)?Nn=Hk(St):lf?(ec=!1,Nn=Fk(sr,!0)):L_?(ec=!1,Nn=$k(sr,!0)):Nn=[]:iN(sr)||of(sr)?(Nn=St,of(St)?Nn=oN(St):(!Mo(St)||cf(St))&&(Nn=Gk(sr))):ec=!1}ec&&(or.set(sr,Nn),Rt(Nn,sr,Ne,Jt,or),or.delete(sr)),U(O,re,Nn)}function Lk(O,K){return eN(Jk(O,K,q_),O+"")}var jk=qe?function(O,K){return qe(O,"toString",{configurable:!0,enumerable:!1,value:aN(K),writable:!0})}:q_;function Fk(O,K){if(K)return O.slice();var re=O.length,Ne=fe?fe(re):new O.constructor(re);return O.copy(Ne),Ne}function Uk(O){var K=new O.constructor(O.byteLength);return new oe(K).set(new oe(O)),K}function $k(O,K){var re=K?Uk(O.buffer):O.buffer;return new O.constructor(re,O.byteOffset,O.length)}function Hk(O,K){var re=-1,Ne=O.length;for(K||(K=Array(Ne));++re<Ne;)K[re]=O[re];return K}function Bk(O,K,re,Ne){var Rt=!re;re||(re={});for(var Jt=-1,or=K.length;++Jt<or;){var St=K[Jt],sr=Ne?Ne(re[St],O[St],St,re,O):void 0;sr===void 0&&(sr=O[St]),Rt?le(re,St,sr):V(re,St,sr)}return re}function zk(O){return Lk(function(K,re){var Ne=-1,Rt=re.length,Jt=Rt>1?re[Rt-1]:void 0,or=Rt>2?re[2]:void 0;for(Jt=O.length>3&&typeof Jt=="function"?(Rt--,Jt):void 0,or&&Kk(re[0],re[1],or)&&(Jt=Rt<3?void 0:Jt,Rt=1),K=Object(K);++Ne<Rt;){var St=re[Ne];St&&O(K,St,Ne,Jt)}return K})}function Vk(O){return function(K,re,Ne){for(var Rt=-1,Jt=Object(K),or=Ne(K),St=or.length;St--;){var sr=or[O?St:++Rt];if(re(Jt[sr],sr,Jt)===!1)break}return K}}function Au(O,K){var re=O.__data__;return Xk(K)?re[typeof K=="string"?"string":"hash"]:re.map}function rf(O,K){var re=Jr(O,K);return Je(re)?re:void 0}function Wk(O){var K=Bt.call(O,Ye),re=O[Ye];try{O[Ye]=void 0;var Ne=!0}catch{}var Rt=jr.call(O);return Ne&&(K?O[Ye]=re:delete O[Ye]),Rt}function Gk(O){return typeof O.constructor=="function"&&!O_(O)?je(ve(O)):{}}function I_(O,K){var re=typeof O;return K=K??s,!!K&&(re=="number"||re!="symbol"&&Pe.test(O))&&O>-1&&O%1==0&&O<K}function Kk(O,K,re){if(!Mo(re))return!1;var Ne=typeof K;return(Ne=="number"?af(re)&&I_(K,re.length):Ne=="string"&&K in re)?ku(re[K],O):!1}function Xk(O){var K=typeof O;return K=="string"||K=="number"||K=="symbol"||K=="boolean"?O!=="__proto__":O===null}function Qk(O){return!!Mr&&Mr in O}function O_(O){var K=O&&O.constructor,re=typeof K=="function"&&K.prototype||Ht;return O===re}function Yk(O){var K=[];if(O!=null)for(var re in Object(O))K.push(re);return K}function Zk(O){return jr.call(O)}function Jk(O,K,re){return K=Ue(K===void 0?O.length-1:K,0),function(){for(var Ne=arguments,Rt=-1,Jt=Ue(Ne.length-K,0),or=Array(Jt);++Rt<Jt;)or[Rt]=Ne[K+Rt];Rt=-1;for(var St=Array(K+1);++Rt<K;)St[Rt]=Ne[Rt];return St[K]=re(or),Fe(O,this,St)}}function nf(O,K){if(!(K==="constructor"&&typeof O[K]=="function")&&K!="__proto__")return O[K]}var eN=tN(jk);function tN(O){var K=0,re=0;return function(){var Ne=me(),Rt=o-(Ne-re);if(re=Ne,Rt>0){if(++K>=i)return arguments[0]}else K=0;return O.apply(void 0,arguments)}}function rN(O){if(O!=null){try{return nr.call(O)}catch{}try{return O+""}catch{}}return""}function ku(O,K){return O===K||O!==O&&K!==K}var of=st(function(){return arguments}())?st:function(O){return Ja(O)&&Bt.call(O,"callee")&&!tt.call(O,"callee")},sf=Array.isArray;function af(O){return O!=null&&k_(O.length)&&!cf(O)}function nN(O){return Ja(O)&&af(O)}var A_=Re||cN;function cf(O){if(!Mo(O))return!1;var K=gt(O);return K==f||K==m||K==u||K==w}function k_(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=s}function Mo(O){var K=typeof O;return O!=null&&(K=="object"||K=="function")}function Ja(O){return O!=null&&typeof O=="object"}function iN(O){if(!Ja(O)||gt(O)!=x)return!1;var K=ve(O);if(K===null)return!0;var re=Bt.call(K,"constructor")&&K.constructor;return typeof re=="function"&&re instanceof re&&nr.call(re)==lt}var N_=we?Ir(we):Mt;function oN(O){return Bk(O,M_(O))}function M_(O){return af(O)?P(O,!0):tf(O)}var sN=zk(function(O,K,re){Za(O,K,re)});function aN(O){return function(){return O}}function q_(O){return O}function cN(){return!1}e.exports=sN}),U1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessorBase=void 0;var e=ar(),r=ci(),n=class{constructor(i,o){this._exporter=i,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let s=r.getEnv();this._maxExportBatchSize=typeof o?.maxExportBatchSize=="number"?o.maxExportBatchSize:s.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof o?.maxQueueSize=="number"?o.maxQueueSize:s.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof o?.scheduledDelayMillis=="number"?o.scheduledDelayMillis:s.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof o?.exportTimeoutMillis=="number"?o.exportTimeoutMillis:s.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(i){}onEnd(i){this._isShutdown||this._addToBuffer(i)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}_addToBuffer(i){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(i),this._maybeStartTimer())}_flushAll(){return new Promise((i,o)=>{let s=[],a=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let c=0,u=a;c<u;c++)s.push(this._flushOneBatch());Promise.all(s).then(()=>{i()}).catch(o)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((i,o)=>{let s=setTimeout(()=>{o(new Error("Timeout"))},this._exportTimeoutMillis);e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),a=>{var c;clearTimeout(s),a.code===r.ExportResultCode.SUCCESS?i():o((c=a.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(i=>{r.globalErrorHandler(i)})},this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};t.BatchSpanProcessorBase=n}),$1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessor=void 0;var e=U1(),r=class extends e.BatchSpanProcessorBase{onShutdown(){}};t.BatchSpanProcessor=r}),H1=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r($1(),t)}),gx=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(H1(),t)}),B1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicTracerProvider=t.ForceFlushState=void 0;var e=ar(),r=ci(),n=yf(),i=vx(),o=dx(),s=j1(),a=hx(),c=F1(),u=gx(),l;(function(d){d[d.resolved=0]="resolved",d[d.timeout=1]="timeout",d[d.error=2]="error",d[d.unresolved=3]="unresolved"})(l=t.ForceFlushState||(t.ForceFlushState={}));var p=class{constructor(d={}){var f;this._registeredSpanProcessors=[],this._tracers=new Map;let m=c({},o.DEFAULT_CONFIG,d);this.resource=(f=m.resource)!==null&&f!==void 0?f:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},m,{resource:this.resource});let g=this._buildExporterFromEnv();if(g!==void 0){let y=new u.BatchSpanProcessor(g);this.activeSpanProcessor=y}else this.activeSpanProcessor=new a.NoopSpanProcessor}getTracer(d,f){let m=`${d}@${f||""}`;return this._tracers.has(m)||this._tracers.set(m,new i.Tracer({name:d,version:f},this._config,this)),this._tracers.get(m)}addSpanProcessor(d){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(f=>e.diag.error("Error while trying to shutdown current span processor",f)),this._registeredSpanProcessors.push(d),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(d={}){e.trace.setGlobalTracerProvider(this),d.propagator===void 0&&(d.propagator=this._buildPropagatorFromEnv()),d.contextManager&&e.context.setGlobalContextManager(d.contextManager),d.propagator&&e.propagation.setGlobalPropagator(d.propagator)}forceFlush(){let d=this._config.forceFlushTimeoutMillis,f=this._registeredSpanProcessors.map(m=>new Promise(g=>{let y,b=setTimeout(()=>{g(new Error(`Span processor did not completed within timeout period of ${d} ms`)),y=l.timeout},d);m.forceFlush().then(()=>{clearTimeout(b),y!==l.timeout&&(y=l.resolved,g(y))}).catch(x=>{clearTimeout(b),y=l.error,g(x)})}));return new Promise((m,g)=>{Promise.all(f).then(y=>{let b=y.filter(x=>x!==l.resolved);b.length>0?g(b):m()}).catch(y=>g([y]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(d){var f;return(f=p._registeredPropagators.get(d))===null||f===void 0?void 0:f()}_getSpanExporter(d){var f;return(f=p._registeredExporters.get(d))===null||f===void 0?void 0:f()}_buildPropagatorFromEnv(){let d=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),f=d.map(m=>{let g=this._getPropagator(m);return g||e.diag.warn(`Propagator "${m}" requested through environment variable is unavailable.`),g}).reduce((m,g)=>(g&&m.push(g),m),[]);if(f.length!==0)return d.length===1?f[0]:new r.CompositePropagator({propagators:f})}_buildExporterFromEnv(){let d=r.getEnv().OTEL_TRACES_EXPORTER;if(d==="none")return;let f=this._getSpanExporter(d);return f||e.diag.error(`Exporter "${d}" requested through environment variable is unavailable.`),f}};t.BasicTracerProvider=p,p._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),p._registeredExporters=new Map}),z1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleSpanExporter=void 0;var e=ci(),r=class{export(n,i){return this._sendSpans(n,i)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(n){return{traceId:n.spanContext().traceId,parentId:n.parentSpanId,name:n.name,id:n.spanContext().spanId,kind:n.kind,timestamp:e.hrTimeToMicroseconds(n.startTime),duration:e.hrTimeToMicroseconds(n.duration),attributes:n.attributes,status:n.status,events:n.events}}_sendSpans(n,i){for(let o of n)console.log(this._exportInfo(o));if(i)return i({code:e.ExportResultCode.SUCCESS})}};t.ConsoleSpanExporter=r}),V1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySpanExporter=void 0;var e=ci(),r=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(n,i){if(this._stopped)return i({code:e.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...n),setTimeout(()=>i({code:e.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};t.InMemorySpanExporter=r}),W1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),G1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpanProcessor=void 0;var e=ar(),r=ci(),n=class{constructor(i){this._exporter=i,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(i){}onEnd(i){this._isShutdown||e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export([i],o=>{var s;o.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler((s=o.error)!==null&&s!==void 0?s:new Error(`SimpleSpanProcessor: span export failed (status ${o})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}};t.SimpleSpanProcessor=n}),K1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),X1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Q1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Y1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),vx=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(D1(),t),r(B1(),t),r(gx(),t),r(z1(),t),r(V1(),t),r(W1(),t),r(G1(),t),r(K1(),t),r(hx(),t),r(px(),t),r(X1(),t),r(Q1(),t),r(Y1(),t)}),Z1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.azureCoreTracing=t.AzureMonitorSymbol=void 0;var e=Or();t.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1,n=function(o){if(r)return o;try{var s=vx(),a=ar(),c=new s.BasicTracerProvider,u=c.getTracer("applicationinsights tracer"),l=o.setTracer;o.setTracer=function(p){var d=p.startSpan;p.startSpan=function(f,m,g){var y=d.call(this,f,m,g),b=y.end;return y.end=function(){var x=b.apply(this,arguments);return e.channel.publish("azure-coretracing",y),x},y},p[t.AzureMonitorSymbol]=!0,l.call(this,p)},a.trace.getSpan(a.context.active()),o.setTracer(u),r=!0}catch{}return o};t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}t.enable=i}),J1=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.bunyan=void 0;var e=Or(),r=function(i){var o=i.prototype._emit;return i.prototype._emit=function(s,a){var c=o.apply(this,arguments);if(!a){var u=c;u||(u=o.call(this,s,!0)),e.channel.publish("bunyan",{level:s.level,result:u})}return c},i};t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("bunyan",t.bunyan)}t.enable=n}),eM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.console=void 0;var e=Or(),r=require("stream"),n=function(o){var s=new r.Writable,a=new r.Writable;s.write=function(m){if(!m)return!0;var g=m.toString();return e.channel.publish("console",{message:g}),!0},a.write=function(m){if(!m)return!0;var g=m.toString();return e.channel.publish("console",{message:g,stderr:!0}),!0};for(var c=new o.Console(s,a),u=["log","info","warn","error","dir","time","timeEnd","trace","assert"],l=function(m){var g=o[m];g&&(o[m]=function(){if(c[m])try{c[m].apply(c,arguments)}catch{}return g.apply(o,arguments)})},p=0,d=u;p<d.length;p++){var f=d[p];l(f)}return o};t.console={versionSpecifier:">= 4.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("console",t.console),require("console")}t.enable=i}),tM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongoCore=void 0;var e=Or(),r=function(i){var o=i.Server.prototype.connect;return i.Server.prototype.connect=function(){var s=o.apply(this,arguments),a=this.s.pool.write;this.s.pool.write=function(){var u=typeof arguments[1]=="function"?1:2;return typeof arguments[u]=="function"&&(arguments[u]=e.channel.bindToContext(arguments[u])),a.apply(this,arguments)};var c=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=e.channel.bindToContext(arguments[1])),c.apply(this,arguments)},s},i};t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}t.enable=n}),rM=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(c){for(var u,l=1,p=arguments.length;l<p;l++){u=arguments[l];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(c[d]=u[d])}return c},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongo330=t.mongo3=t.mongo2=void 0;var r=Or(),n=function(c){var u=c.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(p){return p()})}}}),l={};return u.on("started",function(p){l[p.requestId]||(l[p.requestId]=e(e({},p),{time:new Date}))}),u.on("succeeded",function(p){var d=l[p.requestId];d&&delete l[p.requestId],typeof p.operationId=="function"?p.operationId(function(){return r.channel.publish("mongodb",{startedData:d,event:p,succeeded:!0})}):r.channel.publish("mongodb",{startedData:d,event:p,succeeded:!0})}),u.on("failed",function(p){var d=l[p.requestId];d&&delete l[p.requestId],typeof p.operationId=="function"?p.operationId(function(){return r.channel.publish("mongodb",{startedData:d,event:p,succeeded:!1})}):r.channel.publish("mongodb",{startedData:d,event:p,succeeded:!1})}),c},i=function(c){var u=c.instrument(),l={},p={};return u.on("started",function(d){l[d.requestId]||(p[d.requestId]=r.channel.bindToContext(function(f){return f()}),l[d.requestId]=e(e({},d),{time:new Date}))}),u.on("succeeded",function(d){var f=l[d.requestId];f&&delete l[d.requestId],typeof d=="object"&&typeof p[d.requestId]=="function"&&(p[d.requestId](function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!0})}),delete p[d.requestId])}),u.on("failed",function(d){var f=l[d.requestId];f&&delete l[d.requestId],typeof d=="object"&&typeof p[d.requestId]=="function"&&(p[d.requestId](function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!1})}),delete p[d.requestId])}),c},o=function(c){var u=c.Server.prototype.connect;return c.Server.prototype.connect=function(){var l=u.apply(this,arguments),p=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var f=typeof arguments[1]=="function"?1:2;return typeof arguments[f]=="function"&&(arguments[f]=r.channel.bindToContext(arguments[f])),p.apply(this,arguments)};var d=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r.channel.bindToContext(arguments[1])),d.apply(this,arguments)},l},c},s=function(c){o(c);var u=c.instrument(),l={},p={};return u.on("started",function(d){l[d.requestId]||(p[d.requestId]=r.channel.bindToContext(function(f){return f()}),l[d.requestId]=d)}),u.on("succeeded",function(d){var f=l[d.requestId];f&&delete l[d.requestId],typeof d=="object"&&typeof p[d.requestId]=="function"&&(p[d.requestId](function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!0})}),delete p[d.requestId])}),u.on("failed",function(d){var f=l[d.requestId];f&&delete l[d.requestId],typeof d=="object"&&typeof p[d.requestId]=="function"&&(p[d.requestId](function(){return r.channel.publish("mongodb",{startedData:f,event:d,succeeded:!1})}),delete p[d.requestId])}),c};t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:n},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:i},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:s};function a(){r.channel.registerMonkeyPatch("mongodb",t.mongo2),r.channel.registerMonkeyPatch("mongodb",t.mongo3),r.channel.registerMonkeyPatch("mongodb",t.mongo330)}t.enable=a}),nM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mysql=void 0;var e=Or(),r=require("path"),n=function(o,s){var a=function(f,m){return function(g,y){var b=f[g];b&&(f[g]=function(){for(var x=arguments.length-1,w=arguments.length-1;w>=0;--w)if(typeof arguments[w]=="function"){x=w;break}else if(typeof arguments[w]<"u")break;var C=arguments[x],D={result:null,startTime:null,startDate:null};typeof C=="function"&&(y?(D.startTime=process.hrtime(),D.startDate=new Date,arguments[x]=e.channel.bindToContext(y(D,C))):arguments[x]=e.channel.bindToContext(C));var N=b.apply(this,arguments);return D.result=N,N})}},c=function(f,m){return a(f.prototype,m+".prototype")},u=["connect","changeUser","ping","statistics","end"],l=require(r.dirname(s)+"/lib/Connection");u.forEach(function(f){return c(l,"Connection")(f)}),a(l,"Connection")("createQuery",function(f,m){return function(g){var y=process.hrtime(f.startTime),b=y[0]*1e3+y[1]/1e6|0;e.channel.publish("mysql",{query:f.result,callbackArgs:arguments,err:g,duration:b,time:f.startDate}),m.apply(this,arguments)}});var p=["_enqueueCallback"],d=require(r.dirname(s)+"/lib/Pool");return p.forEach(function(f){return c(d,"Pool")(f)}),o};t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("mysql",t.mysql)}t.enable=i}),iM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgresPool1=void 0;var e=Or();function r(i){var o=i.prototype.connect;return i.prototype.connect=function(s){return s&&(arguments[0]=e.channel.bindToContext(s)),o.apply(this,arguments)},i}t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}t.enable=n}),oM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgres7=t.postgres6=void 0;var e=Or(),r=require("events");function n(s,a){var c=s.Client.prototype.query,u="__diagnosticOriginalFunc";return s.Client.prototype.query=function(l,p,d){var f={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},m=process.hrtime(),g;function y(b){b&&b[u]&&(b=b[u]);var x=e.channel.bindToContext(function(w,C){var D=process.hrtime(m);if(f.result=C&&{rowCount:C.rowCount,command:C.command},f.error=w,f.duration=Math.ceil(D[0]*1e3+D[1]/1e6),e.channel.publish("postgres",f),w){if(b)return b.apply(this,arguments);g&&g instanceof r.EventEmitter&&g.emit("error",w)}else b&&b.apply(this,arguments)});try{return Object.defineProperty(x,u,{value:b}),x}catch{return b}}try{typeof l=="string"?p instanceof Array?(f.query.preparable={text:l,args:p},d=y(d)):(f.query.text=l,d?d=y(d):p=y(p)):(typeof l.name=="string"?f.query.plan=l.name:l.values instanceof Array?f.query.preparable={text:l.text,args:l.values}:f.query.text=l.text,d?d=y(d):p?p=y(p):l.callback=y(l.callback))}catch{return c.apply(this,arguments)}return arguments[0]=l,arguments[1]=p,arguments[2]=d,arguments.length=arguments.length>3?arguments.length:3,g=c.apply(this,arguments),g},s}function i(s,a){var c=s.Client.prototype.query,u="__diagnosticOriginalFunc";return s.Client.prototype.query=function(l,p,d){var f=this,m=!!d,g={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},y=process.hrtime(),b;function x(w){w&&w[u]&&(w=w[u]);var C=e.channel.bindToContext(function(D,N){var M=process.hrtime(y);if(g.result=N&&{rowCount:N.rowCount,command:N.command},g.error=D,g.duration=Math.ceil(M[0]*1e3+M[1]/1e6),e.channel.publish("postgres",g),D){if(w)return w.apply(this,arguments);b&&b instanceof r.EventEmitter&&b.emit("error",D)}else w&&w.apply(this,arguments)});try{return Object.defineProperty(C,u,{value:w}),C}catch{return w}}try{typeof l=="string"?p instanceof Array?(g.query.preparable={text:l,args:p},m=typeof d=="function",d=m?x(d):d):(g.query.text=l,d?(m=typeof d=="function",d=m?x(d):d):(m=typeof p=="function",p=m?x(p):p)):(typeof l.name=="string"?g.query.plan=l.name:l.values instanceof Array?g.query.preparable={text:l.text,args:l.values}:g.query.text=l.text,d?(m=typeof d=="function",d=x(d)):p?(m=typeof p=="function",p=m?x(p):p):(m=typeof l.callback=="function",l.callback=m?x(l.callback):l.callback))}catch{return c.apply(this,arguments)}return arguments[0]=l,arguments[1]=p,arguments[2]=d,arguments.length=arguments.length>3?arguments.length:3,b=c.apply(this,arguments),m?b:b.then(function(w){return x()(void 0,w),new f._Promise(function(C,D){C(w)})}).catch(function(w){return x()(w,void 0),new f._Promise(function(C,D){D(w)})})},s}t.postgres6={versionSpecifier:"6.*",patch:n},t.postgres7={versionSpecifier:">=7.* <=8.*",patch:i};function o(){e.channel.registerMonkeyPatch("pg",t.postgres6),e.channel.registerMonkeyPatch("pg",t.postgres7)}t.enable=o}),sM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.redis=void 0;var e=Or(),r=function(i){var o=i.RedisClient.prototype.internal_send_command;return i.RedisClient.prototype.internal_send_command=function(s){if(s){var a=s.callback;if(!a||!a.pubsubBound){var c=this.address,u=process.hrtime(),l=new Date;s.callback=e.channel.bindToContext(function(p,d){var f=process.hrtime(u),m=f[0]*1e3+f[1]/1e6|0;e.channel.publish("redis",{duration:m,address:c,commandObj:s,err:p,result:d,time:l}),typeof a=="function"&&a.apply(this,arguments)}),s.callback.pubsubBound=!0}}return o.call(this,s)},i};t.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("redis",t.redis)}t.enable=n}),aM=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=void 0;var r=Or(),n=function(o){var s=o.Connection.prototype.makeRequest;return o.Connection.prototype.makeRequest=function(){function a(u){var l=process.hrtime(),p={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext(function(d,f,m){var g=process.hrtime(l);p=e(e({},p),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!d&&{rowCount:f,rows:m},query:{text:this.parametersByName.statement.value},error:d,duration:Math.ceil(g[0]*1e3+g[1]/1e6)}),r.channel.publish("tedious",p),u.call(this,d,f,m)})}var c=arguments[0];arguments[0].callback=a(c.callback),s.apply(this,arguments)},o};t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:n};function i(){r.channel.registerMonkeyPatch("tedious",t.tedious)}t.enable=i}),cM=A(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(c,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(l[d]=p[d])},a(c,u)};return function(c,u){a(c,u);function l(){this.constructor=c}c.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}(),r=t&&t.__rest||function(a,c){var u={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&c.indexOf(l)<0&&(u[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,l=Object.getOwnPropertySymbols(a);p<l.length;p++)c.indexOf(l[p])<0&&Object.prototype.propertyIsEnumerable.call(a,l[p])&&(u[l[p]]=a[l[p]]);return u};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.winston2=t.winston3=void 0;var n=Or(),i=function(a){var c=a.Logger.prototype.log,u,l=function(p,d,f){var m;return u===a.config.npm.levels?m="npm":u===a.config.syslog.levels?m="syslog":m="unknown",n.channel.publish("winston",{level:p,message:d,meta:f,levelKind:m}),d};return a.Logger.prototype.log=function(){return u=this.levels,!this.filters||this.filters.length===0?this.filters=[l]:this.filters[this.filters.length-1]!==l&&(this.filters=this.filters.filter(function(p){return p!==l}),this.filters.push(l)),c.apply(this,arguments)},a},o=function(a){var c=function(f,m){var g;return f.config.npm.levels[m]!=null?g="npm":f.config.syslog.levels[m]!=null?g="syslog":g="unknown",g},u=function(f){e(m,f);function m(g,y){var b=f.call(this,y)||this;return b.winston=g,b}return m.prototype.log=function(g,y){var b=g.message,x=g.level,w=g.meta,C=r(g,["message","level","meta"]);x=typeof Symbol.for=="function"?g[Symbol.for("level")]:x,b=g instanceof Error?g:b;var D=c(this.winston,x);w=w||{};for(var N in C)C.hasOwnProperty(N)&&(w[N]=C[N]);n.channel.publish("winston",{message:b,level:x,levelKind:D,meta:w}),y()},m}(a.Transport);function l(){var f=arguments[0].levels||a.config.npm.levels,m;for(var g in f)f.hasOwnProperty(g)&&(m=m===void 0||f[g]>f[m]?g:m);this.add(new u(a,{level:m}))}var p=a.createLogger;a.createLogger=function(){var f=arguments[0].levels||a.config.npm.levels,m;for(var g in f)f.hasOwnProperty(g)&&(m=m===void 0||f[g]>f[m]?g:m);var y=p.apply(this,arguments);y.add(new u(a,{level:m}));var b=y.configure;return y.configure=function(){b.apply(this,arguments),l.apply(this,arguments)},y};var d=a.configure;return a.configure=function(){d.apply(this,arguments),l.apply(this,arguments)},a.add(new u(a)),a};t.winston3={versionSpecifier:"3.x",patch:o},t.winston2={versionSpecifier:"2.x",patch:i};function s(){n.channel.registerMonkeyPatch("winston",t.winston2),n.channel.registerMonkeyPatch("winston",t.winston3)}t.enable=s}),uM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=t.pgPool=t.pg=t.winston=t.redis=t.mysql=t.mongodb=t.mongodbCore=t.console=t.bunyan=t.azuresdk=void 0;var e=Z1();t.azuresdk=e;var r=J1();t.bunyan=r;var n=eM();t.console=n;var i=tM();t.mongodbCore=i;var o=rM();t.mongodb=o;var s=nM();t.mysql=s;var a=iM();t.pgPool=a;var c=oM();t.pg=c;var u=sM();t.redis=u;var l=aM();t.tedious=l;var p=cM();t.winston=p;function d(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),u.enable(),p.enable(),e.enable(),l.enable()}t.enable=d}),bf=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContextPreservation=t.IsInitialized=void 0;var e=V_(),r=Gr();t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n="DiagnosticChannel";if(t.IsInitialized){i=uM(),o=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",s=o.split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk};for(c in a)s.indexOf(c)===-1&&(a[c].enable(),r.info(n,"Subscribed to "+c+" events"));s.length>0&&r.info(n,"Some modules will not be patched",s)}else r.info(n,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var i,o,s,a,c;function u(l){if(t.IsInitialized){var p=Or();p.channel.addContextPreservation(l),p.channel.spanContextPropagator=e.AsyncScopeManager}}t.registerContextPreservation=u}),ac=A((t,e)=>{"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}),Gn=A((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(l){for(var p,d=1,f=arguments.length;d<f;d++){p=arguments[d];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(l[m]=p[m])}return l},r.apply(this,arguments)},n=require("http"),i=require("https"),o=require("url"),s=require("constants"),a=Gr(),c=ac(),u=function(){function l(){}return l.getCookie=function(p,d){var f="";if(p&&p.length&&typeof d=="string")for(var m=p+"=",g=d.split(";"),y=0;y<g.length;y++){var d=g[y];if(d=l.trim(d),d&&d.indexOf(m)===0){f=d.substring(m.length,g[y].length);break}}return f},l.trim=function(p){return typeof p=="string"?p.replace(/^\s+|\s+$/g,""):""},l.int32ArrayToBase64=function(p){var d=function(b,x){return String.fromCharCode(b>>x&255)},f=function(b){return d(b,24)+d(b,16)+d(b,8)+d(b,0)},m=p.map(f).join(""),g=Buffer.from?Buffer.from(m,"binary"):new Buffer(m,"binary"),y=g.toString("base64");return y.substr(0,y.indexOf("="))},l.random32=function(){return 4294967296*Math.random()|0},l.randomu32=function(){return l.random32()+2147483648},l.w3cTraceId=function(){for(var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d="",f,m=0;m<4;m++)f=l.random32(),d+=p[f&15]+p[f>>4&15]+p[f>>8&15]+p[f>>12&15]+p[f>>16&15]+p[f>>20&15]+p[f>>24&15]+p[f>>28&15];var g=p[8+Math.random()*4|0];return d.substr(0,8)+d.substr(9,4)+"4"+d.substr(13,3)+g+d.substr(16,3)+d.substr(19,12)},l.w3cSpanId=function(){return l.w3cTraceId().substring(16)},l.isValidW3CId=function(p){return p.length===32&&p!=="00000000000000000000000000000000"},l.isArray=function(p){return Object.prototype.toString.call(p)==="[object Array]"},l.isError=function(p){return p instanceof Error},l.isPrimitive=function(p){var d=typeof p;return d==="string"||d==="number"||d==="boolean"},l.isDate=function(p){return Object.prototype.toString.call(p)==="[object Date]"},l.msToTimeSpan=function(p){(isNaN(p)||p<0)&&(p=0);var d=(p/1e3%60).toFixed(7).replace(/0{0,4}$/,""),f=""+Math.floor(p/(1e3*60))%60,m=""+Math.floor(p/(1e3*60*60))%24,g=Math.floor(p/(1e3*60*60*24));d=d.indexOf(".")<2?"0"+d:d,f=f.length<2?"0"+f:f,m=m.length<2?"0"+m:m;var y=g>0?g+".":"";return y+m+":"+f+":"+d},l.extractError=function(p){var d=p;return{message:p.message,code:d.code||d.id||""}},l.extractObject=function(p){return p instanceof Error?l.extractError(p):typeof p.toJSON=="function"?p.toJSON():p},l.validateStringMap=function(p){if(typeof p!="object"){a.info("Invalid properties dropped from payload");return}var d={};for(var f in p){var m="",g=p[f],y=typeof g;if(l.isPrimitive(g))m=g.toString();else if(g===null||y==="undefined")m="";else if(y==="function"){a.info("key: "+f+" was function; will not serialize");continue}else{var b=l.isArray(g)?g:l.extractObject(g);try{l.isPrimitive(b)?m=b:m=JSON.stringify(b)}catch(x){m=g.constructor.name.toString()+" (Error: "+x.message+")",a.info("key: "+f+", could not be serialized")}}d[f]=m.substring(0,l.MAX_PROPERTY_LENGTH)}return d},l.canIncludeCorrelationHeader=function(p,d){var f=p&&p.config&&p.config.correlationHeaderExcludedDomains;if(!f||f.length==0||!d)return!0;for(var m=0;m<f.length;m++){var g=new RegExp(f[m].replace(/\./g,".").replace(/\*/g,".*"));if(g.test(o.parse(d).hostname))return!1}return!0},l.getCorrelationContextTarget=function(p,d){var f=p.headers&&p.headers[c.requestContextHeader];if(f)for(var m=f.split(","),g=0;g<m.length;++g){var y=m[g].split("=");if(y.length==2&&y[0]==d)return y[1]}},l.makeRequest=function(p,d,f,m){d&&d.indexOf("//")===0&&(d="https:"+d);var g=o.parse(d),y=r(r({},f),{host:g.hostname,port:g.port,path:g.pathname}),b=void 0;if(g.protocol==="https:"&&(b=p.proxyHttpsUrl||void 0),g.protocol==="http:"&&(b=p.proxyHttpUrl||void 0),b){b.indexOf("//")===0&&(b="http:"+b);var x=o.parse(b);x.protocol==="https:"?(a.info("Proxies that use HTTPS are not supported"),b=void 0):y=r(r({},y),{host:x.hostname,port:x.port||"80",path:d,headers:r(r({},y.headers),{Host:g.hostname})})}var w=g.protocol==="https:"&&!b;return w&&p.httpsAgent!==void 0?y.agent=p.httpsAgent:!w&&p.httpAgent!==void 0?y.agent=p.httpAgent:w&&(y.agent=l.tlsRestrictedAgent),w?i.request(y,m):n.request(y,m)},l.safeIncludeCorrelationHeader=function(p,d,f){var m;if(typeof f=="string")m=f;else if(f instanceof Array)m=f.join(",");else if(f&&typeof f.toString=="function")try{m=f.toString()}catch(g){a.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",g,f)}m?l.addCorrelationIdHeaderFromString(p,d,m):d.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+p.config.correlationId)},l.dumpObj=function(p){var d=Object.prototype.toString.call(p),f="";return d==="[object Error]"?f="{ stack: '"+p.stack+"', message: '"+p.message+"', name: '"+p.name+"'":f=JSON.stringify(p),d+f},l.addCorrelationIdHeaderFromString=function(p,d,f){var m=f.split(","),g=c.requestContextSourceKey+"=",y=m.some(function(b){return b.substring(0,g.length)===g});y||d.setHeader(c.requestContextHeader,f+","+c.requestContextSourceKey+"="+p.config.correlationId)},l.MAX_PROPERTY_LENGTH=8192,l.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),l}();e.exports=u}),Is=A((t,e)=>{"use strict";var r=Gn(),n=Gr(),i=function(){function o(){}return o.queryCorrelationId=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId";if(o.completedLookups.hasOwnProperty(c)){a(o.completedLookups[c]);return}else if(o.pendingLookups[c]){o.pendingLookups[c].push(a);return}o.pendingLookups[c]=[a];var u=function(){if(o.pendingLookups[c]){var l={method:"GET",disableAppInsightsAutoCollection:!0};n.info(o.TAG,l);var p=r.makeRequest(s,c,l,function(d){if(d.statusCode===200){var f="";d.setEncoding("utf-8"),d.on("data",function(m){f+=m}),d.on("end",function(){n.info(o.TAG,f);var m=o.correlationIdPrefix+f;o.completedLookups[c]=m,o.pendingLookups[c]&&o.pendingLookups[c].forEach(function(g){return g(m)}),delete o.pendingLookups[c]})}else d.statusCode>=400&&d.statusCode<500?(o.completedLookups[c]=void 0,delete o.pendingLookups[c]):setTimeout(u,s.correlationIdRetryIntervalMs)});p&&(p.on("error",function(d){n.warn(o.TAG,d)}),p.end())}};setTimeout(u,0)},o.cancelCorrelationIdQuery=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId",u=o.pendingLookups[c];u&&(o.pendingLookups[c]=u.filter(function(l){return l!=a}),o.pendingLookups[c].length==0&&delete o.pendingLookups[c])},o.generateRequestId=function(s){if(s){s=s[0]=="|"?s:"|"+s,s[s.length-1]!=="."&&(s+=".");var a=(o.currentRootId++).toString(16);return o.appendSuffix(s,a,"_")}else return o.generateRootId()},o.getRootId=function(s){var a=s.indexOf(".");a<0&&(a=s.length);var c=s[0]==="|"?1:0;return s.substring(c,a)},o.generateRootId=function(){return"|"+r.w3cTraceId()+"."},o.appendSuffix=function(s,a,c){if(s.length+a.length<o.requestIdMaxLength)return s+a+c;var u=o.requestIdMaxLength-9;if(s.length>u)for(;u>1;--u){var l=s[u-1];if(l==="."||l==="_")break}if(u<=1)return o.generateRootId();for(a=r.randomu32().toString(16);a.length<8;)a="0"+a;return s.substring(0,u)+a+"#"},o.TAG="CorrelationIdManager",o.correlationIdPrefix="cid-v1:",o.w3cEnabled=!0,o.pendingLookups={},o.completedLookups={},o.requestIdMaxLength=1024,o.currentRootId=r.randomu32(),o}();e.exports=i}),Lu=A((t,e)=>{"use strict";var r=Gn(),n=Is(),i=function(){function o(s,a){if(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.version=o.DEFAULT_VERSION,s&&typeof s=="string")if(s.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var c=s.trim().split("-"),u=c.length;u>=4?(this.version=c[0],this.traceId=c[1],this.spanId=c[2],this.traceFlag=c[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),this.version==="00"&&u!==4&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=o.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),o.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),o.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(a){this.parentId=a.slice();var l=n.getRootId(a);o.isValidTraceId(l)||(this.legacyRootId=l,l=r.w3cTraceId()),a.indexOf("|")!==-1&&(a=a.substring(1+a.substring(0,a.length-1).lastIndexOf("."),a.length-1)),this.traceId=l,this.spanId=a}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return o.isValidTraceId=function(s){return s.match(/^[0-9a-f]{32}$/)&&s!=="00000000000000000000000000000000"},o.isValidSpanId=function(s){return s.match(/^[0-9a-f]{16}$/)&&s!=="0000000000000000"},o.formatOpenTelemetryTraceFlags=function(s){var a="0"+s.toString(16);return a.substring(a.length-2)},o.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},o.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},o.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},o.DEFAULT_TRACE_FLAG="01",o.DEFAULT_VERSION="00",o}();e.exports=i}),yx=A((t,e)=>{"use strict";var r=function(){function n(i){this.fieldmap=[],i&&(this.fieldmap=this.parseHeader(i))}return n.prototype.toString=function(){var i=this.fieldmap;return!i||i.length==0?null:i.join(", ")},n.validateKeyChars=function(i){var o=i.split("@");if(o.length==2){var s=o[0].trim(),a=o[1].trim(),c=!!s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/),u=!!a.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/);return c&&u}else if(o.length==1)return!!i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/);return!1},n.prototype.parseHeader=function(i){var o=[],s={},a=i.split(",");if(a.length>32)return null;for(var c=0,u=a;c<u.length;c++){var l=u[c],p=l.trim();if(p.length!==0){var d=p.split("=");if(d.length!==2||!n.validateKeyChars(d[0])||s[d[0]])return null;s[d[0]]=!0,o.push(p)}}return o},n.strict=!0,n}();e.exports=r}),eo=A((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),lM=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=eo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),bx=A((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),pM=A((t,e)=>{"use strict";var r=function(){function n(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return n}();e.exports=r}),dM=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=bx(),i=function(o){r(s,o);function s(){return o.call(this)||this}return s}(n);e.exports=i}),_x=A((t,e)=>{"use strict";var r;(function(n){n[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation"})(r||(r={})),e.exports=r}),fM=A((t,e)=>{"use strict";var r=_x(),n=function(){function i(){this.kind=r.Measurement}return i}();e.exports=n}),mM=A((t,e)=>{"use strict";var r=function(){function n(){this.ver=1,this.sampleRate=100,this.tags={}}return n}();e.exports=r}),xx=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=eo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),hM=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=eo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.exceptions=[],a.properties={},a.measurements={},a}return s}(n);e.exports=i}),gM=A((t,e)=>{"use strict";var r=function(){function n(){this.hasFullStack=!0,this.parsedStack=[]}return n}();e.exports=r}),vM=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=eo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a}return s}(n);e.exports=i}),yM=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=eo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.metrics=[],a.properties={},a}return s}(n);e.exports=i}),bM=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=xx(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),_M=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=eo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.success=!0,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),xM=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(c[l]=u[l])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=eo(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),wM=A((t,e)=>{"use strict";var r;(function(n){n[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical"})(r||(r={})),e.exports=r}),CM=A((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),wx=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=lM(),t.Base=bx(),t.ContextTagKeys=pM(),t.Data=dM(),t.DataPoint=fM(),t.DataPointType=_x(),t.Domain=eo(),t.Envelope=mM(),t.EventData=xx(),t.ExceptionData=hM(),t.ExceptionDetails=gM(),t.MessageData=vM(),t.MetricData=yM(),t.PageViewData=bM(),t.RemoteDependencyData=_M(),t.RequestData=xM(),t.SeverityLevel=wM(),t.StackFrame=CM()}),EM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domainSupportsProperties=t.RemoteDependencyDataConstants=void 0;var e=wx(),r=function(){function i(){}return i.TYPE_HTTP="Http",i.TYPE_AI="Http (tracked component)",i}();t.RemoteDependencyDataConstants=r;function n(i){return"properties"in i||i instanceof e.EventData||i instanceof e.ExceptionData||i instanceof e.MessageData||i instanceof e.MetricData||i instanceof e.PageViewData||i instanceof e.RemoteDependencyData||i instanceof e.RequestData}t.domainSupportsProperties=n}),SM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),TM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),RM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),PM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),DM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),IM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),OM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),AM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),kM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),NM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),MM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),qM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),LM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryType=t.TelemetryTypeString=t.baseTypeToTelemetryType=t.telemetryTypeToBaseType=void 0;function e(i){switch(i){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}}t.telemetryTypeToBaseType=e;function r(i){switch(i){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}}t.baseTypeToTelemetryType=r,t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var n;(function(i){i[i.Event=0]="Event",i[i.Exception=1]="Exception",i[i.Trace=2]="Trace",i[i.Metric=3]="Metric",i[i.Request=4]="Request",i[i.Dependency=5]="Dependency",i[i.Availability=6]="Availability",i[i.PageView=7]="PageView"})(n=t.TelemetryType||(t.TelemetryType={}))}),jM=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(SM(),t),r(TM(),t),r(RM(),t),r(PM(),t),r(DM(),t),r(IM(),t),r(OM(),t),r(AM(),t),r(kM(),t),r(NM(),t),r(MM(),t),r(qM(),t),r(LM(),t)}),FM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),UM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),$M=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),HM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),BM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),zM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),VM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),WM=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),GM=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(FM(),t),r(UM(),t),r($M(),t),r(HM(),t),r(BM(),t),r(zM(),t),r(VM(),t),r(WM(),t)}),_n=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(EM(),t),r(wx(),t),r(jM(),t),r(GM(),t)}),Cx=A((t,e)=>{"use strict";var r=function(){function n(){}return n.prototype.getUrl=function(){return this.url},n.prototype.RequestParser=function(){this.startTime=+new Date},n.prototype._setStatus=function(i,o){var s=+new Date;this.duration=s-this.startTime,this.statusCode=i;var a=this.properties||{};if(o){if(typeof o=="string")a.error=o;else if(o instanceof Error)a.error=o.message;else if(typeof o=="object")for(var c in o)a[c]=o[c]&&o[c].toString&&o[c].toString()}this.properties=a},n.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},n}();e.exports=r}),Ex=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var d=function(f,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])},d(f,m)};return function(f,m){d(f,m);function g(){this.constructor=f}f.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),n=require("url"),i=_n(),o=Gn(),s=ac(),a=Cx(),c=Is(),u=yx(),l=Lu(),p=function(d){r(f,d);function f(m,g){var y=d.call(this)||this;return m&&(y.method=m.method,y.url=y._getAbsoluteUrl(m),y.startTime=+new Date,y.socketRemoteAddress=m.socket&&m.socket.remoteAddress,y.parseHeaders(m,g),m.connection&&(y.connectionRemoteAddress=m.connection.remoteAddress,y.legacySocketRemoteAddress=m.connection.socket&&m.connection.socket.remoteAddress)),y}return f.prototype.onError=function(m,g){this._setStatus(void 0,m),g&&(this.duration=g)},f.prototype.onResponse=function(m,g){this._setStatus(m.statusCode,void 0),g&&(this.duration=g)},f.prototype.getRequestTelemetry=function(m){var g={id:this.requestId,name:this.method+" "+n.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(m&&m.time?g.time=m.time:this.startTime&&(g.time=new Date(this.startTime)),m){for(var y in m)g[y]||(g[y]=m[y]);if(m.properties)for(var y in m.properties)g.properties[y]=m.properties[y]}return g},f.prototype.getRequestTags=function(m){var g={};for(var y in m)g[y]=m[y];return g[f.keys.locationIp]=m[f.keys.locationIp]||this._getIp(),g[f.keys.sessionId]=m[f.keys.sessionId]||this._getId("ai_session"),g[f.keys.userId]=m[f.keys.userId]||this._getId("ai_user"),g[f.keys.userAuthUserId]=m[f.keys.userAuthUserId]||this._getId("ai_authUser"),g[f.keys.operationName]=this.getOperationName(m),g[f.keys.operationParentId]=this.getOperationParentId(m),g[f.keys.operationId]=this.getOperationId(m),g},f.prototype.getOperationId=function(m){return m[f.keys.operationId]||this.operationId},f.prototype.getOperationParentId=function(m){return m[f.keys.operationParentId]||this.parentId||this.getOperationId(m)},f.prototype.getOperationName=function(m){return m[f.keys.operationName]||this.method+" "+n.parse(this.url).pathname},f.prototype.getRequestId=function(){return this.requestId},f.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},f.prototype.getTraceparent=function(){return this.traceparent},f.prototype.getTracestate=function(){return this.tracestate},f.prototype.getLegacyRootId=function(){return this.legacyRootId},f.prototype._getAbsoluteUrl=function(m){if(!m.headers)return m.url;var g=m.connection?m.connection.encrypted:null,y=n.parse(m.url),b=y.pathname,x=y.search,w=g||m.headers["x-forwarded-proto"]=="https"?"https":"http",C=n.format({protocol:w,host:m.headers.host,pathname:b,search:x});return C},f.prototype._getIp=function(){var m=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,g=function(b){var x=m.exec(b);if(x)return x[0]},y=g(this.rawHeaders["x-forwarded-for"])||g(this.rawHeaders["x-client-ip"])||g(this.rawHeaders["x-real-ip"])||g(this.connectionRemoteAddress)||g(this.socketRemoteAddress)||g(this.legacySocketRemoteAddress);return!y&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(y="127.0.0.1"),y},f.prototype._getId=function(m){var g=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",y=f.parseId(o.getCookie(m,g));return y},f.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},f.prototype.parseHeaders=function(m,g){if(this.rawHeaders=m.headers||m.rawHeaders,this.userAgent=m.headers&&m.headers["user-agent"],this.sourceCorrelationId=o.getCorrelationContextTarget(m,s.requestContextSourceKey),m.headers){var y=m.headers[s.traceStateHeader]?m.headers[s.traceStateHeader].toString():null,b=m.headers[s.traceparentHeader]?m.headers[s.traceparentHeader].toString():null,x=m.headers[s.requestIdHeader]?m.headers[s.requestIdHeader].toString():null,w=m.headers[s.parentIdHeader]?m.headers[s.parentIdHeader].toString():null,C=m.headers[s.rootIdHeader]?m.headers[s.rootIdHeader].toString():null;this.correlationContextHeader=m.headers[s.correlationContextHeader]?m.headers[s.correlationContextHeader].toString():null,c.w3cEnabled&&(b||y)?(this.traceparent=new l(b?b.toString():null),this.tracestate=b&&y&&new u(y?y.toString():null),this.setBackCompatFromThisTraceContext()):x?c.w3cEnabled?(this.traceparent=new l(null,x),this.setBackCompatFromThisTraceContext()):(this.parentId=x,this.requestId=c.generateRequestId(this.parentId),this.operationId=c.getRootId(this.requestId)):c.w3cEnabled?(this.traceparent=new l,this.traceparent.parentId=w,this.traceparent.legacyRootId=C||w,this.setBackCompatFromThisTraceContext()):(this.parentId=w,this.requestId=c.generateRequestId(C||this.parentId),this.correlationContextHeader=null,this.operationId=c.getRootId(this.requestId)),g&&(this.requestId=g,this.operationId=c.getRootId(this.requestId))}},f.parseId=function(m){var g=m.split("|");return g.length>0?g[0]:""},f.keys=new i.ContextTagKeys,f}(a);e.exports=p}),KM=A((t,e)=>{t=e.exports=ue;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var v=Array.prototype.slice.call(arguments,0);v.unshift("SEMVER"),console.log.apply(console,v)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var p=c++;a[p]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[p]+")";var g=c++;a[g]="(?:"+a[l]+"|"+a[p]+")";var y=c++;a[y]="(?:-("+a[m]+"(?:\\."+a[m]+")*))";var b=c++;a[b]="(?:-?("+a[g]+"(?:\\."+a[g]+")*))";var x=c++;a[x]="[0-9A-Za-z-]+";var w=c++;a[w]="(?:\\+("+a[x]+"(?:\\."+a[x]+")*))";var C=c++,D="v?"+a[d]+a[y]+"?"+a[w]+"?";a[C]="^"+D+"$";var N="[v=\\s]*"+a[f]+a[b]+"?"+a[w]+"?",M=c++;a[M]="^"+N+"$";var F=c++;a[F]="((?:<|>)?=?)";var Q=c++;a[Q]=a[l]+"|x|X|\\*";var ne=c++;a[ne]=a[u]+"|x|X|\\*";var X=c++;a[X]="[v=\\s]*("+a[ne]+")(?:\\.("+a[ne]+")(?:\\.("+a[ne]+")(?:"+a[y]+")?"+a[w]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[Q]+")(?:\\.("+a[Q]+")(?:\\.("+a[Q]+")(?:"+a[b]+")?"+a[w]+"?)?)?";var ae=c++;a[ae]="^"+a[F]+"\\s*"+a[X]+"$";var ee=c++;a[ee]="^"+a[F]+"\\s*"+a[H]+"$";var xe=c++;a[xe]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var pe=c++;a[pe]="(?:~>?)";var z=c++;a[z]="(\\s*)"+a[pe]+"\\s+",s[z]=new RegExp(a[z],"g");var Z="$1~",te=c++;a[te]="^"+a[pe]+a[X]+"$";var de=c++;a[de]="^"+a[pe]+a[H]+"$";var he=c++;a[he]="(?:\\^)";var Pe=c++;a[Pe]="(\\s*)"+a[he]+"\\s+",s[Pe]=new RegExp(a[Pe],"g");var Te="$1^",Be=c++;a[Be]="^"+a[he]+a[X]+"$";var We=c++;a[We]="^"+a[he]+a[H]+"$";var mt=c++;a[mt]="^"+a[F]+"\\s*("+N+")$|^$";var it=c++;a[it]="^"+a[F]+"\\s*("+D+")$|^$";var ke=c++;a[ke]="(\\s*)"+a[F]+"\\s*("+N+"|"+a[X]+")",s[ke]=new RegExp(a[ke],"g");var It="$1$2$3",jt=c++;a[jt]="^\\s*("+a[X]+")\\s+-\\s+("+a[X]+")\\s*$";var Me=c++;a[Me]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var we=c++;for(a[we]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;t.parse=et;function et(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue)return v;if(typeof v!="string"||v.length>n)return null;var _=h.loose?s[M]:s[C];if(!_.test(v))return null;try{return new ue(v,h)}catch{return null}}t.valid=Ir;function Ir(v,h){var _=et(v,h);return _?_.version:null}t.clean=Jr;function Jr(v,h){var _=et(v.trim().replace(/^[=v]+/,""),h);return _?_.version:null}t.SemVer=ue;function ue(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue){if(v.loose===h.loose)return v;v=v.version}else if(typeof v!="string")throw new TypeError("Invalid Version: "+v);if(v.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ue))return new ue(v,h);r("SemVer",v,h),this.options=h,this.loose=!!h.loose;var _=v.trim().match(h.loose?s[M]:s[C]);if(!_)throw new TypeError("Invalid Version: "+v);if(this.raw=v,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");_[4]?this.prerelease=_[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var P=+R;if(P>=0&&P<i)return P}return R}):this.prerelease=[],this.build=_[5]?_[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(v){return r("SemVer.compare",this.version,this.options,v),v instanceof ue||(v=new ue(v,this.options)),this.compareMain(v)||this.comparePre(v)},ue.prototype.compareMain=function(v){return v instanceof ue||(v=new ue(v,this.options)),ht(this.major,v.major)||ht(this.minor,v.minor)||ht(this.patch,v.patch)},ue.prototype.comparePre=function(v){if(v instanceof ue||(v=new ue(v,this.options)),this.prerelease.length&&!v.prerelease.length)return-1;if(!this.prerelease.length&&v.prerelease.length)return 1;if(!this.prerelease.length&&!v.prerelease.length)return 0;var h=0;do{var _=this.prerelease[h],R=v.prerelease[h];if(r("prerelease compare",h,_,R),_===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(_===void 0)return-1;if(_!==R)return ht(_,R)}while(++h)},ue.prototype.inc=function(v,h){switch(v){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h),this.inc("pre",h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h),this.inc("pre",h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var _=this.prerelease.length;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);_===-1&&this.prerelease.push(0)}h&&(this.prerelease[0]===h?isNaN(this.prerelease[1])&&(this.prerelease=[h,0]):this.prerelease=[h,0]);break;default:throw new Error("invalid increment argument: "+v)}return this.format(),this.raw=this.version,this},t.inc=Lr;function Lr(v,h,_,R){typeof _=="string"&&(R=_,_=void 0);try{return new ue(v,_).inc(h,R).version}catch{return null}}t.diff=Wt;function Wt(v,h){if(Qe(v,h))return null;var _=et(v),R=et(h),P="";if(_.prerelease.length||R.prerelease.length){P="pre";var U="prerelease"}for(var V in _)if((V==="major"||V==="minor"||V==="patch")&&_[V]!==R[V])return P+V;return U}t.compareIdentifiers=ht;var Ht=/^[0-9]+$/;function ht(v,h){var _=Ht.test(v),R=Ht.test(h);return _&&R&&(v=+v,h=+h),v===h?0:_&&!R?-1:R&&!_?1:v<h?-1:1}t.rcompareIdentifiers=nr;function nr(v,h){return ht(h,v)}t.major=Bt;function Bt(v,h){return new ue(v,h).major}t.minor=Mr;function Mr(v,h){return new ue(v,h).minor}t.patch=jr;function jr(v,h){return new ue(v,h).patch}t.compare=lt;function lt(v,h,_){return new ue(v,_).compare(new ue(h,_))}t.compareLoose=Wr;function Wr(v,h){return lt(v,h,!0)}t.rcompare=Zt;function Zt(v,h,_){return lt(h,v,_)}t.sort=q;function q(v,h){return v.sort(function(_,R){return t.compare(_,R,h)})}t.rsort=oe;function oe(v,h){return v.sort(function(_,R){return t.rcompare(_,R,h)})}t.gt=fe;function fe(v,h,_){return lt(v,h,_)>0}t.lt=ve;function ve(v,h,_){return lt(v,h,_)<0}t.eq=Qe;function Qe(v,h,_){return lt(v,h,_)===0}t.neq=tt;function tt(v,h,_){return lt(v,h,_)!==0}t.gte=ot;function ot(v,h,_){return lt(v,h,_)>=0}t.lte=Ye;function Ye(v,h,_){return lt(v,h,_)<=0}t.cmp=qe;function qe(v,h,_,R){switch(h){case"===":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v===_;case"!==":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v!==_;case"":case"=":case"==":return Qe(v,_,R);case"!=":return tt(v,_,R);case">":return fe(v,_,R);case">=":return ot(v,_,R);case"<":return ve(v,_,R);case"<=":return Ye(v,_,R);default:throw new TypeError("Invalid operator: "+h)}}t.Comparator=Re;function Re(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof Re){if(v.loose===!!h.loose)return v;v=v.value}if(!(this instanceof Re))return new Re(v,h);r("comparator",v,h),this.options=h,this.loose=!!h.loose,this.parse(v),this.semver===Ue?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var Ue={};Re.prototype.parse=function(v){var h=this.options.loose?s[mt]:s[it],_=v.match(h);if(!_)throw new TypeError("Invalid comparator: "+v);this.operator=_[1],this.operator==="="&&(this.operator=""),_[2]?this.semver=new ue(_[2],this.options.loose):this.semver=Ue},Re.prototype.toString=function(){return this.value},Re.prototype.test=function(v){return r("Comparator.test",v,this.options.loose),this.semver===Ue?!0:(typeof v=="string"&&(v=new ue(v,this.options)),qe(v,this.operator,this.semver,this.options))},Re.prototype.intersects=function(v,h){if(!(v instanceof Re))throw new TypeError("a Comparator is required");(!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1});var _;if(this.operator==="")return _=new me(v.value,h),I(this.value,_,h);if(v.operator==="")return _=new me(this.value,h),I(v.semver,_,h);var R=(this.operator===">="||this.operator===">")&&(v.operator===">="||v.operator===">"),P=(this.operator==="<="||this.operator==="<")&&(v.operator==="<="||v.operator==="<"),U=this.semver.version===v.semver.version,V=(this.operator===">="||this.operator==="<=")&&(v.operator===">="||v.operator==="<="),ie=qe(this.semver,"<",v.semver,h)&&(this.operator===">="||this.operator===">")&&(v.operator==="<="||v.operator==="<"),le=qe(this.semver,">",v.semver,h)&&(this.operator==="<="||this.operator==="<")&&(v.operator===">="||v.operator===">");return R||P||U&&V||ie||le},t.Range=me;function me(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof me)return v.loose===!!h.loose&&v.includePrerelease===!!h.includePrerelease?v:new me(v.raw,h);if(v instanceof Re)return new me(v.value,h);if(!(this instanceof me))return new me(v,h);if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=v,this.set=v.split(/\s*\|\|\s*/).map(function(_){return this.parseRange(_.trim())},this).filter(function(_){return _.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+v);this.format()}me.prototype.format=function(){return this.range=this.set.map(function(v){return v.join(" ").trim()}).join("||").trim(),this.range},me.prototype.toString=function(){return this.range},me.prototype.parseRange=function(v){var h=this.options.loose;v=v.trim();var _=h?s[Me]:s[jt];v=v.replace(_,L),r("hyphen replace",v),v=v.replace(s[ke],It),r("comparator trim",v,s[ke]),v=v.replace(s[z],Z),v=v.replace(s[Pe],Te),v=v.split(/\s+/).join(" ");var R=h?s[mt]:s[it],P=v.split(" ").map(function(U){return zt(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(P=P.filter(function(U){return!!U.match(R)})),P=P.map(function(U){return new Re(U,this.options)},this),P},me.prototype.intersects=function(v,h){if(!(v instanceof me))throw new TypeError("a Range is required");return this.set.some(function(_){return _.every(function(R){return v.set.some(function(P){return P.every(function(U){return R.intersects(U,h)})})})})},t.toComparators=Ft;function Ft(v,h){return new me(v,h).set.map(function(_){return _.map(function(R){return R.value}).join(" ").trim().split(" ")})}function zt(v,h){return r("comp",v,h),v=J(v,h),r("caret",v),v=yr(v,h),r("tildes",v),v=bt(v,h),r("xrange",v),v=S(v,h),r("stars",v),v}function je(v){return!v||v.toLowerCase()==="x"||v==="*"}function yr(v,h){return v.trim().split(/\s+/).map(function(_){return T(_,h)}).join(" ")}function T(v,h){var _=h.loose?s[de]:s[te];return v.replace(_,function(R,P,U,V,ie){r("tilde",v,R,P,U,V,ie);var le;return je(P)?le="":je(U)?le=">="+P+".0.0 <"+(+P+1)+".0.0":je(V)?le=">="+P+"."+U+".0 <"+P+"."+(+U+1)+".0":ie?(r("replaceTilde pr",ie),le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+(+U+1)+".0"):le=">="+P+"."+U+"."+V+" <"+P+"."+(+U+1)+".0",r("tilde return",le),le})}function J(v,h){return v.trim().split(/\s+/).map(function(_){return Ee(_,h)}).join(" ")}function Ee(v,h){r("caret",v,h);var _=h.loose?s[We]:s[Be];return v.replace(_,function(R,P,U,V,ie){r("caret",v,R,P,U,V,ie);var le;return je(P)?le="":je(U)?le=">="+P+".0.0 <"+(+P+1)+".0.0":je(V)?P==="0"?le=">="+P+"."+U+".0 <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+".0 <"+(+P+1)+".0.0":ie?(r("replaceCaret pr",ie),P==="0"?U==="0"?le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+U+"."+(+V+1):le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+"."+V+"-"+ie+" <"+(+P+1)+".0.0"):(r("no pr"),P==="0"?U==="0"?le=">="+P+"."+U+"."+V+" <"+P+"."+U+"."+(+V+1):le=">="+P+"."+U+"."+V+" <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+"."+V+" <"+(+P+1)+".0.0"),r("caret return",le),le})}function bt(v,h){return r("replaceXRanges",v,h),v.split(/\s+/).map(function(_){return W(_,h)}).join(" ")}function W(v,h){v=v.trim();var _=h.loose?s[ee]:s[ae];return v.replace(_,function(R,P,U,V,ie,le){r("xRange",v,R,P,U,V,ie,le);var Le=je(U),gt=Le||je(V),st=gt||je(ie),Je=st;return P==="="&&Je&&(P=""),Le?P===">"||P==="<"?R="<0.0.0":R="*":P&&Je?(gt&&(V=0),ie=0,P===">"?(P=">=",gt?(U=+U+1,V=0,ie=0):(V=+V+1,ie=0)):P==="<="&&(P="<",gt?U=+U+1:V=+V+1),R=P+U+"."+V+"."+ie):gt?R=">="+U+".0.0 <"+(+U+1)+".0.0":st&&(R=">="+U+"."+V+".0 <"+U+"."+(+V+1)+".0"),r("xRange return",R),R})}function S(v,h){return r("replaceStars",v,h),v.trim().replace(s[we],"")}function L(v,h,_,R,P,U,V,ie,le,Le,gt,st,Je){return je(_)?h="":je(R)?h=">="+_+".0.0":je(P)?h=">="+_+"."+R+".0":h=">="+h,je(le)?ie="":je(Le)?ie="<"+(+le+1)+".0.0":je(gt)?ie="<"+le+"."+(+Le+1)+".0":st?ie="<="+le+"."+Le+"."+gt+"-"+st:ie="<="+ie,(h+" "+ie).trim()}me.prototype.test=function(v){if(!v)return!1;typeof v=="string"&&(v=new ue(v,this.options));for(var h=0;h<this.set.length;h++)if(j(this.set[h],v,this.options))return!0;return!1};function j(v,h,_){for(var R=0;R<v.length;R++)if(!v[R].test(h))return!1;if(h.prerelease.length&&!_.includePrerelease){for(R=0;R<v.length;R++)if(r(v[R].semver),v[R].semver!==Ue&&v[R].semver.prerelease.length>0){var P=v[R].semver;if(P.major===h.major&&P.minor===h.minor&&P.patch===h.patch)return!0}return!1}return!0}t.satisfies=I;function I(v,h,_){try{h=new me(h,_)}catch{return!1}return h.test(v)}t.maxSatisfying=E;function E(v,h,_){var R=null,P=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||P.compare(V)===-1)&&(R=V,P=new ue(R,_))}),R}t.minSatisfying=Y;function Y(v,h,_){var R=null,P=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||P.compare(V)===1)&&(R=V,P=new ue(R,_))}),R}t.minVersion=se;function se(v,h){v=new me(v,h);var _=new ue("0.0.0");if(v.test(_)||(_=new ue("0.0.0-0"),v.test(_)))return _;_=null;for(var R=0;R<v.set.length;++R){var P=v.set[R];P.forEach(function(U){var V=new ue(U.semver.version);switch(U.operator){case">":V.prerelease.length===0?V.patch++:V.prerelease.push(0),V.raw=V.format();case"":case">=":(!_||fe(_,V))&&(_=V);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return _&&v.test(_)?_:null}t.validRange=ze;function ze(v,h){try{return new me(v,h).range||"*"}catch{return null}}t.ltr=Nt;function Nt(v,h,_){return Kt(v,h,"<",_)}t.gtr=xt;function xt(v,h,_){return Kt(v,h,">",_)}t.outside=Kt;function Kt(v,h,_,R){v=new ue(v,R),h=new me(h,R);var P,U,V,ie,le;switch(_){case">":P=fe,U=Ye,V=ve,ie=">",le=">=";break;case"<":P=ve,U=ot,V=fe,ie="<",le="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I(v,h,R))return!1;for(var Le=0;Le<h.set.length;++Le){var gt=h.set[Le],st=null,Je=null;if(gt.forEach(function(Mt){Mt.semver===Ue&&(Mt=new Re(">=0.0.0")),st=st||Mt,Je=Je||Mt,P(Mt.semver,st.semver,R)?st=Mt:V(Mt.semver,Je.semver,R)&&(Je=Mt)}),st.operator===ie||st.operator===le||(!Je.operator||Je.operator===ie)&&U(v,Je.semver)||Je.operator===le&&V(v,Je.semver))return!1}return!0}t.prerelease=Tr;function Tr(v,h){var _=et(v,h);return _&&_.prerelease.length?_.prerelease:null}t.intersects=ir;function ir(v,h,_){return v=new me(v,_),h=new me(h,_),v.intersects(h)}t.coerce=rt;function rt(v){if(v instanceof ue)return v;if(typeof v!="string")return null;var h=v.match(s[xe]);return h==null?null:et(h[1]+"."+(h[2]||"0")+"."+(h[3]||"0"))}}),_f=A((t,e)=>{"use strict";function r(l){return typeof l=="function"}var n=console.error.bind(console);function i(l,p,d){var f=!!l[p]&&l.propertyIsEnumerable(p);Object.defineProperty(l,p,{configurable:!0,enumerable:f,writable:!0,value:d})}function o(l){l&&l.logger&&(r(l.logger)?n=l.logger:n("new logger isn't a function, not replacing"))}function s(l,p,d){if(!l||!l[p]){n("no original function "+p+" to wrap");return}if(!d){n("no wrapper function"),n(new Error().stack);return}if(!r(l[p])||!r(d)){n("original object and wrapper must be functions");return}var f=l[p],m=d(f,p);return i(m,"__original",f),i(m,"__unwrap",function(){l[p]===m&&i(l,p,f)}),i(m,"__wrapped",!0),i(l,p,m),m}function a(l,p,d){if(l)Array.isArray(l)||(l=[l]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(p&&Array.isArray(p))){n("must provide one or more functions to wrap on modules");return}l.forEach(function(f){p.forEach(function(m){s(f,m,d)})})}function c(l,p){if(!l||!l[p]){n("no function to unwrap."),n(new Error().stack);return}if(!l[p].__unwrap)n("no original to unwrap to -- has "+p+" already been unwrapped?");else return l[p].__unwrap()}function u(l,p){if(l)Array.isArray(l)||(l=[l]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(p&&Array.isArray(p))){n("must provide one or more functions to unwrap on modules");return}l.forEach(function(d){p.forEach(function(f){c(d,f)})})}o.wrap=s,o.massWrap=a,o.unwrap=c,o.massUnwrap=u,e.exports=o}),xf=A((t,e)=>{"use strict";var r=_f(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(p,d,f){var m=!!p[d]&&p.propertyIsEnumerable(d);Object.defineProperty(p,d,{configurable:!0,enumerable:m,writable:!0,value:f})}function a(p,d){for(var f=d.length,m=0;m<f;m++){var g=d[m],y=p[o];if(typeof y=="function")y(g);else if(Array.isArray(y))for(var b=y.length,x=0;x<b;x++)y[x](g)}}function c(p,d){var f;return f=p._events&&p._events[d],Array.isArray(f)||(f?f=[f]:f=[]),f}function u(p,d,f){var m=c(p,d),g=m.filter(function(y){return f.indexOf(y)===-1});g.length>0&&a(p,g)}function l(p,d){if(p){var f=p;if(typeof p=="function")f=d(p);else if(Array.isArray(p)){f=[];for(var m=0;m<p.length;m++)f[m]=d(p[m])}return f}}e.exports=function(p,d,f){if(!p||!p.on||!p.addListener||!p.removeListener||!p.emit)throw new Error("can only wrap real EEs");if(!d)throw new Error("must have function to run on listener addition");if(!f)throw new Error("must have function to wrap listeners when emitting");function m(y){return function(b,x){var w=c(this,b).slice();try{var C=y.call(this,b,x);return u(this,b,w),C}finally{this.on.__wrapped||n(this,"on",m),this.addListener.__wrapped||n(this,"addListener",m)}}}function g(y){return function(b){if(!this._events||!this._events[b])return y.apply(this,arguments);var x=this._events[b];function w(C){return function(){this._events[b]=x;try{return C.apply(this,arguments)}finally{x=this._events[b],this._events[b]=l(x,f)}}}n(this,"removeListener",w);try{return this._events[b]=l(x,f),y.apply(this,arguments)}finally{i(this,"removeListener"),this._events[b]=x}}}p[o]?typeof p[o]=="function"?s(p,o,[p[o],d]):Array.isArray(p[o])&&p[o].push(d):s(p,o,d),p.__wrapped||(n(p,"addListener",m),n(p,"on",m),n(p,"emit",g),s(p,"__unwrap",function(){i(p,"addListener"),i(p,"on"),i(p,"emit"),delete p[o],delete p.__wrapped}),s(p,"__wrapped",!0))}}),XM=A((t,e)=>{"use strict";var r=require("util"),n=require("assert"),i=xf(),o=require("async_hooks"),s="cls@contexts",a="error@context",c=process.env.DEBUG_CLS_HOOKED,u=-1;e.exports={getNamespace:p,createNamespace:d,destroyNamespace:f,reset:m,ERROR_SYMBOL:a};function l(y){this.name=y,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}l.prototype.set=function(y,b){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[y]=b,c){let x=" ".repeat(this._indent<0?0:this._indent);g(x+"CONTEXT-SET KEY:"+y+"="+b+" in ns:"+this.name+" currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return b},l.prototype.get=function(y){if(!this.active){if(c){let b=o.currentId(),x=o.triggerAsyncId(),w=" ".repeat(this._indent<0?0:this._indent);g(`${w}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${y}=undefined currentUid:${u} asyncHooksCurrentId:${b} triggerId:${x} len:${this._set.length}`)}return}if(c){let b=o.executionAsyncId(),x=o.triggerAsyncId(),w=" ".repeat(this._indent<0?0:this._indent);g(w+"CONTEXT-GETTING KEY:"+y+"="+this.active[y]+" ("+this.name+") currentUid:"+u+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),g(`${w}CONTEXT-GETTING KEY: (${this.name}) ${y}=${this.active[y]} currentUid:${u} asyncHooksCurrentId:${b} triggerId:${x} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[y]},l.prototype.createContext=function(){let y=Object.create(this.active?this.active:Object.prototype);if(y._ns_name=this.name,y.id=u,c){let b=o.executionAsyncId(),x=o.triggerAsyncId(),w=" ".repeat(this._indent<0?0:this._indent);g(`${w}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${b} triggerId:${x} len:${this._set.length} context:${r.inspect(y,{showHidden:!0,depth:2,colors:!0})}`)}return y},l.prototype.run=function(y){let b=this.createContext();this.enter(b);try{if(c){let x=o.triggerAsyncId(),w=o.executionAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);g(`${C}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${x} asyncHooksCurrentId:${w} len:${this._set.length} context:${r.inspect(b)}`)}return y(b),b}catch(x){throw x&&(x[a]=b),x}finally{if(c){let x=o.triggerAsyncId(),w=o.executionAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);g(`${C}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${x} asyncHooksCurrentId:${w} len:${this._set.length} ${r.inspect(b)}`)}this.exit(b)}},l.prototype.runAndReturn=function(y){let b;return this.run(function(x){b=y(x)}),b},l.prototype.runPromise=function(y){let b=this.createContext();this.enter(b);let x=y(b);if(!x||!x.then||!x.catch)throw new Error("fn must return a promise.");return c&&g("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(b)),x.then(w=>(c&&g("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(b)),this.exit(b),w)).catch(w=>{throw w[a]=b,c&&g("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+r.inspect(b)),this.exit(b),w})},l.prototype.bind=function(y,b){b||(this.active?b=this.active:b=this.createContext());let x=this;return function(){x.enter(b);try{return y.apply(this,arguments)}catch(w){throw w&&(w[a]=b),w}finally{x.exit(b)}}},l.prototype.enter=function(y){if(n.ok(y,"context must be provided for entering"),c){let b=o.executionAsyncId(),x=o.triggerAsyncId(),w=" ".repeat(this._indent<0?0:this._indent);g(`${w}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${x} asyncHooksCurrentId:${b} len:${this._set.length} ${r.inspect(y)}`)}this._set.push(this.active),this.active=y},l.prototype.exit=function(y){if(n.ok(y,"context must be provided for exiting"),c){let x=o.executionAsyncId(),w=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);g(`${C}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${w} asyncHooksCurrentId:${x} len:${this._set.length} ${r.inspect(y)}`)}if(this.active===y){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let b=this._set.lastIndexOf(y);b<0?(c&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(y)),n.ok(b>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(y))):(n.ok(b,"can't remove top context"),this._set.splice(b,1))},l.prototype.bindEmitter=function(y){n.ok(y.on&&y.addListener&&y.emit,"can only bind real EEs");let b=this,x="context@"+this.name;function w(D){!D||(D[s]||(D[s]=Object.create(null)),D[s][x]={namespace:b,context:b.active})}function C(D){if(!(D&&D[s]))return D;let N=D,M=D[s];return Object.keys(M).forEach(function(F){let Q=M[F];N=Q.namespace.bind(N,Q.context)}),N}i(y,w,C)},l.prototype.fromException=function(y){return y[a]};function p(y){return process.namespaces[y]}function d(y){n.ok(y,"namespace must be given a name."),c&&g(`NS-CREATING NAMESPACE (${y})`);let b=new l(y);return b.id=u,o.createHook({init(x,w,C,D){if(u=o.executionAsyncId(),b.active){if(b._contexts.set(x,b.active),c){let N=" ".repeat(b._indent<0?0:b._indent);g(`${N}INIT [${w}] (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} resource:${D}`)}}else if(u===0){let N=o.triggerAsyncId(),M=b._contexts.get(N);if(M){if(b._contexts.set(x,M),c){let F=" ".repeat(b._indent<0?0:b._indent);g(`${F}INIT USING CONTEXT FROM TRIGGERID [${w}] (${y}) asyncId:${x} currentUid:${u} triggerId:${N} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} resource:${D}`)}}else if(c){let F=" ".repeat(b._indent<0?0:b._indent);g(`${F}INIT MISSING CONTEXT [${w}] (${y}) asyncId:${x} currentUid:${u} triggerId:${N} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} resource:${D}`)}}if(c&&w==="PROMISE"){g(r.inspect(D,{showHidden:!0}));let N=D.parentId,M=" ".repeat(b._indent<0?0:b._indent);g(`${M}INIT RESOURCE-PROMISE [${w}] (${y}) parentId:${N} asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} resource:${D}`)}},before(x){u=o.executionAsyncId();let w;if(w=b._contexts.get(x)||b._contexts.get(u),w){if(c){let C=o.triggerAsyncId(),D=" ".repeat(b._indent<0?0:b._indent);g(`${D}BEFORE (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(w)}`),b._indent+=2}b.enter(w)}else if(c){let C=o.triggerAsyncId(),D=" ".repeat(b._indent<0?0:b._indent);g(`${D}BEFORE MISSING CONTEXT (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(b._contexts,{showHidden:!0,depth:2,colors:!0})}`),b._indent+=2}},after(x){u=o.executionAsyncId();let w;if(w=b._contexts.get(x)||b._contexts.get(u),w){if(c){let C=o.triggerAsyncId();b._indent-=2;let D=" ".repeat(b._indent<0?0:b._indent);g(`${D}AFTER (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(w)}`)}b.exit(w)}else if(c){let C=o.triggerAsyncId();b._indent-=2;let D=" ".repeat(b._indent<0?0:b._indent);g(`${D}AFTER MISSING CONTEXT (${y}) asyncId:${x} currentUid:${u} triggerId:${C} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(w)}`)}},destroy(x){if(u=o.executionAsyncId(),c){let w=o.triggerAsyncId(),C=" ".repeat(b._indent<0?0:b._indent);g(`${C}DESTROY (${y}) currentUid:${u} asyncId:${x} triggerId:${w} active:${r.inspect(b.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(b._contexts.get(u))}`)}b._contexts.delete(x)}}).enable(),process.namespaces[y]=b,b}function f(y){let b=p(y);n.ok(b,`can't delete nonexistent namespace! "`+y+'"'),n.ok(b.id,"don't assign to process.namespaces directly! "+r.inspect(b)),process.namespaces[y]=null}function m(){process.namespaces&&Object.keys(process.namespaces).forEach(function(y){f(y)}),process.namespaces=Object.create(null)}process.namespaces={};function g(...y){c&&process._rawDebug(`${r.format(...y)}`)}}),QM=A((t,e)=>{"use strict";function r(){}e.exports=function(){let n=this._hooks,i=this._state,o=process.nextTick;process.nextTick=function(){if(!i.enabled)return o.apply(process,arguments);let s=new Array(arguments.length);for(let l=0;l<arguments.length;l++)s[l]=arguments[l];let a=s[0];if(typeof a!="function")throw new TypeError("callback is not a function");let c=new r,u=--i.counter;return n.init.call(c,u,0,null,null),s[0]=function(){n.pre.call(c,u);let l=!0;try{a.apply(this,arguments),l=!1}finally{l&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){n.post.call(c,u,!0),n.destroy.call(null,u)})}n.post.call(c,u,!1),n.destroy.call(null,u)},o.apply(process,s)}}}),YM=A((t,e)=>{"use strict";function r(){}e.exports=function(){let n=this._hooks,i=this._state,o=global.Promise,s=o.prototype.then;o.prototype.then=l;function a(p,d,f,m){return typeof p!="function"?m?c(f):u(f):function(){n.pre.call(d,f);try{return p.apply(this,arguments)}finally{n.post.call(d,f,!1),n.destroy.call(null,f)}}}function c(p){return function(d){return n.destroy.call(null,p),d}}function u(p){return function(d){throw n.destroy.call(null,p),d}}function l(p,d){if(!i.enabled)return s.call(this,p,d);let f=new r,m=--i.counter;return n.init.call(f,m,0,null,null),s.call(this,a(p,f,m,!0),a(d,f,m,!1))}}}),ZM=A((t,e)=>{"use strict";var r=require("timers");function n(){}function i(){}function o(){}var s=new Map,a=new Map,c=new Map,u=null,l=!1;e.exports=function(){p(this._hooks,this._state,"setTimeout","clearTimeout",n,s,!0),p(this._hooks,this._state,"setInterval","clearInterval",i,a,!1),p(this._hooks,this._state,"setImmediate","clearImmediate",o,c,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate};function p(d,f,m,g,y,b,x){let w=r[m],C=r[g];r[m]=function(){if(!f.enabled)return w.apply(r,arguments);let D=new Array(arguments.length);for(let ne=0;ne<arguments.length;ne++)D[ne]=arguments[ne];let N=D[0];if(typeof N!="function")throw new TypeError('"callback" argument must be a function');let M=new y,F=--f.counter,Q;return d.init.call(M,F,0,null,null),D[0]=function(){u=Q,d.pre.call(M,F);let ne=!0;try{N.apply(this,arguments),ne=!1}finally{ne&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){d.post.call(M,F,!0),b.delete(Q),d.destroy.call(null,F)})}d.post.call(M,F,!1),u=null,(x||l)&&(l=!1,b.delete(Q),d.destroy.call(null,F))},Q=w.apply(r,D),b.set(Q,F),Q},r[g]=function(D){if(u===D&&D!==null)l=!0;else if(b.has(D)){let N=b.get(D);b.delete(D),d.destroy.call(null,N)}C.apply(r,arguments)}}}),Sx=A((t,e)=>{e.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}),JM=A((t,e)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:QM(),promise:YM(),timers:ZM()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let l=this.initFns=[],p=this.preFns=[],d=this.postFns=[],f=this.destroyFns=[];this.init=function(m,g,y,b){if(g===n){o.add(m);return}for(let x of l)x(m,this,g,y,b)},this.pre=function(m){if(!o.has(m))for(let g of p)g(m,this)},this.post=function(m,g){if(!o.has(m))for(let y of d)y(m,this,g)},this.destroy=function(m){if(o.has(m)){o.delete(m);return}for(let g of f)g(m)}}a.prototype.add=function(l){l.init&&this.initFns.push(l.init),l.pre&&this.preFns.push(l.pre),l.post&&this.postFns.push(l.post),l.destroy&&this.destroyFns.push(l.destroy)};function c(l,p){let d=l.indexOf(p);d!==-1&&l.splice(d,1)}a.prototype.remove=function(l){l.init&&c(this.initFns,l.init),l.pre&&c(this.preFns,l.pre),l.post&&c(this.postFns,l.post),l.destroy&&c(this.destroyFns,l.destroy)};function u(){this._state=new s,this._hooks=new a,this.version=Sx().version,this.providers=r.Providers;for(let l of Object.keys(i))i[l].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}e.exports=u,u.prototype.addHooks=function(l){this._hooks.add(l)},u.prototype.removeHooks=function(l){this._hooks.remove(l)},u.prototype.enable=function(){this._state.enabled=!0,r.enable()},u.prototype.disable=function(){this._state.enabled=!1,r.disable()}}),Tx=A((t,e)=>{e.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}),eq=A((t,e)=>{function r(n){try{return Error.prototype.toString.call(n)}catch(i){try{return"<error: "+i+">"}catch{return"<error>"}}}e.exports=function(n,i){var o=[];o.push(r(n));for(var s=0;s<i.length;s++){var a=i[s],c;try{c=a.toString()}catch(u){try{c="<error: "+u+">"}catch{c="<error>"}}o.push("    at "+c)}return o.join(`
`)}}),tq=A((t,e)=>{var r=eq();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=Tx().version}var i=!1;n.prototype.callSite=function p(d){d||(d={}),i=!0;var f={};Error.captureStackTrace(f,p);var m=f.stack;return i=!1,m=m.slice(d.slice||0),d.extend&&(m=this.extend._modify(f,m)),d.filter&&(m=this.filter._modify(f,m)),m};var o=new n;function s(){this._modifiers=[]}s.prototype._modify=function(p,d){for(var f=0,m=this._modifiers.length;f<m;f++)d=this._modifiers[f](p,d);return d},s.prototype.attach=function(p){this._modifiers.push(p)},s.prototype.deattach=function(p){var d=this._modifiers.indexOf(p);return d===-1?!1:(this._modifiers.splice(d,1),!0)};function a(){this._formater=r,this._previous=void 0}a.prototype.replace=function(p){p?this._formater=p:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function u(p,d){if(i)return d;if(c)return r(p,d);var f=d.concat();f=o.extend._modify(p,f),f=o.filter._modify(p,f),f=f.slice(0,Error.stackTraceLimit),Object.isExtensible(p)&&Object.getOwnPropertyDescriptor(p,"callSite")===void 0&&(p.callSite={original:d,mutated:f}),c=!0;var m=o.format._formater(p,f);return c=!1,m}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(p){p===u?o.format._roolback():(o.format._backup(),o.format.replace(p))}});function l(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:l,set:function(p){Object.defineProperty(this,"callSite",{value:p,writable:!0,configurable:!0})},configurable:!0}),e.exports=o}),Rx=A((t,e)=>{if(global._stackChain)if(global._stackChain.version===Tx().version)e.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else e.exports=global._stackChain=tq()}),rq=A((t,e)=>{"use strict";var r=JM();if(global._asyncHook)if(global._asyncHook.version===Sx().version)e.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else Rx().filter.attach(function(n,i){return i.filter(function(o){let s=o.getFileName();return!(s&&s.slice(0,__dirname.length)===__dirname)})}),e.exports=global._asyncHook=new r}),nq=A((t,e)=>{"use strict";var r=require("util"),n=require("assert"),i=xf(),o=rq(),s="cls@contexts",a="error@context",c=[];for(let C in o.providers)c[o.providers[C]]=C;var u=process.env.DEBUG_CLS_HOOKED,l=-1;e.exports={getNamespace:d,createNamespace:f,destroyNamespace:m,reset:g,ERROR_SYMBOL:a};function p(C){this.name=C,this.active=null,this._set=[],this.id=null,this._contexts=new Map}p.prototype.set=function(C,D){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&y("    SETTING KEY:"+C+"="+D+" in ns:"+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[C]=D,D},p.prototype.get=function(C){if(!this.active){u&&y("    GETTING KEY:"+C+"=undefined "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0));return}return u&&y("    GETTING KEY:"+C+"="+this.active[C]+" "+this.name+" uid:"+l+" active:"+r.inspect(this.active,!0)),this.active[C]},p.prototype.createContext=function(){u&&y("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let C=Object.create(this.active?this.active:Object.prototype);return C._ns_name=this.name,C.id=l,u&&y("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+r.inspect(C,!0,2,!0)),C},p.prototype.run=function(C){let D=this.createContext();this.enter(D);try{return u&&y(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(D)),C(D),D}catch(N){throw N&&(N[a]=D),N}finally{u&&y(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(D)),this.exit(D)}},p.prototype.runAndReturn=function(C){var D;return this.run(function(N){D=C(N)}),D},p.prototype.runPromise=function(C){let D=this.createContext();this.enter(D);let N=C(D);if(!N||!N.then||!N.catch)throw new Error("fn must return a promise.");return u&&y(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(D)),N.then(M=>(u&&y(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(D)),this.exit(D),M)).catch(M=>{throw M[a]=D,u&&y(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+r.inspect(D)),this.exit(D),M})},p.prototype.bind=function(C,D){D||(this.active?D=this.active:D=this.createContext());let N=this;return function(){N.enter(D);try{return C.apply(this,arguments)}catch(M){throw M&&(M[a]=D),M}finally{N.exit(D)}}},p.prototype.enter=function(C){n.ok(C,"context must be provided for entering"),u&&y("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(C)),this._set.push(this.active),this.active=C},p.prototype.exit=function(C){if(n.ok(C,"context must be provided for exiting"),u&&y("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+r.inspect(C)),this.active===C){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let D=this._set.lastIndexOf(C);D<0?(u&&y("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(C)),n.ok(D>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(C))):(n.ok(D,"can't remove top context"),this._set.splice(D,1))},p.prototype.bindEmitter=function(C){n.ok(C.on&&C.addListener&&C.emit,"can only bind real EEs");let D=this,N="context@"+this.name;function M(Q){!Q||(Q[s]||(Q[s]=Object.create(null)),Q[s][N]={namespace:D,context:D.active})}function F(Q){if(!(Q&&Q[s]))return Q;let ne=Q,X=Q[s];return Object.keys(X).forEach(function(H){let ae=X[H];ne=ae.namespace.bind(ne,ae.context)}),ne}i(C,M,F)},p.prototype.fromException=function(C){return C[a]};function d(C){return process.namespaces[C]}function f(C){n.ok(C,"namespace must be given a name."),u&&y("CREATING NAMESPACE "+C);let D=new p(C);return D.id=l,o.addHooks({init(N,M,F,Q,ne){l=N,Q?(D._contexts.set(N,D._contexts.get(Q)),u&&y("PARENTID: "+C+" uid:"+N+" parent:"+Q+" provider:"+F)):D._contexts.set(l,D.active),u&&y("INIT "+C+" uid:"+N+" parent:"+Q+" provider:"+c[F]+" active:"+r.inspect(D.active,!0))},pre(N,M){l=N;let F=D._contexts.get(N);F?(u&&y(" PRE "+C+" uid:"+N+" handle:"+b(M)+" context:"+r.inspect(F)),D.enter(F)):u&&y(" PRE MISSING CONTEXT "+C+" uid:"+N+" handle:"+b(M))},post(N,M){l=N;let F=D._contexts.get(N);F?(u&&y(" POST "+C+" uid:"+N+" handle:"+b(M)+" context:"+r.inspect(F)),D.exit(F)):u&&y(" POST MISSING CONTEXT "+C+" uid:"+N+" handle:"+b(M))},destroy(N){l=N,u&&y("DESTROY "+C+" uid:"+N+" context:"+r.inspect(D._contexts.get(l))+" active:"+r.inspect(D.active,!0)),D._contexts.delete(N)}}),process.namespaces[C]=D,D}function m(C){let D=d(C);n.ok(D,`can't delete nonexistent namespace! "`+C+'"'),n.ok(D.id,"don't assign to process.namespaces directly! "+r.inspect(D)),process.namespaces[C]=null}function g(){process.namespaces&&Object.keys(process.namespaces).forEach(function(C){m(C)}),process.namespaces=Object.create(null)}process.namespaces={},o._state&&!o._state.enabled&&o.enable();function y(C){process.env.DEBUG&&process._rawDebug(C)}function b(C){if(!C)return C;if(typeof C=="function")return C.name?C.name:(C.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(C.constructor&&C.constructor.name)return C.constructor.name}if(u){x=Rx();for(w in x.filter._modifiers)x.filter.deattach(w)}var x,w}),iq=A((t,e)=>{"use strict";var r=KM();process&&r.gte(process.versions.node,"8.0.0")?e.exports=XM():e.exports=nq()}),oq=A((t,e)=>{t=e.exports=ue;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var v=Array.prototype.slice.call(arguments,0);v.unshift("SEMVER"),console.log.apply(console,v)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var p=c++;a[p]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var f=c++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[p]+")";var g=c++;a[g]="(?:"+a[l]+"|"+a[p]+")";var y=c++;a[y]="(?:-("+a[m]+"(?:\\."+a[m]+")*))";var b=c++;a[b]="(?:-?("+a[g]+"(?:\\."+a[g]+")*))";var x=c++;a[x]="[0-9A-Za-z-]+";var w=c++;a[w]="(?:\\+("+a[x]+"(?:\\."+a[x]+")*))";var C=c++,D="v?"+a[d]+a[y]+"?"+a[w]+"?";a[C]="^"+D+"$";var N="[v=\\s]*"+a[f]+a[b]+"?"+a[w]+"?",M=c++;a[M]="^"+N+"$";var F=c++;a[F]="((?:<|>)?=?)";var Q=c++;a[Q]=a[l]+"|x|X|\\*";var ne=c++;a[ne]=a[u]+"|x|X|\\*";var X=c++;a[X]="[v=\\s]*("+a[ne]+")(?:\\.("+a[ne]+")(?:\\.("+a[ne]+")(?:"+a[y]+")?"+a[w]+"?)?)?";var H=c++;a[H]="[v=\\s]*("+a[Q]+")(?:\\.("+a[Q]+")(?:\\.("+a[Q]+")(?:"+a[b]+")?"+a[w]+"?)?)?";var ae=c++;a[ae]="^"+a[F]+"\\s*"+a[X]+"$";var ee=c++;a[ee]="^"+a[F]+"\\s*"+a[H]+"$";var xe=c++;a[xe]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var pe=c++;a[pe]="(?:~>?)";var z=c++;a[z]="(\\s*)"+a[pe]+"\\s+",s[z]=new RegExp(a[z],"g");var Z="$1~",te=c++;a[te]="^"+a[pe]+a[X]+"$";var de=c++;a[de]="^"+a[pe]+a[H]+"$";var he=c++;a[he]="(?:\\^)";var Pe=c++;a[Pe]="(\\s*)"+a[he]+"\\s+",s[Pe]=new RegExp(a[Pe],"g");var Te="$1^",Be=c++;a[Be]="^"+a[he]+a[X]+"$";var We=c++;a[We]="^"+a[he]+a[H]+"$";var mt=c++;a[mt]="^"+a[F]+"\\s*("+N+")$|^$";var it=c++;a[it]="^"+a[F]+"\\s*("+D+")$|^$";var ke=c++;a[ke]="(\\s*)"+a[F]+"\\s*("+N+"|"+a[X]+")",s[ke]=new RegExp(a[ke],"g");var It="$1$2$3",jt=c++;a[jt]="^\\s*("+a[X]+")\\s+-\\s+("+a[X]+")\\s*$";var Me=c++;a[Me]="^\\s*("+a[H]+")\\s+-\\s+("+a[H]+")\\s*$";var we=c++;for(a[we]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;t.parse=et;function et(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue)return v;if(typeof v!="string"||v.length>n)return null;var _=h.loose?s[M]:s[C];if(!_.test(v))return null;try{return new ue(v,h)}catch{return null}}t.valid=Ir;function Ir(v,h){var _=et(v,h);return _?_.version:null}t.clean=Jr;function Jr(v,h){var _=et(v.trim().replace(/^[=v]+/,""),h);return _?_.version:null}t.SemVer=ue;function ue(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof ue){if(v.loose===h.loose)return v;v=v.version}else if(typeof v!="string")throw new TypeError("Invalid Version: "+v);if(v.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ue))return new ue(v,h);r("SemVer",v,h),this.options=h,this.loose=!!h.loose;var _=v.trim().match(h.loose?s[M]:s[C]);if(!_)throw new TypeError("Invalid Version: "+v);if(this.raw=v,this.major=+_[1],this.minor=+_[2],this.patch=+_[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");_[4]?this.prerelease=_[4].split(".").map(function(R){if(/^[0-9]+$/.test(R)){var P=+R;if(P>=0&&P<i)return P}return R}):this.prerelease=[],this.build=_[5]?_[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(v){return r("SemVer.compare",this.version,this.options,v),v instanceof ue||(v=new ue(v,this.options)),this.compareMain(v)||this.comparePre(v)},ue.prototype.compareMain=function(v){return v instanceof ue||(v=new ue(v,this.options)),ht(this.major,v.major)||ht(this.minor,v.minor)||ht(this.patch,v.patch)},ue.prototype.comparePre=function(v){if(v instanceof ue||(v=new ue(v,this.options)),this.prerelease.length&&!v.prerelease.length)return-1;if(!this.prerelease.length&&v.prerelease.length)return 1;if(!this.prerelease.length&&!v.prerelease.length)return 0;var h=0;do{var _=this.prerelease[h],R=v.prerelease[h];if(r("prerelease compare",h,_,R),_===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(_===void 0)return-1;if(_!==R)return ht(_,R)}while(++h)},ue.prototype.inc=function(v,h){switch(v){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h),this.inc("pre",h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h),this.inc("pre",h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var _=this.prerelease.length;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);_===-1&&this.prerelease.push(0)}h&&(this.prerelease[0]===h?isNaN(this.prerelease[1])&&(this.prerelease=[h,0]):this.prerelease=[h,0]);break;default:throw new Error("invalid increment argument: "+v)}return this.format(),this.raw=this.version,this},t.inc=Lr;function Lr(v,h,_,R){typeof _=="string"&&(R=_,_=void 0);try{return new ue(v,_).inc(h,R).version}catch{return null}}t.diff=Wt;function Wt(v,h){if(Qe(v,h))return null;var _=et(v),R=et(h),P="";if(_.prerelease.length||R.prerelease.length){P="pre";var U="prerelease"}for(var V in _)if((V==="major"||V==="minor"||V==="patch")&&_[V]!==R[V])return P+V;return U}t.compareIdentifiers=ht;var Ht=/^[0-9]+$/;function ht(v,h){var _=Ht.test(v),R=Ht.test(h);return _&&R&&(v=+v,h=+h),v===h?0:_&&!R?-1:R&&!_?1:v<h?-1:1}t.rcompareIdentifiers=nr;function nr(v,h){return ht(h,v)}t.major=Bt;function Bt(v,h){return new ue(v,h).major}t.minor=Mr;function Mr(v,h){return new ue(v,h).minor}t.patch=jr;function jr(v,h){return new ue(v,h).patch}t.compare=lt;function lt(v,h,_){return new ue(v,_).compare(new ue(h,_))}t.compareLoose=Wr;function Wr(v,h){return lt(v,h,!0)}t.rcompare=Zt;function Zt(v,h,_){return lt(h,v,_)}t.sort=q;function q(v,h){return v.sort(function(_,R){return t.compare(_,R,h)})}t.rsort=oe;function oe(v,h){return v.sort(function(_,R){return t.rcompare(_,R,h)})}t.gt=fe;function fe(v,h,_){return lt(v,h,_)>0}t.lt=ve;function ve(v,h,_){return lt(v,h,_)<0}t.eq=Qe;function Qe(v,h,_){return lt(v,h,_)===0}t.neq=tt;function tt(v,h,_){return lt(v,h,_)!==0}t.gte=ot;function ot(v,h,_){return lt(v,h,_)>=0}t.lte=Ye;function Ye(v,h,_){return lt(v,h,_)<=0}t.cmp=qe;function qe(v,h,_,R){switch(h){case"===":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v===_;case"!==":return typeof v=="object"&&(v=v.version),typeof _=="object"&&(_=_.version),v!==_;case"":case"=":case"==":return Qe(v,_,R);case"!=":return tt(v,_,R);case">":return fe(v,_,R);case">=":return ot(v,_,R);case"<":return ve(v,_,R);case"<=":return Ye(v,_,R);default:throw new TypeError("Invalid operator: "+h)}}t.Comparator=Re;function Re(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof Re){if(v.loose===!!h.loose)return v;v=v.value}if(!(this instanceof Re))return new Re(v,h);r("comparator",v,h),this.options=h,this.loose=!!h.loose,this.parse(v),this.semver===Ue?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var Ue={};Re.prototype.parse=function(v){var h=this.options.loose?s[mt]:s[it],_=v.match(h);if(!_)throw new TypeError("Invalid comparator: "+v);this.operator=_[1],this.operator==="="&&(this.operator=""),_[2]?this.semver=new ue(_[2],this.options.loose):this.semver=Ue},Re.prototype.toString=function(){return this.value},Re.prototype.test=function(v){return r("Comparator.test",v,this.options.loose),this.semver===Ue?!0:(typeof v=="string"&&(v=new ue(v,this.options)),qe(v,this.operator,this.semver,this.options))},Re.prototype.intersects=function(v,h){if(!(v instanceof Re))throw new TypeError("a Comparator is required");(!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1});var _;if(this.operator==="")return _=new me(v.value,h),I(this.value,_,h);if(v.operator==="")return _=new me(this.value,h),I(v.semver,_,h);var R=(this.operator===">="||this.operator===">")&&(v.operator===">="||v.operator===">"),P=(this.operator==="<="||this.operator==="<")&&(v.operator==="<="||v.operator==="<"),U=this.semver.version===v.semver.version,V=(this.operator===">="||this.operator==="<=")&&(v.operator===">="||v.operator==="<="),ie=qe(this.semver,"<",v.semver,h)&&(this.operator===">="||this.operator===">")&&(v.operator==="<="||v.operator==="<"),le=qe(this.semver,">",v.semver,h)&&(this.operator==="<="||this.operator==="<")&&(v.operator===">="||v.operator===">");return R||P||U&&V||ie||le},t.Range=me;function me(v,h){if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),v instanceof me)return v.loose===!!h.loose&&v.includePrerelease===!!h.includePrerelease?v:new me(v.raw,h);if(v instanceof Re)return new me(v.value,h);if(!(this instanceof me))return new me(v,h);if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=v,this.set=v.split(/\s*\|\|\s*/).map(function(_){return this.parseRange(_.trim())},this).filter(function(_){return _.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+v);this.format()}me.prototype.format=function(){return this.range=this.set.map(function(v){return v.join(" ").trim()}).join("||").trim(),this.range},me.prototype.toString=function(){return this.range},me.prototype.parseRange=function(v){var h=this.options.loose;v=v.trim();var _=h?s[Me]:s[jt];v=v.replace(_,L),r("hyphen replace",v),v=v.replace(s[ke],It),r("comparator trim",v,s[ke]),v=v.replace(s[z],Z),v=v.replace(s[Pe],Te),v=v.split(/\s+/).join(" ");var R=h?s[mt]:s[it],P=v.split(" ").map(function(U){return zt(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(P=P.filter(function(U){return!!U.match(R)})),P=P.map(function(U){return new Re(U,this.options)},this),P},me.prototype.intersects=function(v,h){if(!(v instanceof me))throw new TypeError("a Range is required");return this.set.some(function(_){return _.every(function(R){return v.set.some(function(P){return P.every(function(U){return R.intersects(U,h)})})})})},t.toComparators=Ft;function Ft(v,h){return new me(v,h).set.map(function(_){return _.map(function(R){return R.value}).join(" ").trim().split(" ")})}function zt(v,h){return r("comp",v,h),v=J(v,h),r("caret",v),v=yr(v,h),r("tildes",v),v=bt(v,h),r("xrange",v),v=S(v,h),r("stars",v),v}function je(v){return!v||v.toLowerCase()==="x"||v==="*"}function yr(v,h){return v.trim().split(/\s+/).map(function(_){return T(_,h)}).join(" ")}function T(v,h){var _=h.loose?s[de]:s[te];return v.replace(_,function(R,P,U,V,ie){r("tilde",v,R,P,U,V,ie);var le;return je(P)?le="":je(U)?le=">="+P+".0.0 <"+(+P+1)+".0.0":je(V)?le=">="+P+"."+U+".0 <"+P+"."+(+U+1)+".0":ie?(r("replaceTilde pr",ie),le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+(+U+1)+".0"):le=">="+P+"."+U+"."+V+" <"+P+"."+(+U+1)+".0",r("tilde return",le),le})}function J(v,h){return v.trim().split(/\s+/).map(function(_){return Ee(_,h)}).join(" ")}function Ee(v,h){r("caret",v,h);var _=h.loose?s[We]:s[Be];return v.replace(_,function(R,P,U,V,ie){r("caret",v,R,P,U,V,ie);var le;return je(P)?le="":je(U)?le=">="+P+".0.0 <"+(+P+1)+".0.0":je(V)?P==="0"?le=">="+P+"."+U+".0 <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+".0 <"+(+P+1)+".0.0":ie?(r("replaceCaret pr",ie),P==="0"?U==="0"?le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+U+"."+(+V+1):le=">="+P+"."+U+"."+V+"-"+ie+" <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+"."+V+"-"+ie+" <"+(+P+1)+".0.0"):(r("no pr"),P==="0"?U==="0"?le=">="+P+"."+U+"."+V+" <"+P+"."+U+"."+(+V+1):le=">="+P+"."+U+"."+V+" <"+P+"."+(+U+1)+".0":le=">="+P+"."+U+"."+V+" <"+(+P+1)+".0.0"),r("caret return",le),le})}function bt(v,h){return r("replaceXRanges",v,h),v.split(/\s+/).map(function(_){return W(_,h)}).join(" ")}function W(v,h){v=v.trim();var _=h.loose?s[ee]:s[ae];return v.replace(_,function(R,P,U,V,ie,le){r("xRange",v,R,P,U,V,ie,le);var Le=je(U),gt=Le||je(V),st=gt||je(ie),Je=st;return P==="="&&Je&&(P=""),Le?P===">"||P==="<"?R="<0.0.0":R="*":P&&Je?(gt&&(V=0),ie=0,P===">"?(P=">=",gt?(U=+U+1,V=0,ie=0):(V=+V+1,ie=0)):P==="<="&&(P="<",gt?U=+U+1:V=+V+1),R=P+U+"."+V+"."+ie):gt?R=">="+U+".0.0 <"+(+U+1)+".0.0":st&&(R=">="+U+"."+V+".0 <"+U+"."+(+V+1)+".0"),r("xRange return",R),R})}function S(v,h){return r("replaceStars",v,h),v.trim().replace(s[we],"")}function L(v,h,_,R,P,U,V,ie,le,Le,gt,st,Je){return je(_)?h="":je(R)?h=">="+_+".0.0":je(P)?h=">="+_+"."+R+".0":h=">="+h,je(le)?ie="":je(Le)?ie="<"+(+le+1)+".0.0":je(gt)?ie="<"+le+"."+(+Le+1)+".0":st?ie="<="+le+"."+Le+"."+gt+"-"+st:ie="<="+ie,(h+" "+ie).trim()}me.prototype.test=function(v){if(!v)return!1;typeof v=="string"&&(v=new ue(v,this.options));for(var h=0;h<this.set.length;h++)if(j(this.set[h],v,this.options))return!0;return!1};function j(v,h,_){for(var R=0;R<v.length;R++)if(!v[R].test(h))return!1;if(h.prerelease.length&&!_.includePrerelease){for(R=0;R<v.length;R++)if(r(v[R].semver),v[R].semver!==Ue&&v[R].semver.prerelease.length>0){var P=v[R].semver;if(P.major===h.major&&P.minor===h.minor&&P.patch===h.patch)return!0}return!1}return!0}t.satisfies=I;function I(v,h,_){try{h=new me(h,_)}catch{return!1}return h.test(v)}t.maxSatisfying=E;function E(v,h,_){var R=null,P=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||P.compare(V)===-1)&&(R=V,P=new ue(R,_))}),R}t.minSatisfying=Y;function Y(v,h,_){var R=null,P=null;try{var U=new me(h,_)}catch{return null}return v.forEach(function(V){U.test(V)&&(!R||P.compare(V)===1)&&(R=V,P=new ue(R,_))}),R}t.minVersion=se;function se(v,h){v=new me(v,h);var _=new ue("0.0.0");if(v.test(_)||(_=new ue("0.0.0-0"),v.test(_)))return _;_=null;for(var R=0;R<v.set.length;++R){var P=v.set[R];P.forEach(function(U){var V=new ue(U.semver.version);switch(U.operator){case">":V.prerelease.length===0?V.patch++:V.prerelease.push(0),V.raw=V.format();case"":case">=":(!_||fe(_,V))&&(_=V);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return _&&v.test(_)?_:null}t.validRange=ze;function ze(v,h){try{return new me(v,h).range||"*"}catch{return null}}t.ltr=Nt;function Nt(v,h,_){return Kt(v,h,"<",_)}t.gtr=xt;function xt(v,h,_){return Kt(v,h,">",_)}t.outside=Kt;function Kt(v,h,_,R){v=new ue(v,R),h=new me(h,R);var P,U,V,ie,le;switch(_){case">":P=fe,U=Ye,V=ve,ie=">",le=">=";break;case"<":P=ve,U=ot,V=fe,ie="<",le="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I(v,h,R))return!1;for(var Le=0;Le<h.set.length;++Le){var gt=h.set[Le],st=null,Je=null;if(gt.forEach(function(Mt){Mt.semver===Ue&&(Mt=new Re(">=0.0.0")),st=st||Mt,Je=Je||Mt,P(Mt.semver,st.semver,R)?st=Mt:V(Mt.semver,Je.semver,R)&&(Je=Mt)}),st.operator===ie||st.operator===le||(!Je.operator||Je.operator===ie)&&U(v,Je.semver)||Je.operator===le&&V(v,Je.semver))return!1}return!0}t.prerelease=Tr;function Tr(v,h){var _=et(v,h);return _&&_.prerelease.length?_.prerelease:null}t.intersects=ir;function ir(v,h,_){return v=new me(v,_),h=new me(h,_),v.intersects(h)}t.coerce=rt;function rt(v){if(v instanceof ue)return v;if(typeof v!="string")return null;var h=v.match(s[xe]);return h==null?null:et(h[1]+"."+(h[2]||"0")+"."+(h[3]||"0"))}}),sq=A((t,e)=>{var r=_f().wrap,n=1,i=2,o=4,s=8,a=[],c=0,u=!1,l=[],p,d;function f(M,F){var Q=M.length,ne=F.length,X=[];if(Q===0&&ne===0)return X;for(var H=0;H<Q;H++)X[H]=M[H];if(ne===0)return X;for(var ae=0;ae<ne;ae++){var ee=!0;for(H=0;H<Q;H++)if(M[H].uid===F[ae].uid){ee=!1;break}ee&&X.push(F[ae])}return X}process._fatalException?(m=!1,p=function(M){var F=a.length;if(m||F===0)return!1;var Q=!1;m=!0;for(var ne=0;ne<F;++ne){var X=a[ne];if(X.flags&s){var H=g&&g[X.uid];Q=X.error(H,M)||Q}}return m=!1,l.length>0&&(a=l.pop()),g=void 0,Q&&!u},d=function(M,F,Q){var ne=[];u=!0;for(var X=0;X<Q;++X){var H=F[X];if(ne[H.uid]=H.data,(H.flags&n)!==0){var ae=H.create(H.data);ae!==void 0&&(ne[H.uid]=ae)}}return u=!1,function(){g=ne,l.push(a),a=f(F,a),u=!0;for(var ee=0;ee<Q;++ee)(F[ee].flags&i)>0&&F[ee].before(this,ne[F[ee].uid]);u=!1;var xe=M.apply(this,arguments);for(u=!0,ee=0;ee<Q;++ee)(F[ee].flags&o)>0&&F[ee].after(this,ne[F[ee].uid]);return u=!1,a=l.pop(),g=void 0,xe}},r(process,"_fatalException",function(M){return function(F){return p(F)||M(F)}})):(y=!1,p=function(M){if(y)throw M;for(var F=!1,Q=a.length,ne=0;ne<Q;++ne){var X=a[ne];X.flags&s&&(F=X.error(null,M)||F)}if(!F&&u)throw M},d=function(M,F,Q){var ne=[];u=!0;for(var X=0;X<Q;++X){var H=F[X];if(ne[H.uid]=H.data,(H.flags&n)!==0){var ae=H.create(H.data);ae!==void 0&&(ne[H.uid]=ae)}}return u=!1,function(){var ee=!1,xe=!1;l.push(a),a=f(F,a),u=!0;for(var pe=0;pe<Q;++pe)(F[pe].flags&i)>0&&F[pe].before(this,ne[F[pe].uid]);u=!1;var z;try{z=M.apply(this,arguments)}catch(Z){ee=!0;for(var pe=0;pe<Q;++pe)if(a[pe].flags&s)try{xe=a[pe].error(ne[F[pe].uid],Z)||xe}catch(de){throw y=!0,de}if(!xe)throw process.removeListener("uncaughtException",p),process._originalNextTick(function(){process.addListener("uncaughtException",p)}),Z}finally{if(!ee||xe){for(u=!0,pe=0;pe<Q;++pe)(F[pe].flags&o)>0&&F[pe].after(this,ne[F[pe].uid]);u=!1}a=l.pop()}return z}},process.addListener("uncaughtException",p));var m,g,y;function b(M,F,Q){u=!0;for(var ne=0;ne<Q;++ne){var X=F[ne];X.create&&X.create(X.data)}return u=!1,function(){l.push(a),a=f(F,a);var H=M.apply(this,arguments);return a=l.pop(),H}}function x(M){var F=a.length;if(F===0)return M;for(var Q=a.slice(),ne=0;ne<F;++ne)if(Q[ne].flags>0)return d(M,Q,F);return b(M,Q,F)}function w(M,F){typeof M.create=="function"&&(this.create=M.create,this.flags|=n),typeof M.before=="function"&&(this.before=M.before,this.flags|=i),typeof M.after=="function"&&(this.after=M.after,this.flags|=o),typeof M.error=="function"&&(this.error=M.error,this.flags|=s),this.uid=++c,this.data=F===void 0?null:F}w.prototype.create=void 0,w.prototype.before=void 0,w.prototype.after=void 0,w.prototype.error=void 0,w.prototype.data=void 0,w.prototype.uid=0,w.prototype.flags=0;function C(M,F){if(typeof M!="object"||!M)throw new TypeError("callbacks argument must be an object");return M instanceof w?M:new w(M,F)}function D(M,F){var Q;M instanceof w?Q=M:Q=C(M,F);for(var ne=!1,X=0;X<a.length;X++)if(Q===a[X]){ne=!0;break}return ne||a.push(Q),Q}function N(M){for(var F=0;F<a.length;F++)if(M===a[F]){a.splice(F,1);break}}process.createAsyncListener=C,process.addAsyncListener=D,process.removeAsyncListener=N,e.exports=x}),aq=A((t,e)=>{"use strict";e.exports=(r,n)=>class extends r{constructor(i){var o,s;super(c);var a=this;try{i.apply(o,s)}catch(u){s[1](u)}return a;function c(u,l){o=this,s=[p,d];function p(f){return n(a,!1),u(f)}function d(f){return n(a,!1),l(f)}}}}}),cq=A(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var t=_f(),e=oq(),r=t.wrap,n=t.massWrap,i=sq(),o=require("util"),s=e.gte(process.version,"6.0.0"),a=e.gte(process.version,"7.0.0"),c=e.gte(process.version,"8.0.0"),u=e.gte(process.version,"11.0.0"),l=require("net");a&&!l._normalizeArgs?l._normalizeArgs=function(z){if(z.length===0)return[{},null];var Z=z[0],te={};typeof Z=="object"&&Z!==null?te=Z:pe(Z)?te.path=Z:(te.port=Z,z.length>1&&typeof z[1]=="string"&&(te.host=z[1]));var de=z[z.length-1];return typeof de!="function"?[te,null]:[te,de]}:!a&&!l._normalizeConnectArgs&&(l._normalizeConnectArgs=function(z){var Z={};function te(he){return(he=Number(he))>=0?he:!1}typeof z[0]=="object"&&z[0]!==null?Z=z[0]:typeof z[0]=="string"&&te(z[0])===!1?Z.path=z[0]:(Z.port=z[0],typeof z[1]=="string"&&(Z.host=z[1]));var de=z[z.length-1];return typeof de=="function"?[Z,de]:[Z]}),"_setUpListenHandle"in l.Server.prototype?r(l.Server.prototype,"_setUpListenHandle",p):r(l.Server.prototype,"_listen2",p);function p(z){return function(){this.on("connection",function(Z){Z._handle&&(Z._handle.onread=i(Z._handle.onread))});try{return z.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function d(z){if(z&&z._handle){var Z=z._handle;Z._originalOnread||(Z._originalOnread=Z.onread),Z.onread=i(Z._originalOnread)}}r(l.Socket.prototype,"connect",function(z){return function(){var Z;c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?Z=arguments[0]:Z=a?l._normalizeArgs(arguments):l._normalizeConnectArgs(arguments),Z[1]&&(Z[1]=i(Z[1]));var te=z.apply(this,Z);return d(this),te}});var f=require("http");r(f.Agent.prototype,"addRequest",function(z){return function(Z){var te=Z.onSocket;return Z.onSocket=i(function(de){return d(de),te.apply(this,arguments)}),z.apply(this,arguments)}});var m=require("child_process");function g(z){Array.isArray(z.stdio)&&z.stdio.forEach(function(Z){Z&&Z._handle&&(Z._handle.onread=i(Z._handle.onread),r(Z._handle,"close",ee))}),z._handle&&(z._handle.onexit=i(z._handle.onexit))}m.ChildProcess?r(m.ChildProcess.prototype,"spawn",function(z){return function(){var Z=z.apply(this,arguments);return g(this),Z}}):n(m,["execFile","fork","spawn"],function(z){return function(){var Z=z.apply(this,arguments);return g(Z),Z}}),process._fatalException||(process._originalNextTick=process.nextTick);var y=[];process._nextDomainTick&&y.push("_nextDomainTick"),process._tickDomainCallback&&y.push("_tickDomainCallback"),n(process,y,ae),r(process,"nextTick",ee);var b=["setTimeout","setInterval"];global.setImmediate&&b.push("setImmediate");var x=require("timers"),w=global.setTimeout===x.setTimeout;n(x,b,ee),w&&n(global,b,ee);var C=require("dns");n(C,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],ae),C.resolveNaptr&&r(C,"resolveNaptr",ae);var D=require("fs");n(D,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],ae),D.lchown&&r(D,"lchown",ae),D.lchmod&&r(D,"lchmod",ae),D.ftruncate&&r(D,"ftruncate",ae);var N;try{N=require("zlib")}catch{}N&&N.Deflate&&N.Deflate.prototype&&(M=Object.getPrototypeOf(N.Deflate.prototype),M._transform?r(M,"_transform",ae):M.write&&M.flush&&M.end&&n(M,["write","flush","end"],ae));var M,F;try{F=require("crypto")}catch{}F&&(Q=["pbkdf2","randomBytes"],u||Q.push("pseudoRandomBytes"),n(F,Q,ae));var Q,ne=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";ne&&(X=process.addAsyncListener({create:function(){ne=!1}}),global.Promise.resolve(!0).then(function(){ne=!1}),process.removeAsyncListener(X));var X;ne&&H();function H(){var z=global.Promise;function Z(Te){if(!(this instanceof Z))return z(Te);if(typeof Te!="function")return new z(Te);var Be,We,mt=new z(it);mt.__proto__=Z.prototype;try{Te.apply(Be,We)}catch(ke){We[1](ke)}return mt;function it(ke,It){Be=this,We=[jt,Me];function jt(we){return de(mt,!1),ke(we)}function Me(we){return de(mt,!1),It(we)}}}if(o.inherits(Z,z),r(z.prototype,"then",Pe),z.prototype.chain&&r(z.prototype,"chain",Pe),s)global.Promise=aq()(z,de);else{var te=["all","race","reject","resolve","accept","defer"];te.forEach(function(Te){typeof z[Te]=="function"&&(Z[Te]=z[Te])}),global.Promise=Z}function de(Te,Be){(!Te.__asl_wrapper||Be)&&(Te.__asl_wrapper=i(he))}function he(Te,Be,We,mt){var it;try{return it=Be.call(Te,We),{returnVal:it,error:!1}}catch(ke){return{errorVal:ke,error:!0}}finally{it instanceof z?mt.__asl_wrapper=function(){var ke=it.__asl_wrapper||he;return ke.apply(this,arguments)}:de(mt,!0)}}function Pe(Te){return function(){var Be=this,We=Te.apply(Be,Array.prototype.map.call(arguments,mt));return We.__asl_wrapper=function(it,ke,It,jt){return Be.__asl_wrapper?(Be.__asl_wrapper(it,function(){},null,We),We.__asl_wrapper(it,ke,It,jt)):he(it,ke,It,jt)},We;function mt(it){return typeof it!="function"?it:i(function(ke){var It=(Be.__asl_wrapper||he)(this,it,ke,We);if(It.error)throw It.errorVal;return It.returnVal})}}}}function ae(z){var Z=function(){var te,de=arguments.length-1;if(typeof arguments[de]=="function"){te=Array(arguments.length);for(var he=0;he<arguments.length-1;he++)te[he]=arguments[he];te[de]=i(arguments[de])}return z.apply(this,te||arguments)};switch(z.length){case 1:return function(te){return arguments.length!==1?Z.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te))};case 2:return function(te,de){return arguments.length!==2?Z.apply(this,arguments):(typeof de=="function"&&(de=i(de)),z.call(this,te,de))};case 3:return function(te,de,he){return arguments.length!==3?Z.apply(this,arguments):(typeof he=="function"&&(he=i(he)),z.call(this,te,de,he))};case 4:return function(te,de,he,Pe){return arguments.length!==4?Z.apply(this,arguments):(typeof Pe=="function"&&(Pe=i(Pe)),z.call(this,te,de,he,Pe))};case 5:return function(te,de,he,Pe,Te){return arguments.length!==5?Z.apply(this,arguments):(typeof Te=="function"&&(Te=i(Te)),z.call(this,te,de,he,Pe,Te))};case 6:return function(te,de,he,Pe,Te,Be){return arguments.length!==6?Z.apply(this,arguments):(typeof Be=="function"&&(Be=i(Be)),z.call(this,te,de,he,Pe,Te,Be))};default:return Z}}function ee(z){var Z=function(){var te;if(typeof arguments[0]=="function"){te=Array(arguments.length),te[0]=i(arguments[0]);for(var de=1;de<arguments.length;de++)te[de]=arguments[de]}return z.apply(this,te||arguments)};switch(z.length){case 1:return function(te){return arguments.length!==1?Z.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te))};case 2:return function(te,de){return arguments.length!==2?Z.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,de))};case 3:return function(te,de,he){return arguments.length!==3?Z.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,de,he))};case 4:return function(te,de,he,Pe){return arguments.length!==4?Z.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,de,he,Pe))};case 5:return function(te,de,he,Pe,Te){return arguments.length!==5?Z.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,de,he,Pe,Te))};case 6:return function(te,de,he,Pe,Te,Be){return arguments.length!==6?Z.apply(this,arguments):(typeof te=="function"&&(te=i(te)),z.call(this,te,de,he,Pe,Te,Be))};default:return Z}}function xe(z){return(z=Number(z))>=0?z:!1}function pe(z){return typeof z=="string"&&xe(z)===!1}}),uq=A((t,e)=>{"use strict";var r=require("assert"),n=xf(),i="cls@contexts",o="error@context";process.addAsyncListener||cq();function s(p){this.name=p,this.active=null,this._set=[],this.id=null}s.prototype.set=function(p,d){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[p]=d,d},s.prototype.get=function(p){if(this.active)return this.active[p]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(p){var d=this.createContext();this.enter(d);try{return p(d),d}catch(f){throw f&&(f[o]=d),f}finally{this.exit(d)}},s.prototype.runAndReturn=function(p){var d;return this.run(function(f){d=p(f)}),d},s.prototype.bind=function(p,d){d||(this.active?d=this.active:d=this.createContext());var f=this;return function(){f.enter(d);try{return p.apply(this,arguments)}catch(m){throw m&&(m[o]=d),m}finally{f.exit(d)}}},s.prototype.enter=function(p){r.ok(p,"context must be provided for entering"),this._set.push(this.active),this.active=p},s.prototype.exit=function(p){if(r.ok(p,"context must be provided for exiting"),this.active===p){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var d=this._set.lastIndexOf(p);r.ok(d>=0,"context not currently entered; can't exit"),r.ok(d,"can't remove top context"),this._set.splice(d,1)},s.prototype.bindEmitter=function(p){r.ok(p.on&&p.addListener&&p.emit,"can only bind real EEs");var d=this,f="context@"+this.name;function m(y){!y||(y[i]||(y[i]=Object.create(null)),y[i][f]={namespace:d,context:d.active})}function g(y){if(!(y&&y[i]))return y;var b=y,x=y[i];return Object.keys(x).forEach(function(w){var C=x[w];b=C.namespace.bind(b,C.context)}),b}n(p,m,g)},s.prototype.fromException=function(p){return p[o]};function a(p){return process.namespaces[p]}function c(p){r.ok(p,"namespace must be given a name!");var d=new s(p);return d.id=process.addAsyncListener({create:function(){return d.active},before:function(f,m){m&&d.enter(m)},after:function(f,m){m&&d.exit(m)},error:function(f){f&&d.exit(f)}}),process.namespaces[p]=d,d}function u(p){var d=a(p);r.ok(d,"can't delete nonexistent namespace!"),r.ok(d.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(d.id),process.namespaces[p]=null}function l(){process.namespaces&&Object.keys(process.namespaces).forEach(function(p){u(p)}),process.namespaces=Object.create(null)}process.namespaces||l(),e.exports={getNamespace:a,createNamespace:c,destroyNamespace:u,reset:l}}),Os=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CorrelationContextManager=void 0;var e=Gr(),r=bf(),n=Lu(),i=yx(),o=Ex(),s=function(){function c(){}return c.getCurrentContext=function(){if(!c.enabled)return null;var u=c.session.get(c.CONTEXT_NAME);return u===void 0?null:u},c.generateContextObject=function(u,l,p,d,f,m){return l=l||u,this.enabled?{operation:{name:p,id:u,parentId:l,traceparent:f,tracestate:m},customProperties:new a(d)}:null},c.spanToContextObject=function(u,l,p){var d=new n;return d.traceId=u.traceId,d.spanId=u.spanId,d.traceFlag=n.formatOpenTelemetryTraceFlags(u.traceFlags)||n.DEFAULT_TRACE_FLAG,d.parentId=l,c.generateContextObject(d.traceId,d.parentId,p,null,d)},c.runWithContext=function(u,l){var p;return c.enabled?c.session.bind(l,(p={},p[c.CONTEXT_NAME]=u,p))():l()},c.wrapEmitter=function(u){c.enabled&&c.session.bindEmitter(u)},c.wrapCallback=function(u,l){var p;return c.enabled?c.session.bind(u,l?(p={},p[c.CONTEXT_NAME]=l,p):void 0):u},c.enable=function(u){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}c.hasEverEnabled||(this.forceClsHooked=u,this.hasEverEnabled=!0,typeof this.cls>"u"&&(c.forceClsHooked===!0||c.forceClsHooked===void 0&&c.shouldUseClsHooked()?this.cls=iq():this.cls=uq()),c.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation(function(l){return c.session.bind(l)})),this.enabled=!0}},c.startOperation=function(u,l){var p=u&&u.traceContext||null,d=u&&u.traceId?u:null,f=u&&u.headers;if(d){var m=new n("00-"+d.traceId+"-"+d.spanId+"-01"),g=new i(d.traceState?d.traceState.serialize():null),y=c.generateContextObject(d.traceId,"|"+d.traceId+"."+d.spanId+".",typeof l=="string"?l:"",void 0,m,g);return y}if(p){var m=new n(p.traceparent),g=new i(p.tracestate),b=typeof l=="object"?new o(l):null,y=c.generateContextObject(m.traceId,m.parentId,typeof l=="string"?l:b.getOperationName({}),b&&b.getCorrelationContextHeader()||void 0,m,g);return y}if(f){var m=new n(f.traceparent?f.traceparent.toString():null),g=new i(f.tracestate?f.tracestate.toString():null),b=new o(u),y=c.generateContextObject(m.traceId,m.parentId,b.getOperationName({}),b.getCorrelationContextHeader(),m,g);return y}return e.warn("startOperation was called with invalid arguments",arguments),null},c.disable=function(){this.enabled=!1},c.reset=function(){c.hasEverEnabled&&(c.session=null,c.session=this.cls.createNamespace("AI-CLS-Session"))},c.isNodeVersionCompatible=function(){var u=process.versions.node.split(".");return parseInt(u[0])>3||parseInt(u[0])>2&&parseInt(u[1])>2},c.shouldUseClsHooked=function(){var u=process.versions.node.split(".");return parseInt(u[0])>8||parseInt(u[0])>=8&&parseInt(u[1])>=2},c.canUseClsHooked=function(){var u=process.versions.node.split("."),l=parseInt(u[0])>8||parseInt(u[0])>=8&&parseInt(u[1])>=0,p=parseInt(u[0])<8||parseInt(u[0])<=8&&parseInt(u[1])<2,d=parseInt(u[0])>4||parseInt(u[0])>=4&&parseInt(u[1])>=7;return!(l&&p)&&d},c.enabled=!1,c.hasEverEnabled=!1,c.forceClsHooked=void 0,c.CONTEXT_NAME="ApplicationInsights-Context",c}();t.CorrelationContextManager=s;var a=function(){function c(u){this.props=[],this.addHeaderData(u)}return c.prototype.addHeaderData=function(u){var l=u?u.split(", "):[];this.props=l.map(function(p){var d=p.split("=");return{key:d[0],value:d[1]}}).concat(this.props)},c.prototype.serializeToHeader=function(){return this.props.map(function(u){return u.key+"="+u.value}).join(", ")},c.prototype.getProperty=function(u){for(var l=0;l<this.props.length;++l){var p=this.props[l];if(p.key===u)return p.value}},c.prototype.setProperty=function(u,l){if(c.bannedCharacters.test(u)||c.bannedCharacters.test(l)){e.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+u+" and value: "+l);return}for(var p=0;p<this.props.length;++p){var d=this.props[p];if(d.key===u){d.value=l;return}}this.props.push({key:u,value:l})},c.bannedCharacters=/[,=]/,c}()}),lq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=_n(),r=Or(),n=[],i=function(a){var c=a.data.message;n.forEach(function(u){c instanceof Error?u.trackException({exception:c}):(c.lastIndexOf(`
`)==c.length-1&&(c=c.substring(0,c.length-1)),u.trackTrace({message:c,severity:a.data.stderr?e.SeverityLevel.Warning:e.SeverityLevel.Information}))})};function o(a,c){a?(n.length===0&&r.channel.subscribe("console",i),n.push(c)):(n=n.filter(function(u){return u!=c}),n.length===0&&r.channel.unsubscribe("console",i))}t.enable=o;function s(){r.channel.unsubscribe("console",i),n=[]}t.dispose=s}),pq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=_n(),r=Or(),n=[],i={10:e.SeverityLevel.Verbose,20:e.SeverityLevel.Verbose,30:e.SeverityLevel.Information,40:e.SeverityLevel.Warning,50:e.SeverityLevel.Error,60:e.SeverityLevel.Critical},o=function(c){var u=c.data.result;n.forEach(function(l){var p=i[c.data.level];u instanceof Error?l.trackException({exception:u}):l.trackTrace({message:u,severity:p})})};function s(c,u){c?(n.length===0&&r.channel.subscribe("bunyan",o),n.push(u)):(n=n.filter(function(l){return l!=u}),n.length===0&&r.channel.unsubscribe("bunyan",o))}t.enable=s;function a(){r.channel.unsubscribe("bunyan",o),n=[]}t.dispose=a}),dq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=_n(),r=Or(),n=[],i={syslog:function(c){var u={emerg:e.SeverityLevel.Critical,alert:e.SeverityLevel.Critical,crit:e.SeverityLevel.Critical,error:e.SeverityLevel.Error,warning:e.SeverityLevel.Warning,notice:e.SeverityLevel.Information,info:e.SeverityLevel.Information,debug:e.SeverityLevel.Verbose};return u[c]===void 0?e.SeverityLevel.Information:u[c]},npm:function(c){var u={error:e.SeverityLevel.Error,warn:e.SeverityLevel.Warning,info:e.SeverityLevel.Information,verbose:e.SeverityLevel.Verbose,debug:e.SeverityLevel.Verbose,silly:e.SeverityLevel.Verbose};return u[c]===void 0?e.SeverityLevel.Information:u[c]},unknown:function(c){return e.SeverityLevel.Information}},o=function(c){var u=c.data.message;n.forEach(function(l){if(u instanceof Error)l.trackException({exception:u,properties:c.data.meta});else{var p=i[c.data.levelKind](c.data.level);l.trackTrace({message:u,severity:p,properties:c.data.meta})}})};function s(c,u){c?(n.length===0&&r.channel.subscribe("winston",o),n.push(u)):(n=n.filter(function(l){return l!=u}),n.length===0&&r.channel.unsubscribe("winston",o))}t.enable=s;function a(){r.channel.unsubscribe("winston",o),n=[]}t.dispose=a}),fq=A((t,e)=>{"use strict";var r=bf(),n=function(){function i(o){if(i.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=o,i.INSTANCE=this}return i.prototype.enable=function(o,s){r.IsInitialized&&(lq().enable(o&&s,this._client),pq().enable(o,this._client),dq().enable(o,this._client))},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.dispose=function(){i.INSTANCE=null,this.enable(!1,!1)},i._methodNames=["debug","info","log","warn","error"],i}();e.exports=n}),mq=A((t,e)=>{"use strict";var r=function(){function n(i){if(n.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");n.INSTANCE=this,this._client=i;var o=process.versions.node.split(".");n._canUseUncaughtExceptionMonitor=parseInt(o[0])>13||parseInt(o[0])===13&&parseInt(o[1])>=7}return n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.enable=function(i){var o=this;if(i){this._isInitialized=!0;var s=this;if(!this._exceptionListenerHandle){var a=function(c,u,l){l===void 0&&(l=new Error(n._FALLBACK_ERROR_MESSAGE)),o._client.trackException({exception:l}),o._client.flush({isAppCrashing:!0}),c&&u&&process.listeners(u).length===1&&(console.error(l),process.exit(1))};n._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=a.bind(this,!0,n.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(n._canUseUncaughtExceptionMonitor?process.removeListener(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n.INSTANCE=null,n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",n.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",n.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",n._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",n._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",n._canUseUncaughtExceptionMonitor=!1,n}();e.exports=r}),to=A(t=>{"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeatMetricName=t.DependencyTypeName=t.SpanAttribute=t.TelemetryTypeStringToQuickPulseDocumentType=t.TelemetryTypeStringToQuickPulseType=t.QuickPulseType=t.QuickPulseDocumentType=t.PerformanceToQuickPulseCounter=t.MetricId=t.PerformanceCounter=t.QuickPulseCounter=t.DEFAULT_LIVEMETRICS_HOST=t.DEFAULT_LIVEMETRICS_ENDPOINT=t.DEFAULT_BREEZE_ENDPOINT=void 0,t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var r;(function(o){o.COMMITTED_BYTES="\\Memory\\Committed Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",o.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",o.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",o.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",o.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",o.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",o.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(r=t.QuickPulseCounter||(t.QuickPulseCounter={}));var n;(function(o){o.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",o.AVAILABLE_BYTES="\\Memory\\Available Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",o.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",o.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(n=t.PerformanceCounter||(t.PerformanceCounter={}));var i;(function(o){o.REQUESTS_DURATION="requests/duration",o.DEPENDENCIES_DURATION="dependencies/duration",o.EXCEPTIONS_COUNT="exceptions/count",o.TRACES_COUNT="traces/count"})(i=t.MetricId||(t.MetricId={})),t.PerformanceToQuickPulseCounter=(e={},e[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,e[n.REQUEST_RATE]=r.REQUEST_RATE,e[n.REQUEST_DURATION]=r.REQUEST_DURATION,e[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,e[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,e[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,e[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,e[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,e[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,e),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability,PageViewData:t.QuickPulseType.PageView},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability,PageViewData:t.QuickPulseDocumentType.PageView},t.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},t.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},t.HeartBeatMetricName="HeartBeat"}),wf=A((t,e)=>{"use strict";var r=require("os"),n=to(),i=function(){function o(s,a,c){a===void 0&&(a=6e4),c===void 0&&(c=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,o.INSTANCE||(o.INSTANCE=this),this._isInitialized=!1,this._client=s,this._collectionInterval=a,this._enableLiveMetricsCounters=c}return o.prototype.enable=function(s,a){var c=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:o._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=a||this._collectionInterval,this._handle=setInterval(function(){return c.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},o.countRequest=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalRequestExecutionTime+=c,a===!1&&o._totalFailedRequestCount++,o._totalRequestCount++}},o.countException=function(){o._totalExceptionCount++},o.countDependency=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalDependencyExecutionTime+=c,a===!1&&o._totalFailedDependencyCount++,o._totalDependencyCount++}},o.prototype.isInitialized=function(){return this._isInitialized},o.isEnabled=function(){return o.INSTANCE&&o.INSTANCE._isEnabled},o.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},o.prototype._trackCpu=function(){var s=r.cpus();if(s&&s.length&&this._lastCpus&&s.length===this._lastCpus.length){for(var a=0,c=0,u=0,l=0,p=0,d=0;s&&d<s.length;d++){var f=s[d],m=this._lastCpus[d],g="% cpu("+d+") ",y=f.model,b=f.speed,x=f.times,w=m.times,C=x.user-w.user||0;a+=C;var D=x.sys-w.sys||0;c+=D;var N=x.nice-w.nice||0;u+=N;var M=x.idle-w.idle||0;l+=M;var F=x.irq-w.irq||0;p+=F}var Q=void 0;if(typeof process.cpuUsage=="function"){var ne=process.cpuUsage(),X=process.hrtime(),H=ne.user-this._lastAppCpuUsage.user+(ne.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var ae=(X[0]-this._lastHrtime[0])*1e6+(X[1]-this._lastHrtime[1])/1e3||0;Q=100*H/(ae*s.length)}this._lastAppCpuUsage=ne,this._lastHrtime=X}var ee=a+c+u+l+p||1;this._client.trackMetric({name:n.PerformanceCounter.PROCESSOR_TIME,value:(ee-l)/ee*100}),this._client.trackMetric({name:n.PerformanceCounter.PROCESS_TIME,value:Q||a/ee*100})}this._lastCpus=s},o.prototype._trackMemory=function(){var s=r.freemem(),a=process.memoryUsage().rss,c=r.totalmem()-s;this._client.trackMetric({name:n.PerformanceCounter.PRIVATE_BYTES,value:a}),this._client.trackMetric({name:n.PerformanceCounter.AVAILABLE_BYTES,value:s}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.COMMITTED_BYTES,value:c})},o.prototype._trackNetwork=function(){var s=this._lastRequests,a={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},c=a.totalRequestCount-s.totalRequestCount||0,u=a.totalFailedRequestCount-s.totalFailedRequestCount||0,l=a.time-s.time,p=l/1e3,d=(o._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/c||0;if(this._lastIntervalRequestExecutionTime=o._intervalRequestExecutionTime,l>0){var f=c/p,m=u/p;this._client.trackMetric({name:n.PerformanceCounter.REQUEST_RATE,value:f}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.PerformanceCounter.REQUEST_DURATION,value:d}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.REQUEST_FAILURE_RATE,value:m})}this._lastRequests=a},o.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastDependencies,a={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},c=a.totalDependencyCount-s.totalDependencyCount||0,u=a.totalFailedDependencyCount-s.totalFailedDependencyCount||0,l=a.time-s.time,p=l/1e3,d=(o._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/c||0;if(this._lastIntervalDependencyExecutionTime=o._intervalDependencyExecutionTime,l>0){var f=c/p,m=u/p;this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_RATE,value:f}),this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:m}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_DURATION,value:d})}this._lastDependencies=a}},o.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastExceptions,a={totalExceptionCount:o._totalExceptionCount,time:+new Date},c=a.totalExceptionCount-s.totalExceptionCount||0,u=a.time-s.time,l=u/1e3;if(u>0){var p=c/l;this._client.trackMetric({name:n.QuickPulseCounter.EXCEPTION_RATE,value:p})}this._lastExceptions=a}},o.prototype.dispose=function(){o.INSTANCE=null,this.enable(!1),this._isInitialized=!1},o._totalRequestCount=0,o._totalFailedRequestCount=0,o._totalDependencyCount=0,o._totalFailedDependencyCount=0,o._totalExceptionCount=0,o._intervalDependencyExecutionTime=0,o._intervalRequestExecutionTime=0,o}();e.exports=i}),hq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregatedMetricCounter=void 0;var e=function(){function r(n){this.dimensions=n,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return r}();t.AggregatedMetricCounter=e}),gq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreaggregatedMetricPropertyNames=void 0,t.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}),Px=A((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(a){for(var c,u=1,l=arguments.length;u<l;u++){c=arguments[u];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(a[p]=c[p])}return a},r.apply(this,arguments)},n=to(),i=hq(),o=gq(),s=function(){function a(c,u){u===void 0&&(u=6e4),a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,a._dependencyCountersCollection=[],a._requestCountersCollection=[],a._exceptionCountersCollection=[],a._traceCountersCollection=[],this._client=c,this._collectionInterval=u}return a.prototype.enable=function(c,u){var l=this;this._isEnabled=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),c?this._handle||(this._collectionInterval=u||this._collectionInterval,this._handle=setInterval(function(){return l.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countException=function(c){if(a.isEnabled()){var u=a._getAggregatedCounter(c,this._exceptionCountersCollection);u.totalCount++}},a.countTrace=function(c){if(a.isEnabled()){var u=a._getAggregatedCounter(c,this._traceCountersCollection);u.totalCount++}},a.countRequest=function(c,u){if(a.isEnabled()){var l,p=a._getAggregatedCounter(u,this._requestCountersCollection);if(typeof c=="string")l=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")l=c;else return;p.intervalExecutionTime+=l,p.totalCount++}},a.countDependency=function(c,u){if(a.isEnabled()){var l=a._getAggregatedCounter(u,this._dependencyCountersCollection),p;if(typeof c=="string")p=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")p=c;else return;l.intervalExecutionTime+=p,l.totalCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},a._getAggregatedCounter=function(c,u){for(var l=!1,p=0;p<u.length;p++){if(c===u[p].dimensions)return u[p];if(Object.keys(c).length===Object.keys(u[p].dimensions).length){for(var d in c)if(c[d]!=u[p].dimensions[d]){l=!0;break}if(!l)return u[p];l=!1}}var f=new i.AggregatedMetricCounter(c);return u.push(f),f},a.prototype._trackRequestMetrics=function(){for(var c=0;c<a._requestCountersCollection.length;c++){var u=a._requestCountersCollection[c];u.time=+new Date;var l=u.totalCount-u.lastTotalCount||0,p=u.time-u.lastTime,d=(u.intervalExecutionTime-u.lastIntervalExecutionTime)/l||0;u.lastIntervalExecutionTime=u.intervalExecutionTime,p>0&&l>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:u.dimensions,value:d,count:l,aggregationInterval:p,metricType:n.MetricId.REQUESTS_DURATION}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackDependencyMetrics=function(){for(var c=0;c<a._dependencyCountersCollection.length;c++){var u=a._dependencyCountersCollection[c];u.time=+new Date;var l=u.totalCount-u.lastTotalCount||0,p=u.time-u.lastTime,d=(u.intervalExecutionTime-u.lastIntervalExecutionTime)/l||0;u.lastIntervalExecutionTime=u.intervalExecutionTime,p>0&&l>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:u.dimensions,value:d,count:l,aggregationInterval:p,metricType:n.MetricId.DEPENDENCIES_DURATION}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackExceptionMetrics=function(){for(var c=0;c<a._exceptionCountersCollection.length;c++){var u=a._exceptionCountersCollection[c],l=u.totalCount-u.lastTotalCount||0,p=u.time-u.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:u.dimensions,value:l,count:l,aggregationInterval:p,metricType:n.MetricId.EXCEPTIONS_COUNT}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackTraceMetrics=function(){for(var c=0;c<a._traceCountersCollection.length;c++){var u=a._traceCountersCollection[c],l=u.totalCount-u.lastTotalCount||0,p=u.time-u.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:u.dimensions,value:l,count:l,aggregationInterval:p,metricType:n.MetricId.TRACES_COUNT}),u.lastTotalCount=u.totalCount,u.lastTime=u.time}},a.prototype._trackPreAggregatedMetric=function(c){var u={};for(var l in c.dimensions)u[o.PreaggregatedMetricPropertyNames[l]]=c.dimensions[l];u=r(r({},u),{"_MS.MetricId":c.metricType,"_MS.AggregationIntervalMs":String(c.aggregationInterval),"_MS.IsAutocollected":"True"});var p={name:c.name,value:c.value,count:c.count,properties:u,kind:"Aggregation"};this._client.trackMetric(p)},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a}();e.exports=s}),ju=A((t,e)=>{"use strict";var r=require("os"),n=require("fs"),i=require("path"),o=_n(),s=Gr(),a=function(){function c(u){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(u),this._loadDeviceContext(),this._loadInternalContext()}return c.prototype._loadApplicationContext=function(u){if(u=u||i.resolve(__dirname,"../../../../package.json"),!c.appVersion[u]){c.appVersion[u]="unknown";try{var l=JSON.parse(n.readFileSync(u,"utf8"));l&&typeof l.version=="string"&&(c.appVersion[u]=l.version)}catch(p){s.info("unable to read app version: ",p)}}this.tags[this.keys.applicationVersion]=c.appVersion[u]},c.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=c.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},c.prototype._loadInternalContext=function(){var u=i.resolve(__dirname,"../../package.json");if(!c.sdkVersion){c.sdkVersion="unknown";try{var l=JSON.parse(n.readFileSync(u,"utf8"));l&&typeof l.version=="string"&&(c.sdkVersion=l.version)}catch(p){s.info("unable to read app version: ",p)}}this.tags[this.keys.internalSdkVersion]="node:"+c.sdkVersion},c.DefaultRoleName="Web",c.appVersion={},c.sdkVersion=null,c}();e.exports=a}),vq=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var l=function(p,d){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(f[g]=m[g])},l(p,d)};return function(p,d){l(p,d);function f(){this.constructor=p}p.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),n=require("url"),i=_n(),o=Gn(),s=ac(),a=Cx(),c=Is(),u=function(l){r(p,l);function p(d,f){var m=l.call(this)||this;return f&&f.method&&d&&(m.method=f.method,m.url=p._getUrlFromRequestOptions(d,f),m.startTime=+new Date),m}return p.prototype.onError=function(d){this._setStatus(void 0,d)},p.prototype.onResponse=function(d){this._setStatus(d.statusCode,void 0),this.correlationId=o.getCorrelationContextTarget(d,s.requestContextTargetKey)},p.prototype.getDependencyTelemetry=function(d,f){var m=n.parse(this.url);m.search=void 0,m.hash=void 0;var g=this.method.toUpperCase()+" "+m.pathname,y=i.RemoteDependencyDataConstants.TYPE_HTTP,b=m.hostname;m.port&&(b+=":"+m.port),this.correlationId?(y=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==c.correlationIdPrefix&&(b+=" | "+this.correlationId)):y=i.RemoteDependencyDataConstants.TYPE_HTTP;var x={id:f,name:g,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:y,target:b};if(d&&d.time?x.time=d.time:this.startTime&&(x.time=new Date(this.startTime)),d){for(var w in d)x[w]||(x[w]=d[w]);if(d.properties)for(var w in d.properties)x.properties[w]=d.properties[w]}return x},p._getUrlFromRequestOptions=function(d,f){if(typeof d=="string")if(d.indexOf("http://")===0||d.indexOf("https://")===0)d=n.parse(d);else{var m=n.parse(d);m.host==="443"?d=n.parse("https://"+d):d=n.parse("http://"+d)}else{if(d&&typeof n.URL=="function"&&d instanceof n.URL)return n.format(d);var g=d;d={},g&&Object.keys(g).forEach(function(x){d[x]=g[x]})}if(d.path){var y=n.parse(d.path);d.pathname=y.pathname,d.search=y.search}if(d.host&&d.port){var b=n.parse("http://"+d.host);!b.port&&d.port&&(d.hostname=d.host,delete d.host)}return d.protocol=d.protocol||f.agent&&f.agent.protocol||f.protocol||void 0,d.hostname=d.hostname||"localhost",n.format(d)},p}(a);e.exports=u}),yq=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.spanToTelemetryContract=void 0;var r=ar(),n=to();function i(s){var a=e({},s);return Object.keys(n.SpanAttribute).forEach(function(c){delete a[c]}),a}function o(s){var a="|"+s.spanContext().traceId+"."+s.spanContext().spanId+".",c=Math.round(s._duration[0]*1e3+s._duration[1]/1e6),u=s.attributes["peer.address"]?s.attributes["peer.address"].toString():"",l=s.attributes.component?s.attributes.component.toString():"",p=l.toUpperCase()===n.DependencyTypeName.Http||!!s.attributes[n.SpanAttribute.HttpUrl],d=l.toLowerCase()===n.DependencyTypeName.Grpc;if(p){var f=s.attributes[n.SpanAttribute.HttpMethod]||"GET",m=new URL(s.attributes[n.SpanAttribute.HttpUrl].toString()),g=s.attributes[n.SpanAttribute.HttpHost]||m.host,y=s.attributes[n.SpanAttribute.HttpPort]||m.port||null,b=m.pathname||"/",x=f+" "+b,w=n.DependencyTypeName.Http,C=y?(g+":"+y).toString():g.toString(),D=m.toString(),N=s.attributes[n.SpanAttribute.HttpStatusCode]||s.status.code||0,M=N<400;return{id:a,name:x,dependencyTypeName:w,target:C,data:D,success:M,duration:c,url:D,resultCode:String(N),properties:i(s.attributes)}}else if(d){var f=s.attributes[n.SpanAttribute.GrpcMethod]||"rpc",F=s.attributes[n.SpanAttribute.GrpcService],Q=F?f+" "+F:s.name;return{id:a,duration:c,name:Q,target:F.toString(),data:F.toString()||Q,url:F.toString()||Q,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(s.status.code||0),success:s.status.code===0,properties:i(s.attributes)}}else{var ne=s.name,X=s.links&&s.links.map(function(H){return{operation_Id:H.context.traceId,id:H.context.spanId}});return{id:a,duration:c,name:ne,target:u,data:u||ne,url:u||ne,dependencyTypeName:s.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:l||s.name,resultCode:String(s.status.code||0),success:s.status.code===0,properties:e(e({},i(s.attributes)),{"_MS.links":X||void 0})}}}t.spanToTelemetryContract=o}),bq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=ar(),r=Or(),n=Lu(),i=yq(),o=V_(),s=[],a=function(u){var l=u.data,p=i.spanToTelemetryContract(l),d=l.spanContext(),f=new n;f.traceId=d.traceId,f.spanId=d.spanId,f.traceFlag=n.formatOpenTelemetryTraceFlags(d.traceFlags),f.parentId=l.parentSpanId?"|"+d.traceId+"."+l.parentSpanId+".":null,o.AsyncScopeManager.with(l,function(){s.forEach(function(m){l.kind===e.SpanKind.SERVER?m.trackRequest(p):(l.kind===e.SpanKind.CLIENT||l.kind===e.SpanKind.INTERNAL)&&m.trackDependency(p)})})};t.subscriber=a;function c(u,l){u?(s.length===0&&r.channel.subscribe("azure-coretracing",t.subscriber),s.push(l)):(s=s.filter(function(p){return p!=l}),s.length===0&&r.channel.unsubscribe("azure-coretracing",t.subscriber))}t.enable=c}),_q=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Or(),r=[],n=function(o){o.data.event.commandName!=="ismaster"&&r.forEach(function(s){var a=o.data.startedData&&o.data.startedData.databaseName||"Unknown database";s.trackDependency({target:a,data:o.data.event.commandName,name:o.data.event.commandName,duration:o.data.event.duration,success:o.data.succeeded,resultCode:o.data.succeeded?"0":"1",time:o.data.startedData.time,dependencyTypeName:"mongodb"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mongodb",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mongodb",t.subscriber))}t.enable=i}),xq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Or(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query||{},c=a.sql||"Unknown query",u=!o.data.err,l=a._connection||{},p=l.config||{},d=p.socketPath?p.socketPath:(p.host||"localhost")+":"+p.port;s.trackDependency({target:d,data:c,name:c,duration:o.data.duration,success:u,resultCode:u?"0":"1",time:o.data.time,dependencyTypeName:"mysql"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mysql",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mysql",t.subscriber))}t.enable=i}),wq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Or(),r=[],n=function(o){r.forEach(function(s){o.data.commandObj.command!=="info"&&s.trackDependency({target:o.data.address,name:o.data.commandObj.command,data:o.data.commandObj.command,duration:o.data.duration,success:!o.data.err,resultCode:o.data.err?"1":"0",time:o.data.time,dependencyTypeName:"redis"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("redis",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("redis",t.subscriber))}t.enable=i}),Cq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Or(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query,c=a.preparable&&a.preparable.text||a.plan||a.text||"unknown query",u=!o.data.error,l=o.data.database.host+":"+o.data.database.port;s.trackDependency({target:l,data:c,name:c,duration:o.data.duration,success:u,resultCode:u?"0":"1",time:o.data.time,dependencyTypeName:"postgres"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("postgres",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("postgres",t.subscriber))}t.enable=i}),cc=A((t,e)=>{"use strict";var r=t&&t.__spreadArrays||function(){for(var m=0,g=0,y=arguments.length;g<y;g++)m+=arguments[g].length;for(var b=Array(m),x=0,g=0;g<y;g++)for(var w=arguments[g],C=0,D=w.length;C<D;C++,x++)b[x]=w[C];return b},n=require("http"),i=require("https"),o=Gr(),s=Gn(),a=ac(),c=vq(),u=Os(),l=Is(),p=Lu(),d=bf(),f=function(){function m(g){if(m.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");m.INSTANCE=this,this._client=g}return m.prototype.enable=function(g){this._isEnabled=g,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&(bq().enable(!0,this._client),_q().enable(g,this._client),xq().enable(g,this._client),wq().enable(g,this._client),Cq().enable(g,this._client))},m.prototype.isInitialized=function(){return this._isInitialized},m.prototype._initialize=function(){var g=this;this._isInitialized=!0;var y=n.request,b=i.request,x=function(w,C){var D=!C[m.disableCollectionRequestOption]&&!w[m.alreadyAutoCollectedFlag];C.headers&&C.headers["user-agent"]&&C.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(D=!1),w[m.alreadyAutoCollectedFlag]=!0,w&&C&&D&&(u.CorrelationContextManager.wrapEmitter(w),m.trackRequest(g._client,{options:C,request:w}))};n.request=function(w){for(var C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];var N=y.call.apply(y,r([n,w],C));return x(N,w),N},i.request=function(w){for(var C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];var N=b.call.apply(b,r([i,w],C));return x(N,w),N},n.get=function(w){for(var C,D=[],N=1;N<arguments.length;N++)D[N-1]=arguments[N];var M=(C=n.request).call.apply(C,r([n,w],D));return M.end(),M},i.get=function(w){for(var C,D=[],N=1;N<arguments.length;N++)D[N-1]=arguments[N];var M=(C=i.request).call.apply(C,r([i,w],D));return M.end(),M}},m.trackRequest=function(g,y){if(!y.options||!y.request||!g){o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!y.options,!y.request,!g);return}var b=new c(y.options,y.request),x=u.CorrelationContextManager.getCurrentContext(),w,C;if(x&&x.operation&&x.operation.traceparent&&p.isValidTraceId(x.operation.traceparent.traceId))x.operation.traceparent.updateSpanId(),w=x.operation.traceparent.getBackCompatRequestId();else if(l.w3cEnabled){var D=new p;C=D.toString(),w=D.getBackCompatRequestId()}else w=x&&x.operation&&x.operation.parentId+m.requestNumber+++".";if(s.canIncludeCorrelationHeader(g,b.getUrl())&&y.request.getHeader&&y.request.setHeader&&g.config&&g.config.correlationId){var N=y.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(g,y.request,N)}catch(Q){o.warn("Request-Context header could not be set. Correlation of requests may be lost",Q)}if(x&&x.operation)try{if(y.request.setHeader(a.requestIdHeader,w),g.config.ignoreLegacyHeaders||(y.request.setHeader(a.parentIdHeader,x.operation.id),y.request.setHeader(a.rootIdHeader,w)),C||x.operation.traceparent)y.request.setHeader(a.traceparentHeader,C||x.operation.traceparent.toString());else if(l.w3cEnabled){var D=new p().toString();y.request.setHeader(a.traceparentHeader,D)}if(x.operation.tracestate){var M=x.operation.tracestate.toString();M&&y.request.setHeader(a.traceStateHeader,M)}var F=x.customProperties.serializeToHeader();F&&y.request.setHeader(a.correlationContextHeader,F)}catch(Q){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",Q)}}y.request.on&&(y.request.on("response",function(Q){b.onResponse(Q);var ne=b.getDependencyTelemetry(y,w);ne.contextObjects=ne.contextObjects||{},ne.contextObjects["http.RequestOptions"]=y.options,ne.contextObjects["http.ClientRequest"]=y.request,ne.contextObjects["http.ClientResponse"]=Q,g.trackDependency(ne)}),y.request.on("error",function(Q){b.onError(Q);var ne=b.getDependencyTelemetry(y,w);ne.contextObjects=ne.contextObjects||{},ne.contextObjects["http.RequestOptions"]=y.options,ne.contextObjects["http.ClientRequest"]=y.request,ne.contextObjects.Error=Q,g.trackDependency(ne)}),y.request.on("abort",function(){b.onError(new Error);var Q=b.getDependencyTelemetry(y,w);Q.contextObjects=Q.contextObjects||{},Q.contextObjects["http.RequestOptions"]=y.options,Q.contextObjects["http.ClientRequest"]=y.request,g.trackDependency(Q)}))},m.prototype.dispose=function(){m.INSTANCE=null,this.enable(!1),this._isInitialized=!1},m.disableCollectionRequestOption="disableAppInsightsAutoCollection",m.requestNumber=1,m.alreadyAutoCollectedFlag="_appInsightsAutoCollected",m}();e.exports=f}),Eq=A((t,e)=>{"use strict";var r=require("os"),n=to(),i=Gn(),o=ju(),s=cc(),a="http://169.254.169.254/metadata/instance/compute",c="api-version=2017-12-01",u="format=json",l="ENETUNREACH",p=function(){function d(f){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",d.INSTANCE||(d.INSTANCE=this),this._isInitialized=!1,this._client=f}return d.prototype.enable=function(f,m){var g=this;this._isEnabled=f,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),f?this._handle||(this._handle=setInterval(function(){return g.trackHeartBeat(m,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},d.prototype.isInitialized=function(){return this._isInitialized},d.isEnabled=function(){return d.INSTANCE&&d.INSTANCE._isEnabled},d.prototype.trackHeartBeat=function(f,m){var g=this,y=!1,b={},x=o.sdkVersion;b.sdk=x,b.osType=r.type(),process.env.WEBSITE_SITE_NAME?(b.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",b.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",b.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?b.azfunction_appId=process.env.WEBSITE_HOSTNAME:f&&(this._isVM===void 0?(y=!0,this._getAzureComputeMetadata(f,function(){g._isVM&&Object.keys(g._vmData).length>0&&(b.azInst_vmId=g._vmData.vmId||"",b.azInst_subscriptionId=g._vmData.subscriptionId||"",b.azInst_osType=g._vmData.osType||"",g._azInst_vmId=g._vmData.vmId||"",g._azInst_subscriptionId=g._vmData.subscriptionId||"",g._azInst_osType=g._vmData.osType||""),g._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:b}),m()})):this._isVM&&(b.azInst_vmId=this._azInst_vmId,b.azInst_subscriptionId=this._azInst_subscriptionId,b.azInst_osType=this._azInst_osType)),y||(this._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:b}),m())},d.prototype.dispose=function(){d.INSTANCE=null,this.enable(!1),this._isInitialized=!1},d.prototype._getAzureComputeMetadata=function(f,m){var g,y=this,b=a+"?"+c+"&"+u,x=(g={method:"GET"},g[s.disableCollectionRequestOption]=!0,g.headers={Metadata:"True"},g),w=i.makeRequest(f,b,x,function(C){if(C.statusCode===200){y._isVM=!0;var D="";C.on("data",function(N){D+=N}),C.on("end",function(){y._vmData=y._isJSON(D)?JSON.parse(D):{},m()})}else m()});w&&(w.on("error",function(C){C&&C.message&&C.message.indexOf(l)>-1&&(y._isVM=!1),m()}),w.end())},d.prototype._isJSON=function(f){try{return JSON.parse(f)&&!!f}catch{return!1}},d}();e.exports=p}),Dx=A((t,e)=>{"use strict";var r=require("http"),n=require("https"),i=Gr(),o=Gn(),s=ac(),a=Ex(),c=Os(),u=wf(),l=function(){function p(d){if(p.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");p.INSTANCE=this,this._client=d}return p.prototype.enable=function(d){this._isEnabled=d,(this._isAutoCorrelating||this._isEnabled||u.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},p.prototype.useAutoCorrelation=function(d,f){d&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(f):!d&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=d},p.prototype.isInitialized=function(){return this._isInitialized},p.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},p.prototype._generateCorrelationContext=function(d){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(d.getOperationId(this._client.context.tags),d.getRequestId(),d.getOperationName(this._client.context.tags),d.getCorrelationContextHeader(),d.getTraceparent(),d.getTracestate())},p.prototype._initialize=function(){var d=this;this._isInitialized=!0;var f=function(b){if(b){if(typeof b!="function")throw new Error("onRequest handler must be a function");return function(x,w){c.CorrelationContextManager.wrapEmitter(x),c.CorrelationContextManager.wrapEmitter(w);var C=x&&!x[p.alreadyAutoCollectedFlag];if(x&&C){var D=new a(x),N=d._generateCorrelationContext(D);c.CorrelationContextManager.runWithContext(N,function(){d._isEnabled&&(x[p.alreadyAutoCollectedFlag]=!0,p.trackRequest(d._client,{request:x,response:w},D)),typeof b=="function"&&b(x,w)})}else typeof b=="function"&&b(x,w)}}},m=function(b){var x=b.addListener.bind(b);b.addListener=function(w,C){switch(w){case"request":case"checkContinue":return x(w,f(C));default:return x(w,C)}},b.on=b.addListener},g=r.createServer;r.createServer=function(b,x){if(x&&typeof x=="function"){var w=g(b,f(x));return m(w),w}else{var w=g(f(b));return m(w),w}};var y=n.createServer;n.createServer=function(b,x){var w=y(b,f(x));return m(w),w}},p.trackRequestSync=function(d,f){if(!f.request||!f.response||!d){i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!f.request,!f.response,!d);return}p.addResponseCorrelationIdHeader(d,f.response);var m=c.CorrelationContextManager.getCurrentContext(),g=new a(f.request,m&&m.operation.parentId);m&&(m.operation.id=g.getOperationId(d.context.tags)||m.operation.id,m.operation.name=g.getOperationName(d.context.tags)||m.operation.name,m.operation.parentId=g.getRequestId()||m.operation.parentId,m.customProperties.addHeaderData(g.getCorrelationContextHeader())),p.endRequest(d,g,f,f.duration,f.error)},p.trackRequest=function(d,f,m){if(!f.request||!f.response||!d){i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!f.request,!f.response,!d);return}var g=c.CorrelationContextManager.getCurrentContext(),y=m||new a(f.request,g&&g.operation.parentId);o.canIncludeCorrelationHeader(d,y.getUrl())&&p.addResponseCorrelationIdHeader(d,f.response),g&&!m&&(g.operation.id=y.getOperationId(d.context.tags)||g.operation.id,g.operation.name=y.getOperationName(d.context.tags)||g.operation.name,g.operation.parentId=y.getOperationParentId(d.context.tags)||g.operation.parentId,g.customProperties.addHeaderData(y.getCorrelationContextHeader())),f.response.once&&f.response.once("finish",function(){p.endRequest(d,y,f,null,null)}),f.request.on&&f.request.on("error",function(b){p.endRequest(d,y,f,null,b)}),f.request.on&&f.request.on("aborted",function(){var b="The request has been aborted and the network socket has closed.";p.endRequest(d,y,f,null,b)})},p.addResponseCorrelationIdHeader=function(d,f){if(d.config&&d.config.correlationId&&f.getHeader&&f.setHeader&&!f.headersSent){var m=f.getHeader(s.requestContextHeader);o.safeIncludeCorrelationHeader(d,f,m)}},p.endRequest=function(d,f,m,g,y){y?f.onError(y,g):f.onResponse(m.response,g);var b=f.getRequestTelemetry(m);if(b.tagOverrides=f.getRequestTags(d.context.tags),m.tagOverrides)for(var x in m.tagOverrides)b.tagOverrides[x]=m.tagOverrides[x];var w=f.getLegacyRootId();w&&(b.properties.ai_legacyRootId=w),b.contextObjects=b.contextObjects||{},b.contextObjects["http.ServerRequest"]=m.request,b.contextObjects["http.ServerResponse"]=m.response,d.trackRequest(b)},p.prototype.dispose=function(){p.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},p.alreadyAutoCollectedFlag="_appInsightsAutoCollected",p}();e.exports=l}),Sq=A((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(l){for(var p,d=1,f=arguments.length;d<f;d++){p=arguments[d];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(l[m]=p[m])}return l},r.apply(this,arguments)},n=require("os"),i=_n(),o=to(),s=Gn(),a=Gr(),c=s.w3cTraceId(),u=function(){function l(){}return l.createQuickPulseEnvelope=function(p,d,f,m){var g=n&&typeof n.hostname=="function"&&n.hostname()||"Unknown",y=m.tags&&m.keys&&m.keys.cloudRoleInstance&&m.tags[m.keys.cloudRoleInstance]||g,b=m.tags&&m.keys&&m.keys.cloudRole&&m.tags[m.keys.cloudRole]||null,x={Documents:d.length>0?d:null,InstrumentationKey:f.instrumentationKey||"",Metrics:p.length>0?p:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:m.tags[m.keys.internalSdkVersion],StreamId:c,MachineName:g,Instance:y,RoleName:b};return x},l.createQuickPulseMetric=function(p){var d;return d={Name:p.name,Value:p.value,Weight:p.count||1},d},l.telemetryEnvelopeToQuickPulseDocument=function(p){switch(p.data.baseType){case i.TelemetryTypeString.Event:return l.createQuickPulseEventDocument(p);case i.TelemetryTypeString.Exception:return l.createQuickPulseExceptionDocument(p);case i.TelemetryTypeString.Trace:return l.createQuickPulseTraceDocument(p);case i.TelemetryTypeString.Dependency:return l.createQuickPulseDependencyDocument(p);case i.TelemetryTypeString.Request:return l.createQuickPulseRequestDocument(p)}return null},l.createQuickPulseEventDocument=function(p){var d=l.createQuickPulseDocument(p),f=p.data.baseData.name,m=r(r({},d),{Name:f});return m},l.createQuickPulseTraceDocument=function(p){var d=l.createQuickPulseDocument(p),f=p.data.baseData.severityLevel||0,m=r(r({},d),{Message:p.data.baseData.message,SeverityLevel:i.SeverityLevel[f]});return m},l.createQuickPulseExceptionDocument=function(p){var d=l.createQuickPulseDocument(p),f=p.data.baseData.exceptions,m="",g="",y="";f&&f.length>0&&(f[0].parsedStack&&f[0].parsedStack.length>0?f[0].parsedStack.forEach(function(x){m+=x.assembly+`
`}):f[0].stack&&f[0].stack.length>0&&(m=f[0].stack),g=f[0].message,y=f[0].typeName);var b=r(r({},d),{Exception:m,ExceptionMessage:g,ExceptionType:y});return b},l.createQuickPulseRequestDocument=function(p){var d=l.createQuickPulseDocument(p),f=p.data.baseData,m=r(r({},d),{Name:f.name,Success:f.success,Duration:f.duration,ResponseCode:f.responseCode,OperationName:f.name});return m},l.createQuickPulseDependencyDocument=function(p){var d=l.createQuickPulseDocument(p),f=p.data.baseData,m=r(r({},d),{Name:f.name,Target:f.target,Success:f.success,Duration:f.duration,ResultCode:f.resultCode,CommandName:f.data,OperationName:d.OperationId,DependencyTypeName:f.type});return m},l.createQuickPulseDocument=function(p){var d,f,m,g;p.data.baseType?(f=o.TelemetryTypeStringToQuickPulseType[p.data.baseType],d=o.TelemetryTypeStringToQuickPulseDocumentType[p.data.baseType]):a.warn("Document type invalid; not sending live metric document",p.data.baseType),m=p.tags[l.keys.operationId],g=l.aggregateProperties(p);var y={DocumentType:d,__type:f,OperationId:m,Version:"1.0",Properties:g};return y},l.aggregateProperties=function(p){var d=[],f=p.data.baseData.measurements||{};for(var m in f)if(f.hasOwnProperty(m)){var g=f[m],y={key:m,value:g};d.push(y)}var b=p.data.baseData.properties||{};for(var m in b)if(b.hasOwnProperty(m)){var g=b[m],y={key:m,value:g};d.push(y)}return d},l.keys=new i.ContextTagKeys,l}();e.exports=u}),Tq=A((t,e)=>{"use strict";var r=function(){return(Date.now()+621355968e5)*1e4};e.exports={getTransmissionTime:r}}),Rq=A((t,e)=>{"use strict";var r=t&&t.__awaiter||function(p,d,f,m){function g(y){return y instanceof f?y:new f(function(b){b(y)})}return new(f||(f=Promise))(function(y,b){function x(D){try{C(m.next(D))}catch(N){b(N)}}function w(D){try{C(m.throw(D))}catch(N){b(N)}}function C(D){D.done?y(D.value):g(D.value).then(x,w)}C((m=m.apply(p,d||[])).next())})},n=t&&t.__generator||function(p,d){var f={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,g,y,b;return b={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function x(C){return function(D){return w([C,D])}}function w(C){if(m)throw new TypeError("Generator is already executing.");for(;f;)try{if(m=1,g&&(y=C[0]&2?g.return:C[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,C[1])).done)return y;switch(g=0,y&&(C=[C[0]&2,y.value]),C[0]){case 0:case 1:y=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,g=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(y=f.trys,!(y=y.length>0&&y[y.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){f.label=C[1];break}if(C[0]===6&&f.label<y[1]){f.label=y[1],y=C;break}if(y&&f.label<y[2]){f.label=y[2],f.ops.push(C);break}y[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(p,f)}catch(D){C=[6,D],g=0}finally{m=y=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i=require("https"),o=cc(),s=Gr(),a=Tq(),c=Gn(),u={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},l=function(){function p(d){this._config=d,this._consecutiveErrors=0}return p.prototype.ping=function(d,f,m){var g=[{name:u.streamId,value:d.StreamId},{name:u.machineName,value:d.MachineName},{name:u.roleName,value:d.RoleName},{name:u.instanceName,value:d.Instance},{name:u.invariantVersion,value:d.InvariantVersion.toString()}];this._submitData(d,f,m,"ping",g)},p.prototype.post=function(d,f,m){return r(this,void 0,void 0,function(){return n(this,function(g){switch(g.label){case 0:return[4,this._submitData([d],f,m,"post")];case 1:return g.sent(),[2]}})})},p.prototype._submitData=function(d,f,m,g,y){return r(this,void 0,void 0,function(){var b,x,w,C,D,N=this;return n(this,function(M){return b=JSON.stringify(d),x=(C={},C[o.disableCollectionRequestOption]=!0,C.host=f&&f.length>0?f:this._config.quickPulseHost,C.method=u.method,C.path="/QuickPulseService.svc/"+g+"?ikey="+this._config.instrumentationKey,C.headers=(D={Expect:"100-continue"},D[u.time]=a.getTransmissionTime(),D["Content-Type"]="application/json",D["Content-Length"]=Buffer.byteLength(b),D),C),y&&y.length>0&&y.forEach(function(F){return x.headers[F.name]=F.value}),this._config.httpsAgent?x.agent=this._config.httpsAgent:x.agent=c.tlsRestrictedAgent,w=i.request(x,function(F){if(F.statusCode==200){var Q=F.headers[u.subscribed]==="true",ne=F.headers[u.endpointRedirect]?F.headers[u.endpointRedirect].toString():null,X=F.headers[u.pollingIntervalHint]?parseInt(F.headers[u.pollingIntervalHint].toString()):null;N._consecutiveErrors=0,m(Q,F,ne,X)}else N._onError("StatusCode:"+F.statusCode+" StatusMessage:"+F.statusMessage),m()}),w.on("error",function(F){N._onError(F),m()}),w.write(b),w.end(),[2]})})},p.prototype._onError=function(d){this._consecutiveErrors++;var f="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%p.MAX_QPS_FAILURES_BEFORE_WARN===0?(f="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(p.TAG,f,d)):s.info(p.TAG,f,d)},p.TAG="QuickPulseSender",p.MAX_QPS_FAILURES_BEFORE_WARN=25,p}();e.exports=l}),Pq=A((t,e)=>{"use strict";var r=t&&t.__awaiter||function(l,p,d,f){function m(g){return g instanceof d?g:new d(function(y){y(g)})}return new(d||(d=Promise))(function(g,y){function b(C){try{w(f.next(C))}catch(D){y(D)}}function x(C){try{w(f.throw(C))}catch(D){y(D)}}function w(C){C.done?g(C.value):m(C.value).then(b,x)}w((f=f.apply(l,p||[])).next())})},n=t&&t.__generator||function(l,p){var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,m,g,y;return y={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function b(w){return function(C){return x([w,C])}}function x(w){if(f)throw new TypeError("Generator is already executing.");for(;d;)try{if(f=1,m&&(g=w[0]&2?m.return:w[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,w[1])).done)return g;switch(m=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return d.label++,{value:w[1],done:!1};case 5:d.label++,m=w[1],w=[0];continue;case 7:w=d.ops.pop(),d.trys.pop();continue;default:if(g=d.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){d=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){d.label=w[1];break}if(w[0]===6&&d.label<g[1]){d.label=g[1],g=w;break}if(g&&d.label<g[2]){d.label=g[2],d.ops.push(w);break}g[2]&&d.ops.pop(),d.trys.pop();continue}w=p.call(l,d)}catch(C){w=[6,C],m=0}finally{f=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},i=Gr(),o=Sq(),s=Rq(),a=to(),c=ju(),u=function(){function l(p,d){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=p,this.context=d||new c,this._sender=new s(this.config),this._isEnabled=!1}return l.prototype.addCollector=function(p){this._collectors.push(p)},l.prototype.trackMetric=function(p){this._addMetric(p)},l.prototype.addDocument=function(p){var d=o.telemetryEnvelopeToQuickPulseDocument(p);d&&this._documents.push(d)},l.prototype.enable=function(p){p&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!p&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},l.prototype.enableCollectors=function(p){this._collectors.forEach(function(d){d.enable(p)})},l.prototype._addMetric=function(p){var d=p.value,f=p.count||1,m=a.PerformanceToQuickPulseCounter[p.name];m&&(this._metrics[m]?(this._metrics[m].Value=(this._metrics[m].Value*this._metrics[m].Weight+d*f)/(this._metrics[m].Weight+f),this._metrics[m].Weight+=f):(this._metrics[m]=o.createQuickPulseMetric(p),this._metrics[m].Name=m,this._metrics[m].Weight=1))},l.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},l.prototype._goQuickPulse=function(){return r(this,void 0,void 0,function(){var p,d,f,m,g=this;return n(this,function(y){switch(y.label){case 0:return p=Object.keys(this._metrics).map(function(b){return g._metrics[b]}),d=o.createQuickPulseEnvelope(p,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(d)]:[3,2];case 1:return y.sent(),[3,3];case 2:this._ping(d),y.label=3;case 3:return f=this._pollingIntervalHint>0?this._pollingIntervalHint:l.PING_INTERVAL,m=this._isCollectingData?l.POST_INTERVAL:f,this._isCollectingData&&Date.now()-this._lastSuccessTime>=l.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,m=l.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=l.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(m=l.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),m),this._handle.unref(),[2]}})})},l.prototype._ping=function(p){this._sender.ping(p,this._redirectedHost,this._quickPulseDone.bind(this))},l.prototype._post=function(p){return r(this,void 0,void 0,function(){return n(this,function(d){switch(d.label){case 0:return[4,this._sender.post(p,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return d.sent(),[2]}})})},l.prototype._quickPulseDone=function(p,d,f,m){p!=null?(this._isCollectingData!==p&&(i.info("Live Metrics sending data",p),this.enableCollectors(p)),this._isCollectingData=p,f&&f.length>0&&(this._redirectedHost=f,i.info("Redirecting endpoint to: ",f)),m&&m>0&&(this._pollingIntervalHint=m),d&&d.statusCode<300&&d.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},l.MAX_POST_WAIT_TIME=2e4,l.MAX_PING_WAIT_TIME=6e4,l.FALLBACK_INTERVAL=6e4,l.PING_INTERVAL=5e3,l.POST_INTERVAL=1e3,l}();e.exports=u}),Dq=A((t,e)=>{"use strict";var r=to(),n=function(){function i(){}return i.parse=function(o){if(!o)return{};var s=o.split(i._FIELDS_SEPARATOR),a=s.reduce(function(u,l){var p=l.split(i._FIELD_KEY_VALUE_SEPARATOR);if(p.length===2){var d=p[0].toLowerCase(),f=p[1];u[d]=f}return u},{});if(Object.keys(a).length>0){if(a.endpointsuffix){var c=a.location?a.location+".":"";a.ingestionendpoint=a.ingestionendpoint||"https://"+c+"dc."+a.endpointsuffix,a.liveendpoint=a.liveendpoint||"https://"+c+"live."+a.endpointsuffix}a.ingestionendpoint=a.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,a.liveendpoint=a.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return a},i._FIELDS_SEPARATOR=";",i._FIELD_KEY_VALUE_SEPARATOR="=",i}();e.exports=n}),Ix=A((t,e)=>{"use strict";var r=Is(),n=Dq(),i=Gr(),o=to(),s=require("url"),a=function(){function c(u){var l=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var p=process.env[c.ENV_connectionString],d=n.parse(u),f=n.parse(p),m=!d.instrumentationkey&&Object.keys(d).length>0?null:u;this.instrumentationKey=d.instrumentationkey||m||f.instrumentationkey||c._getInstrumentationKey(),c._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(d.ingestionendpoint||f.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(g){return l.correlationId=g},this.proxyHttpUrl=process.env[c.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[c.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=d.ingestionendpoint||f.ingestionendpoint||process.env[c.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=d.liveendpoint||f.liveendpoint||process.env[c.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(c.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(u){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=u,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(u){this._quickPulseHost=u},enumerable:!1,configurable:!0}),c._getInstrumentationKey=function(){var u=process.env[c.ENV_iKey]||process.env[c.ENV_azurePrefix+c.ENV_iKey]||process.env[c.legacy_ENV_iKey]||process.env[c.ENV_azurePrefix+c.legacy_ENV_iKey];if(!u||u=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return u},c._validateInstrumentationKey=function(u){var l="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",p=new RegExp(l);return p.test(u)},c.ENV_azurePrefix="APPSETTING_",c.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",c.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",c.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",c.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",c.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",c.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",c.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",c.ENV_http_proxy="http_proxy",c.ENV_https_proxy="https_proxy",c}();e.exports=a}),Iq=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCollectNativePerformance=void 0;var r=Ix(),n=ju(),i=Gr(),o=function(){function s(a){this._disabledMetrics={},s.INSTANCE&&s.INSTANCE.dispose(),s.INSTANCE=this,this._client=a}return s.isNodeVersionCompatible=function(){var a=process.versions.node.split(".");return parseInt(a[0])>=6},s.prototype.enable=function(a,c,u){var l=this;if(c===void 0&&(c={}),u===void 0&&(u=6e4),!!s.isNodeVersionCompatible()){if(s._metricsAvailable==null&&a&&!this._isInitialized)try{var p=require("applicationinsights-native-metrics");s._emitter=new p,s._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch{s._metricsAvailable=!1;return}this._isEnabled=a,this._disabledMetrics=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&s._emitter?(s._emitter.enable(!0,u),this._handle||(this._handle=setInterval(function(){return l._trackNativeMetrics()},u),this._handle.unref())):s._emitter&&(s._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},s.prototype.dispose=function(){this.enable(!1)},s.parseEnabled=function(a){var c=process.env[r.ENV_nativeMetricsDisableAll],u=process.env[r.ENV_nativeMetricsDisablers];if(c)return{isEnabled:!1,disabledMetrics:{}};if(u){var l=u.split(","),p={};if(l.length>0)for(var d=0,f=l;d<f.length;d++){var m=f[d];p[m]=!0}return typeof a=="object"?{isEnabled:!0,disabledMetrics:e(e({},a),p)}:{isEnabled:a,disabledMetrics:p}}return typeof a=="boolean"?{isEnabled:a,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:a}},s.prototype._trackNativeMetrics=function(){var a=!0;typeof this._isEnabled!="object"&&(a=this._isEnabled),a&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},s.prototype._trackGarbageCollection=function(){var a;if(!this._disabledMetrics.gc){var c=s._emitter.getGCData();for(var u in c){var l=c[u].metrics,p=u+" Garbage Collection Duration",d=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:p,value:l.total,count:l.count,max:l.max,min:l.min,stdDev:d,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackEventLoop=function(){var a;if(!this._disabledMetrics.loop){var c=s._emitter.getLoopData(),u=c.loopUsage;if(u.count!=0){var l="Event Loop CPU Time",p=Math.sqrt(u.sumSquares/u.count-Math.pow(u.total/u.count,2))||0;this._client.trackMetric({name:l,value:u.total,count:u.count,min:u.min,max:u.max,stdDev:p,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackHeapUsage=function(){var a,c,u;if(!this._disabledMetrics.heap){var l=process.memoryUsage(),p=l.heapUsed,d=l.heapTotal,f=l.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:p,count:1,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)}),this._client.trackMetric({name:"Memory Total (Heap)",value:d,count:1,tagOverrides:(c={},c[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,c)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:f-d,count:1,tagOverrides:(u={},u[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,u)})}},s}();t.AutoCollectNativePerformance=o}),Oq=A((t,e)=>{"use strict";var r=Gr(),n=function(){function i(o,s,a,c){this._buffer=[],this._lastSend=0,this._isDisabled=o,this._getBatchSize=s,this._getBatchIntervalMs=a,this._sender=c}return i.prototype.setUseDiskRetryCaching=function(o,s,a){this._sender.setDiskRetryMode(o,s,a)},i.prototype.send=function(o){var s=this;if(!this._isDisabled()){if(!o){r.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(o),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){s._timeoutHandle=null,s.triggerSend(!1)},this._getBatchIntervalMs()))}},i.prototype.triggerSend=function(o,s){var a=this._buffer.length<1;a||(o?(this._sender.saveOnCrash(this._buffer),typeof s=="function"&&s("data saved on crash")):this._sender.send(this._buffer,s)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,a&&typeof s=="function"&&s("no data to send")},i}();e.exports=n}),Aq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.azureRoleEnvironmentTelemetryProcessor=void 0;function e(r,n){process.env.WEBSITE_SITE_NAME&&(r.tags[n.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}t.azureRoleEnvironmentTelemetryProcessor=e}),kq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSamplingHashCode=t.samplingTelemetryProcessor=void 0;var e=_n();function r(i,o){var s=i.sampleRate,a=!1;return s==null||s>=100||i.data&&e.TelemetryType.Metric===e.baseTypeToTelemetryType(i.data.baseType)?!0:(o.correlationContext&&o.correlationContext.operation?a=n(o.correlationContext.operation.id)<s:a=Math.random()*100<s,a)}t.samplingTelemetryProcessor=r;function n(i){var o=-2147483648,s=2147483647,a=5381;if(!i)return 0;for(;i.length<8;)i=i+i;for(var c=0;c<i.length;c++)a=((a<<5)+a|0)+i.charCodeAt(c)|0;return a=a<=o?s:Math.abs(a),a/s*100}t.getSamplingHashCode=n}),Nq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceMetricsTelemetryProcessor=void 0;var e=wf(),r=_n();function n(i,o){switch(o&&o.addDocument(i),i.data.baseType){case r.TelemetryTypeString.Exception:e.countException();break;case r.TelemetryTypeString.Request:var s=i.data.baseData;e.countRequest(s.duration,s.success);break;case r.TelemetryTypeString.Dependency:var a=i.data.baseData;e.countDependency(a.duration,a.success);break}return!0}t.performanceMetricsTelemetryProcessor=n}),Mq=A(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,u=arguments.length;c<u;c++){a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.preAggregatedMetricsTelemetryProcessor=void 0;var r=_n(),n=Px(),i=_n();function o(s,a){if(n.isEnabled())switch(s.data.baseType){case i.TelemetryTypeString.Exception:var c=s.data.baseData;c.properties=e(e({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var u={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole]};n.countException(u);break;case i.TelemetryTypeString.Trace:var l=s.data.baseData;l.properties=e(e({},l.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var p={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[l.severity]};n.countTrace(p);break;case i.TelemetryTypeString.Request:var d=s.data.baseData;d.properties=e(e({},d.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var f={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],requestSuccess:d.success,requestResultCode:d.responseCode};n.countRequest(d.duration,f);break;case i.TelemetryTypeString.Dependency:var m=s.data.baseData;m.properties=e(e({},m.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var g={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],dependencySuccess:m.success,dependencyType:m.type,dependencyTarget:m.target,dependencyResultCode:m.resultCode};n.countDependency(m.duration,g);break}return!0}t.preAggregatedMetricsTelemetryProcessor=o}),qq=A(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Aq(),t),r(kq(),t),r(Nq(),t),r(Mq(),t)}),Lq=A((t,e)=>{"use strict";var r=t&&t.__awaiter||function(f,m,g,y){function b(x){return x instanceof g?x:new g(function(w){w(x)})}return new(g||(g=Promise))(function(x,w){function C(M){try{N(y.next(M))}catch(F){w(F)}}function D(M){try{N(y.throw(M))}catch(F){w(F)}}function N(M){M.done?x(M.value):b(M.value).then(C,D)}N((y=y.apply(f,m||[])).next())})},n=t&&t.__generator||function(f,m){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},y,b,x,w;return w={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function C(N){return function(M){return D([N,M])}}function D(N){if(y)throw new TypeError("Generator is already executing.");for(;g;)try{if(y=1,b&&(x=N[0]&2?b.return:N[0]?b.throw||((x=b.return)&&x.call(b),0):b.next)&&!(x=x.call(b,N[1])).done)return x;switch(b=0,x&&(N=[N[0]&2,x.value]),N[0]){case 0:case 1:x=N;break;case 4:return g.label++,{value:N[1],done:!1};case 5:g.label++,b=N[1],N=[0];continue;case 7:N=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(N[0]===6||N[0]===2)){g=0;continue}if(N[0]===3&&(!x||N[1]>x[0]&&N[1]<x[3])){g.label=N[1];break}if(N[0]===6&&g.label<x[1]){g.label=x[1],x=N;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(N);break}x[2]&&g.ops.pop(),g.trys.pop();continue}N=m.call(f,g)}catch(M){N=[6,M],b=0}finally{y=x=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},i=require("fs"),o=require("os"),s=require("path"),a=require("zlib"),c=require("child_process"),u=Gr(),l=cc(),p=Gn(),d=function(){function f(m,g,y){if(this._redirectedHost=null,this._config=m,this._onSuccess=g,this._onError=y,this._enableDiskRetryMode=!1,this._resendInterval=f.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=f.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(o.tmpdir(),f.TEMPDIR_PREFIX+this._config.instrumentationKey),!f.OS_PROVIDES_FILE_PROTECTION)if(f.USE_ICACLS){try{f.OS_PROVIDES_FILE_PROTECTION=i.existsSync(f.ICACLS_PATH)}catch{}f.OS_PROVIDES_FILE_PROTECTION||u.warn(f.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else f.OS_PROVIDES_FILE_PROTECTION=!0}return f.prototype.setDiskRetryMode=function(m,g,y){var b=this;this._enableDiskRetryMode=f.OS_PROVIDES_FILE_PROTECTION&&m,typeof g=="number"&&g>=0&&(this._resendInterval=Math.floor(g)),typeof y=="number"&&y>=0&&(this._maxBytesOnDisk=Math.floor(y)),m&&!f.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,u.warn(f.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){b._fileCleanupTask()},f.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},f.prototype.send=function(m,g){return r(this,void 0,void 0,function(){var y,b,x,w,C=this;return n(this,function(D){return m&&(y=this._redirectedHost||this._config.endpointUrl,b={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},x="",m.forEach(function(N){var M=C._stringify(N);typeof M=="string"&&(x+=M+`
`)}),x.length>0&&(x=x.substring(0,x.length-1)),w=Buffer.from?Buffer.from(x):new Buffer(x),a.gzip(w,function(N,M){var F=M;N?(u.warn(N),F=w,b.headers["Content-Length"]=w.length.toString()):(b.headers["Content-Encoding"]="gzip",b.headers["Content-Length"]=M.length.toString()),u.info(f.TAG,b),b[l.disableCollectionRequestOption]=!0;var Q=function(X){X.setEncoding("utf-8");var H="";X.on("data",function(ae){H+=ae}),X.on("end",function(){if(C._numConsecutiveFailures=0,C._enableDiskRetryMode){if(X.statusCode===200)C._resendTimer||(C._resendTimer=setTimeout(function(){C._resendTimer=null,C._sendFirstFileOnDisk()},C._resendInterval),C._resendTimer.unref());else if(C._isRetriable(X.statusCode))try{var ae=JSON.parse(H),ee=[];ae.errors.forEach(function(pe){C._isRetriable(pe.statusCode)&&ee.push(m[pe.index])}),ee.length>0&&C._storeToDisk(ee)}catch{C._storeToDisk(m)}}if(X.statusCode===307||X.statusCode===308)if(C._numConsecutiveRedirects++,C._numConsecutiveRedirects<10){var xe=X.headers.location?X.headers.location.toString():null;xe&&(C._redirectedHost=xe,C.send(m,g))}else typeof g=="function"&&g("Error sending telemetry because of circular redirects.");else C._numConsecutiveRedirects=0,typeof g=="function"&&g(H),u.info(f.TAG,H),typeof C._onSuccess=="function"&&C._onSuccess(H)})},ne=p.makeRequest(C._config,y,b,Q);ne.on("error",function(X){if(C._numConsecutiveFailures++,!C._enableDiskRetryMode||C._numConsecutiveFailures>0&&C._numConsecutiveFailures%f.MAX_CONNECTION_FAILURES_BEFORE_WARN===0){var H="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";C._enableDiskRetryMode&&(H="Ingestion endpoint could not be reached "+C._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),u.warn(f.TAG,H,p.dumpObj(X))}else{var H="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";u.info(f.TAG,H,p.dumpObj(X))}C._onErrorHelper(X),typeof g=="function"&&(X&&g(p.dumpObj(X)),g("Error sending telemetry")),C._enableDiskRetryMode&&C._storeToDisk(m)}),ne.write(F),ne.end()})),[2]})})},f.prototype.saveOnCrash=function(m){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(m))},f.prototype._isRetriable=function(m){return m===206||m===408||m===429||m===439||m===500||m===503},f.prototype._runICACLS=function(m,g){var y=c.spawn(f.ICACLS_PATH,m,{windowsHide:!0});y.on("error",function(b){return g(b)}),y.on("close",function(b,x){return g(b===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+b+")"))})},f.prototype._runICACLSSync=function(m){if(c.spawnSync){var g=c.spawnSync(f.ICACLS_PATH,m,{windowsHide:!0});if(g.error)throw g.error;if(g.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+g.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},f.prototype._getACLIdentity=function(m){if(f.ACL_IDENTITY)return m(null,f.ACL_IDENTITY);var g=c.spawn(f.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),y="";g.stdout.on("data",function(b){return y+=b}),g.on("error",function(b){return m(b,null)}),g.on("close",function(b,x){return f.ACL_IDENTITY=y&&y.trim(),m(b===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+b+")"),f.ACL_IDENTITY)})},f.prototype._getACLIdentitySync=function(){if(f.ACL_IDENTITY)return f.ACL_IDENTITY;if(c.spawnSync){var m=c.spawnSync(f.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(m.error)throw m.error;if(m.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+m.status+")");return f.ACL_IDENTITY=m.stdout&&m.stdout.toString().trim(),f.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},f.prototype._getACLArguments=function(m,g){return[m,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",g+":(OI)(CI)F","/inheritance:r"]},f.prototype._applyACLRules=function(m,g){var y=this;if(!f.USE_ICACLS)return g(null);if(f.ACLED_DIRECTORIES[m]===void 0)f.ACLED_DIRECTORIES[m]=!1,this._getACLIdentity(function(b,x){if(b)return f.ACLED_DIRECTORIES[m]=!1,g(b);y._runICACLS(y._getACLArguments(m,x),function(w){return f.ACLED_DIRECTORIES[m]=!w,g(w)})});else return g(f.ACLED_DIRECTORIES[m]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},f.prototype._applyACLRulesSync=function(m){if(f.USE_ICACLS){if(f.ACLED_DIRECTORIES[m]===void 0){this._runICACLSSync(this._getACLArguments(m,this._getACLIdentitySync())),f.ACLED_DIRECTORIES[m]=!0;return}else if(!f.ACLED_DIRECTORIES[m])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},f.prototype._confirmDirExists=function(m,g){var y=this;i.lstat(m,function(b,x){b&&b.code==="ENOENT"?i.mkdir(m,function(w){w&&w.code!=="EEXIST"?g(w):y._applyACLRules(m,g)}):!b&&x.isDirectory()?y._applyACLRules(m,g):g(b||new Error("Path existed but was not a directory"))})},f.prototype._getShallowDirectorySize=function(m,g){i.readdir(m,function(y,b){if(y)return g(y,-1);var x=null,w=0,C=0;if(b.length===0){g(null,0);return}for(var D=0;D<b.length;D++)i.stat(s.join(m,b[D]),function(N,M){C++,N?x=N:M.isFile()&&(w+=M.size),C===b.length&&(x?g(x,-1):g(x,w))})})},f.prototype._getShallowDirectorySizeSync=function(m){for(var g=i.readdirSync(m),y=0,b=0;b<g.length;b++)y+=i.statSync(s.join(m,g[b])).size;return y},f.prototype._storeToDisk=function(m){var g=this;u.info(f.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(y){if(y){u.warn(f.TAG,"Error while checking/creating directory: "+(y&&y.message)),g._onErrorHelper(y);return}g._getShallowDirectorySize(g._tempDir,function(b,x){if(b||x<0){u.warn(f.TAG,"Error while checking directory size: "+(b&&b.message)),g._onErrorHelper(b);return}else if(x>g._maxBytesOnDisk){u.warn(f.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+x);return}var w=new Date().getTime()+".ai.json",C=s.join(g._tempDir,w);u.info(f.TAG,"saving data to disk at: "+C),i.writeFile(C,g._stringify(m),{mode:384},function(D){return g._onErrorHelper(D)})})})},f.prototype._storeToDiskSync=function(m){try{u.info(f.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var g=this._getShallowDirectorySizeSync(this._tempDir);if(g>this._maxBytesOnDisk){u.info(f.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+g);return}var y=new Date().getTime()+".ai.json",b=s.join(this._tempDir,y);u.info(f.TAG,"saving data before crash to disk at: "+b),i.writeFileSync(b,m,{mode:384})}catch(x){u.warn(f.TAG,"Error while saving data to disk: "+(x&&x.message)),this._onErrorHelper(x)}},f.prototype._sendFirstFileOnDisk=function(){var m=this;i.exists(this._tempDir,function(g){g&&i.readdir(m._tempDir,function(y,b){if(y)m._onErrorHelper(y);else if(b=b.filter(function(C){return s.basename(C).indexOf(".ai.json")>-1}),b.length>0){var x=b[0],w=s.join(m._tempDir,x);i.readFile(w,function(C,D){C?m._onErrorHelper(C):i.unlink(w,function(N){if(N)m._onErrorHelper(N);else try{var M=JSON.parse(D.toString());m.send(M)}catch(F){u.warn("Failed to read persisted file",F)}})})}})})},f.prototype._onErrorHelper=function(m){typeof this._onError=="function"&&this._onError(m)},f.prototype._stringify=function(m){try{return JSON.stringify(m)}catch(g){u.warn("Failed to serialize payload",g,m)}},f.prototype._fileCleanupTask=function(){var m=this;i.exists(this._tempDir,function(g){g&&i.readdir(m._tempDir,function(y,b){y?m._onErrorHelper(y):(b=b.filter(function(x){return s.basename(x).indexOf(".ai.json")>-1}),b.length>0&&b.forEach(function(x){var w=new Date(parseInt(x.split(".ai.json")[0])),C=new Date(+new Date-f.FILE_RETEMPTION_PERIOD)>w;if(C){var D=s.join(m._tempDir,x);i.unlink(D,function(N){N&&m._onErrorHelper(N)})}}))})})},f.TAG="Sender",f.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",f.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",f.ACLED_DIRECTORIES={},f.ACL_IDENTITY=null,f.WAIT_BETWEEN_RESEND=60*1e3,f.MAX_BYTES_ON_DISK=50*1024*1024,f.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,f.CLEANUP_TIMEOUT=60*60*1e3,f.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,f.TEMPDIR_PREFIX="appInsights-node",f.OS_PROVIDES_FILE_PROTECTION=!1,f.USE_ICACLS=o.type()==="Windows_NT",f}();e.exports=d}),jq=A((t,e)=>{"use strict";var r=_n(),n=Gn(),i=Os(),o=function(){function a(){}return a.createEnvelope=function(c,u,l,p,d){var f=null;switch(u){case r.TelemetryType.Trace:f=a.createTraceData(c);break;case r.TelemetryType.Dependency:f=a.createDependencyData(c);break;case r.TelemetryType.Event:f=a.createEventData(c);break;case r.TelemetryType.Exception:f=a.createExceptionData(c);break;case r.TelemetryType.Request:f=a.createRequestData(c);break;case r.TelemetryType.Metric:f=a.createMetricData(c);break;case r.TelemetryType.Availability:f=a.createAvailabilityData(c);break;case r.TelemetryType.PageView:f=a.createPageViewData(c);break}if(l&&r.domainSupportsProperties(f.baseData)){if(f&&f.baseData)if(!f.baseData.properties)f.baseData.properties=l;else for(var m in l)f.baseData.properties[m]||(f.baseData.properties[m]=l[m]);f.baseData.properties=n.validateStringMap(f.baseData.properties)}var g=d&&d.instrumentationKey||"",y=new r.Envelope;return y.data=f,y.iKey=g,y.name="Microsoft.ApplicationInsights."+g.replace(/-/g,"")+"."+f.baseType.substr(0,f.baseType.length-4),y.tags=this.getTags(p,c.tagOverrides),y.time=new Date().toISOString(),y.ver=1,y.sampleRate=d?d.samplingPercentage:100,u===r.TelemetryType.Metric&&(y.sampleRate=100),y},a.createTraceData=function(c){var u=new r.MessageData;u.message=c.message,u.properties=c.properties,isNaN(c.severity)?u.severityLevel=r.SeverityLevel.Information:u.severityLevel=c.severity;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),l.baseData=u,l},a.createDependencyData=function(c){var u=new r.RemoteDependencyData;typeof c.name=="string"&&(u.name=c.name.length>1024?c.name.slice(0,1021)+"...":c.name),u.data=c.data,u.target=c.target,u.duration=n.msToTimeSpan(c.duration),u.success=c.success,u.type=c.dependencyTypeName,u.properties=c.properties,u.resultCode=c.resultCode?c.resultCode+"":"",c.id?u.id=c.id:u.id=n.w3cTraceId();var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),l.baseData=u,l},a.createEventData=function(c){var u=new r.EventData;u.name=c.name,u.properties=c.properties,u.measurements=c.measurements;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),l.baseData=u,l},a.createExceptionData=function(c){var u=new r.ExceptionData;u.properties=c.properties,isNaN(c.severity)?u.severityLevel=r.SeverityLevel.Error:u.severityLevel=c.severity,u.measurements=c.measurements,u.exceptions=[];var l=c.exception.stack,p=new r.ExceptionDetails;p.message=c.exception.message,p.typeName=c.exception.name,p.parsedStack=this.parseStack(l),p.hasFullStack=n.isArray(p.parsedStack)&&p.parsedStack.length>0,u.exceptions.push(p);var d=new r.Data;return d.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),d.baseData=u,d},a.createRequestData=function(c){var u=new r.RequestData;c.id?u.id=c.id:u.id=n.w3cTraceId(),u.name=c.name,u.url=c.url,u.source=c.source,u.duration=n.msToTimeSpan(c.duration),u.responseCode=c.resultCode?c.resultCode+"":"",u.success=c.success,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),l.baseData=u,l},a.createMetricData=function(c){var u=new r.MetricData;u.metrics=[];var l=new r.DataPoint;l.count=isNaN(c.count)?1:c.count,l.kind=r.DataPointType.Aggregation,l.max=isNaN(c.max)?c.value:c.max,l.min=isNaN(c.min)?c.value:c.min,l.name=c.name,l.stdDev=isNaN(c.stdDev)?0:c.stdDev,l.value=c.value,u.metrics.push(l),u.properties=c.properties;var p=new r.Data;return p.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),p.baseData=u,p},a.createAvailabilityData=function(c){var u=new r.AvailabilityData;c.id?u.id=c.id:u.id=n.w3cTraceId(),u.name=c.name,u.duration=n.msToTimeSpan(c.duration),u.success=c.success,u.runLocation=c.runLocation,u.message=c.message,u.measurements=c.measurements,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),l.baseData=u,l},a.createPageViewData=function(c){var u=new r.PageViewData;u.name=c.name,u.duration=n.msToTimeSpan(c.duration),u.url=c.url,u.measurements=c.measurements,u.properties=c.properties;var l=new r.Data;return l.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),l.baseData=u,l},a.getTags=function(c,u){var l=i.CorrelationContextManager.getCurrentContext(),p={};if(c&&c.tags)for(var d in c.tags)p[d]=c.tags[d];if(u)for(var d in u)p[d]=u[d];return l&&(p[c.keys.operationId]=p[c.keys.operationId]||l.operation.id,p[c.keys.operationName]=p[c.keys.operationName]||l.operation.name,p[c.keys.operationParentId]=p[c.keys.operationParentId]||l.operation.parentId),p},a.parseStack=function(c){var u=void 0;if(typeof c=="string"){var l=c.split(`
`);u=[];for(var p=0,d=0,f=0;f<=l.length;f++){var m=l[f];if(s.regex.test(m)){var g=new s(l[f],p++);d+=g.sizeInBytes,u.push(g)}}var y=32*1024;if(d>y)for(var b=0,x=u.length-1,w=0,C=b,D=x;b<x;){var N=u[b].sizeInBytes,M=u[x].sizeInBytes;if(w+=N+M,w>y){var F=D-C+1;u.splice(C,F);break}C=b,D=x,b++,x--}}return u},a}(),s=function(){function a(c,u){this.sizeInBytes=0,this.level=u,this.method="<no_method>",this.assembly=n.trim(c);var l=c.match(a.regex);l&&l.length>=5&&(this.method=n.trim(l[2])||this.method,this.fileName=n.trim(l[4])||"<no_filename>",this.line=parseInt(l[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=a.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return a.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,a.baseSize=58,a}();e.exports=o}),Fq=A((t,e)=>{"use strict";var r=require("url"),n=Ix(),i=ju(),o=_n(),s=Oq(),a=qq(),c=Os(),u=Lq(),l=Gn(),p=Gr(),d=jq(),f=function(){function m(g){this._telemetryProcessors=[],this._enableAzureProperties=!1;var y=new n(g);this.config=y,this.context=new i,this.commonProperties={};var b=new u(this.config);this.channel=new s(function(){return y.disableAppInsights},function(){return y.maxBatchSize},function(){return y.maxBatchIntervalMs},b)}return m.prototype.trackAvailability=function(g){this.track(g,o.TelemetryType.Availability)},m.prototype.trackPageView=function(g){this.track(g,o.TelemetryType.PageView)},m.prototype.trackTrace=function(g){this.track(g,o.TelemetryType.Trace)},m.prototype.trackMetric=function(g){this.track(g,o.TelemetryType.Metric)},m.prototype.trackException=function(g){g&&g.exception&&!l.isError(g.exception)&&(g.exception=new Error(g.exception.toString())),this.track(g,o.TelemetryType.Exception)},m.prototype.trackEvent=function(g){this.track(g,o.TelemetryType.Event)},m.prototype.trackRequest=function(g){this.track(g,o.TelemetryType.Request)},m.prototype.trackDependency=function(g){g&&!g.target&&g.data&&(g.target=r.parse(g.data).host),this.track(g,o.TelemetryType.Dependency)},m.prototype.flush=function(g){this.channel.triggerSend(g?!!g.isAppCrashing:!1,g?g.callback:void 0)},m.prototype.track=function(g,y){if(g&&o.telemetryTypeToBaseType(y)){var b=d.createEnvelope(g,y,this.commonProperties,this.context,this.config);g.time&&(b.time=g.time.toISOString()),this._enableAzureProperties&&a.azureRoleEnvironmentTelemetryProcessor(b,this.context);var x=this.runTelemetryProcessors(b,g.contextObjects);x=x&&a.samplingTelemetryProcessor(b,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),a.preAggregatedMetricsTelemetryProcessor(b,this.context),x&&(a.performanceMetricsTelemetryProcessor(b,this.quickPulseClient),this.channel.send(b))}else p.warn("track() requires telemetry object and telemetryType to be specified.")},m.prototype.setAutoPopulateAzureProperties=function(g){this._enableAzureProperties=g},m.prototype.addTelemetryProcessor=function(g){this._telemetryProcessors.push(g)},m.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},m.prototype.runTelemetryProcessors=function(g,y){var b=!0,x=this._telemetryProcessors.length;if(x===0)return b;y=y||{},y.correlationContext=c.CorrelationContextManager.getCurrentContext();for(var w=0;w<x;++w)try{var C=this._telemetryProcessors[w];if(C&&C.apply(null,[g,y])===!1){b=!1;break}}catch(D){b=!0,p.warn("One of telemetry processors failed, telemetry item will be sent.",D,g)}return b&&(g&&g.tags&&(g.tags=l.validateStringMap(g.tags)),g&&g.data&&g.data.baseData&&g.data.baseData.properties&&(g.data.baseData.properties=l.validateStringMap(g.data.baseData.properties))),b},m}();e.exports=f}),Uq=A((t,e)=>{"use strict";var r=t&&t.__extends||function(){var c=function(u,l){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(p[f]=d[f])},c(u,l)};return function(u,l){c(u,l);function p(){this.constructor=u}u.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}(),n=Fq(),i=Dx(),o=cc(),s=Gr(),a=function(c){r(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.prototype.trackNodeHttpRequestSync=function(l){l&&l.request&&l.response&&l.duration?i.trackRequestSync(this,l):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},u.prototype.trackNodeHttpRequest=function(l){(l.duration||l.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),l&&l.request&&l.response?i.trackRequest(this,l):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},u.prototype.trackNodeHttpDependency=function(l){l&&l.request?o.trackRequest(this,l):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},u}(n);e.exports=a}),$q=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Hq=A(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.Configuration=t.wrapWithCorrelationContext=t.startOperation=t.getCorrelationContext=t.start=t.setup=t.liveMetricsClient=t.defaultClient=t.DistributedTracingModes=void 0;var e=Os(),r=fq(),n=mq(),i=wf(),o=Px(),s=Eq(),a=cc(),c=Dx(),u=Is(),l=Gr(),p=Pq(),d=Iq();t.TelemetryClient=Uq(),t.Contracts=_n(),t.azureFunctionsTypes=$q();var f;(function(Me){Me[Me.AI=0]="AI",Me[Me.AI_AND_W3C=1]="AI_AND_W3C"})(f=t.DistributedTracingModes||(t.DistributedTracingModes={}));var m=!0,g=!1,y=!0,b=!0,x=!0,w=!1,C=!0,D=!0,N=!0,M=!0,F,Q=!1,ne=!0,X,H=void 0,ae=void 0,ee,xe,pe,z,Z,te,de,he,Pe=!1,Te;function Be(Me){return t.defaultClient?l.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(Me),ee=new r(t.defaultClient),xe=new n(t.defaultClient),pe=new i(t.defaultClient),z=new o(t.defaultClient),Z=new s(t.defaultClient),de=new c(t.defaultClient),he=new a(t.defaultClient),te||(te=new d.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(N,H,ae),It}t.setup=Be;function We(){return t.defaultClient?(Pe=!0,ee.enable(m,g),xe.enable(y),pe.enable(b),z.enable(x),Z.enable(w,t.defaultClient.config),te.enable(ne,X),de.useAutoCorrelation(M,F),de.enable(C),he.enable(D),t.liveMetricsClient&&Q&&t.liveMetricsClient.enable(Q)):l.warn("Start cannot be called before setup"),It}t.start=We;function mt(){return M?e.CorrelationContextManager.getCurrentContext():null}t.getCorrelationContext=mt;function it(Me,we){return e.CorrelationContextManager.startOperation(Me,we)}t.startOperation=it;function ke(Me,we){return e.CorrelationContextManager.wrapCallback(Me,we)}t.wrapWithCorrelationContext=ke;var It=function(){function Me(){}return Me.setDistributedTracingMode=function(we){return u.w3cEnabled=we===f.AI_AND_W3C,Me},Me.setAutoCollectConsole=function(we,Fe){return Fe===void 0&&(Fe=!1),m=we,g=Fe,Pe&&ee.enable(we,Fe),Me},Me.setAutoCollectExceptions=function(we){return y=we,Pe&&xe.enable(we),Me},Me.setAutoCollectPerformance=function(we,Fe){Fe===void 0&&(Fe=!0),b=we;var et=d.AutoCollectNativePerformance.parseEnabled(Fe);return ne=et.isEnabled,X=et.disabledMetrics,Pe&&(pe.enable(we),te.enable(et.isEnabled,et.disabledMetrics)),Me},Me.setAutoCollectPreAggregatedMetrics=function(we){return x=we,Pe&&z.enable(we),Me},Me.setAutoCollectHeartbeat=function(we){return w=we,Pe&&Z.enable(we,t.defaultClient.config),Me},Me.setAutoCollectRequests=function(we){return C=we,Pe&&de.enable(we),Me},Me.setAutoCollectDependencies=function(we){return D=we,Pe&&he.enable(we),Me},Me.setAutoDependencyCorrelation=function(we,Fe){return M=we,F=Fe,Pe&&de.useAutoCorrelation(we,Fe),Me},Me.setUseDiskRetryCaching=function(we,Fe,et){return N=we,H=Fe,ae=et,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(we,Fe,et),Me},Me.setInternalLogging=function(we,Fe){return we===void 0&&(we=!1),Fe===void 0&&(Fe=!0),l.enableDebug=we,l.disableWarnings=!Fe,Me},Me.setSendLiveMetrics=function(we){return we===void 0&&(we=!1),t.defaultClient?(!t.liveMetricsClient&&we?(t.liveMetricsClient=new p(t.defaultClient.config,null),Te=new i(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(Te),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(we),Q=we,Me):(l.warn("Live metrics client cannot be setup without the default client"),Me)},Me.start=We,Me}();t.Configuration=It;function jt(){u.w3cEnabled=!0,t.defaultClient=null,Pe=!1,ee&&ee.dispose(),xe&&xe.dispose(),pe&&pe.dispose(),z&&z.dispose(),Z&&Z.dispose(),te&&te.dispose(),de&&de.dispose(),he&&he.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),Q=!1,t.liveMetricsClient=void 0)}t.dispose=jt}),Ox={};_N(Ox,{default:()=>Wq});Ax.exports=xN(Ox);var pf=nc(require("os")),Ds=nc(require("vscode")),Rr=nc(require("vscode")),Mu=nc(require("vscode"));function tc(){let t="telemetry",e="enableTelemetry";try{let r=Mu.env.telemetryConfiguration;return r.isUsageEnabled&&r.isErrorsEnabled&&r.isCrashEnabled?"on":r.isErrorsEnabled&&r.isCrashEnabled?"error":"off"}catch{return Mu.env.isTelemetryEnabled!==void 0?Mu.env.isTelemetryEnabled?"on":"off":Mu.workspace.getConfiguration(t).get(e)?"on":"off"}}var Bq=class{constructor(t,e,r,n,i){this.extensionId=t,this.extensionVersion=e,this.telemetryAppender=r,this.osShim=n,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!i,this.updateUserOptStatus(),Rr.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(Rr.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(Rr.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(Rr.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let t=tc();this.userOptIn=t==="on",this.errorOptIn=t==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(t){if(!t)return"none";let e="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(r=>{t.indexOf(`${r}`)===0&&(e=r)}),e}get extension(){return this._extension===void 0&&(this._extension=Rr.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(t,e){if(t===null||typeof t!="object"||typeof e!="function")return t;let r={};for(let n in t)r[n]=e(n,t[n]);return r}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(Rr.env.remoteName&&this.cleanRemoteName(Rr.env.remoteName)==="other"):!0}getCommonProperties(){let t=Object.create(null);if(t["common.os"]=this.osShim.platform,t["common.nodeArch"]=this.osShim.architecture,t["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,Rr&&Rr.env){switch(t["common.vscodemachineid"]=Rr.env.machineId,t["common.vscodesessionid"]=Rr.env.sessionId,t["common.vscodeversion"]=Rr.version,t["common.isnewappinstall"]=Rr.env.isNewAppInstall?Rr.env.isNewAppInstall.toString():"false",t["common.product"]=Rr.env.appHost,Rr.env.uiKind){case Rr.UIKind.Web:t["common.uikind"]="web";break;case Rr.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(Rr.env.remoteName)}return t}anonymizeFilePaths(t,e){let r;if(t==null)return"";let n=[];Rr.env.appRoot!==""&&n.push(new RegExp(Rr.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=t;if(e){let o=[];for(let u of n)for(;(r=u.exec(t))&&r;)o.push([r.index,u.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(r=a.exec(t))&&r;)r[0]&&!s.test(r[0])&&o.every(([u,l])=>r.index<u||r.index>=l)&&(i+=t.substring(c,r.index)+"<REDACTED: user-file-path>",c=a.lastIndex);c<t.length&&(i+=t.substr(c))}for(let o of n)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(t){if(typeof t!="object")return;let e=Object.create(null);for(let r of Object.keys(t)){let n=t[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,s=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(n.toLowerCase())?e[r]="<REDACTED: secret>":i.test(n)?e[r]="<REDACTED: email>":s.test(n)?e[r]="<REDACTED: token>":e[r]=n}return e}get telemetryLevel(){switch(tc()){case"on":return"all";case"error":return"error";case"off":return"off"}}sendTelemetryEvent(t,e,r){if(this.userOptIn&&t!==""){e=Ji(Ji({},e),this.getCommonProperties());let n=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}sendRawTelemetryEvent(t,e,r){this.userOptIn&&t!==""&&(e=Ji(Ji({},e),this.getCommonProperties()),this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:e,measurements:r}))}sendTelemetryErrorEvent(t,e,r,n){if(this.errorOptIn&&t!==""){e=Ji(Ji({},e),this.getCommonProperties());let i=this.cloneAndChange(e,(o,s)=>this.shouldSendErrorTelemetry()?this.anonymizeFilePaths(s,this.firstParty):n===void 0||n.indexOf(o)!==-1?"REDACTED":this.anonymizeFilePaths(s,this.firstParty));this.telemetryAppender.logEvent(`${this.extensionId}/${t}`,{properties:this.removePropertiesWithPossibleUserInfo(i),measurements:r})}}sendTelemetryException(t,e,r){if(this.shouldSendErrorTelemetry()&&this.errorOptIn&&t){e=Ji(Ji({},e),this.getCommonProperties());let n=this.cloneAndChange(e,(i,o)=>this.anonymizeFilePaths(o,this.firstParty));t.stack&&(t.stack=this.anonymizeFilePaths(t.stack,this.firstParty)),this.telemetryAppender.logException(t,{properties:this.removePropertiesWithPossibleUserInfo(n),measurements:r})}}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(t=>t.dispose()))}},zq=class{constructor(t,e){this._isInstantiated=!1,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=e,this._key=t,tc()!=="off"&&this.instantiateAppender()}logEvent(t,e){if(!this._telemetryClient){!this._isInstantiated&&tc()==="on"&&this._eventQueue.push({eventName:t,data:e});return}this._telemetryClient.logEvent(t,e)}logException(t,e){if(!this._telemetryClient){!this._isInstantiated&&tc()!=="off"&&this._exceptionQueue.push({exception:t,data:e});return}this._telemetryClient.logException(t,e)}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:e})=>this.logEvent(t,e)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:e})=>this.logException(t,e)),this._exceptionQueue=[]}instantiateAppender(){this._isInstantiated||this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._isInstantiated=!0,this._flushQueues()}).catch(t=>{console.error(t)})}},Vq=async t=>{let e;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let r=await Promise.resolve().then(()=>nc(Hq()));r.defaultClient?(e=new r.TelemetryClient(t),e.channel.setUseDiskRetryCaching(!0)):(r.setup(t).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),e=r.defaultClient),Ds&&Ds.env&&(e.context.tags[e.context.keys.userId]=Ds.env.machineId,e.context.tags[e.context.keys.sessionId]=Ds.env.sessionId,e.context.tags[e.context.keys.cloudRole]=Ds.env.appName,e.context.tags[e.context.keys.cloudRoleInstance]=Ds.env.appName),t&&t.indexOf("AIF-")===0&&(e.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1")}catch(r){return Promise.reject(`Failed to initialize app insights!
`+r.message)}return{logEvent:(r,n)=>{try{e?.trackEvent({name:r,properties:n?.properties,measurements:n?.measurements})}catch(i){throw new Error(`Failed to log event to app insights!
`+i.message)}},logException:(r,n)=>{try{e?.trackException({exception:r,properties:n?.properties,measurements:n?.measurements})}catch(i){throw new Error(`Failed to log exception to app insights!
`+i.message)}},flush:async()=>{try{e?.flush()}catch(r){throw new Error(`Failed to flush app insights!
`+r.message)}}}},Wq=class extends Bq{constructor(t,e,r,n){let i=new zq(r,Vq);r&&r.indexOf("AIF-")===0&&(n=!0),super(t,e,i,{release:pf.release(),platform:pf.platform(),architecture:pf.arch()},n)}}});var Kn=$(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.asPromise=br.thenable=br.typedArray=br.stringArray=br.array=br.func=br.error=br.number=br.string=br.boolean=void 0;function Gq(t){return t===!0||t===!1}br.boolean=Gq;function Nx(t){return typeof t=="string"||t instanceof String}br.string=Nx;function Kq(t){return typeof t=="number"||t instanceof Number}br.number=Kq;function Xq(t){return t instanceof Error}br.error=Xq;function Mx(t){return typeof t=="function"}br.func=Mx;function qx(t){return Array.isArray(t)}br.array=qx;function Qq(t){return qx(t)&&t.every(e=>Nx(e))}br.stringArray=Qq;function Yq(t,e){return Array.isArray(t)&&t.every(e)}br.typedArray=Yq;function Lx(t){return t&&Mx(t.then)}br.thenable=Lx;function Zq(t){return t instanceof Promise?t:Lx(t)?new Promise((e,r)=>{t.then(n=>e(n),n=>r(n))}):Promise.resolve(t)}br.asPromise=Zq});var As=$(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.stringArray=en.array=en.func=en.error=en.number=en.string=en.boolean=void 0;function Jq(t){return t===!0||t===!1}en.boolean=Jq;function jx(t){return typeof t=="string"||t instanceof String}en.string=jx;function eL(t){return typeof t=="number"||t instanceof Number}en.number=eL;function tL(t){return t instanceof Error}en.error=tL;function rL(t){return typeof t=="function"}en.func=rL;function Fx(t){return Array.isArray(t)}en.array=Fx;function nL(t){return Fx(t)&&t.every(e=>jx(e))}en.stringArray=nL});var Gf=$(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.Message=He.NotificationType9=He.NotificationType8=He.NotificationType7=He.NotificationType6=He.NotificationType5=He.NotificationType4=He.NotificationType3=He.NotificationType2=He.NotificationType1=He.NotificationType0=He.NotificationType=He.RequestType9=He.RequestType8=He.RequestType7=He.RequestType6=He.RequestType5=He.RequestType4=He.RequestType3=He.RequestType2=He.RequestType1=He.RequestType=He.RequestType0=He.AbstractMessageSignature=He.ParameterStructures=He.ResponseError=He.ErrorCodes=void 0;var qo=As(),Cf;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Cf||(He.ErrorCodes=Cf={}));var Ef=class t extends Error{constructor(e,r,n){super(r),this.code=qo.number(e)?e:Cf.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};He.ResponseError=Ef;var xn=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};He.ParameterStructures=xn;xn.auto=new xn("auto");xn.byPosition=new xn("byPosition");xn.byName=new xn("byName");var tr=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return xn.auto}};He.AbstractMessageSignature=tr;var Sf=class extends tr{constructor(e){super(e,0)}};He.RequestType0=Sf;var Tf=class extends tr{constructor(e,r=xn.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};He.RequestType=Tf;var Rf=class extends tr{constructor(e,r=xn.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};He.RequestType1=Rf;var Pf=class extends tr{constructor(e){super(e,2)}};He.RequestType2=Pf;var Df=class extends tr{constructor(e){super(e,3)}};He.RequestType3=Df;var If=class extends tr{constructor(e){super(e,4)}};He.RequestType4=If;var Of=class extends tr{constructor(e){super(e,5)}};He.RequestType5=Of;var Af=class extends tr{constructor(e){super(e,6)}};He.RequestType6=Af;var kf=class extends tr{constructor(e){super(e,7)}};He.RequestType7=kf;var Nf=class extends tr{constructor(e){super(e,8)}};He.RequestType8=Nf;var Mf=class extends tr{constructor(e){super(e,9)}};He.RequestType9=Mf;var qf=class extends tr{constructor(e,r=xn.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};He.NotificationType=qf;var Lf=class extends tr{constructor(e){super(e,0)}};He.NotificationType0=Lf;var jf=class extends tr{constructor(e,r=xn.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};He.NotificationType1=jf;var Ff=class extends tr{constructor(e){super(e,2)}};He.NotificationType2=Ff;var Uf=class extends tr{constructor(e){super(e,3)}};He.NotificationType3=Uf;var $f=class extends tr{constructor(e){super(e,4)}};He.NotificationType4=$f;var Hf=class extends tr{constructor(e){super(e,5)}};He.NotificationType5=Hf;var Bf=class extends tr{constructor(e){super(e,6)}};He.NotificationType6=Bf;var zf=class extends tr{constructor(e){super(e,7)}};He.NotificationType7=zf;var Vf=class extends tr{constructor(e){super(e,8)}};He.NotificationType8=Vf;var Wf=class extends tr{constructor(e){super(e,9)}};He.NotificationType9=Wf;var Ux;(function(t){function e(i){let o=i;return o&&qo.string(o.method)&&(qo.string(o.id)||qo.number(o.id))}t.isRequest=e;function r(i){let o=i;return o&&qo.string(o.method)&&i.id===void 0}t.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(qo.string(o.id)||qo.number(o.id)||o.id===null)}t.isResponse=n})(Ux||(He.Message=Ux={}))});var Xf=$(ro=>{"use strict";var $x;Object.defineProperty(ro,"__esModule",{value:!0});ro.LRUCache=ro.LinkedMap=ro.Touch=void 0;var tn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(tn||(ro.Touch=tn={}));var Fu=class{constructor(){this[$x]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=tn.None){let n=this._map.get(e);if(n)return r!==tn.None&&this.touch(n,r),n.value}set(e,r,n=tn.None){let i=this._map.get(e);if(i)i.value=r,n!==tn.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case tn.None:this.addItemLast(i);break;case tn.First:this.addItemFirst(i);break;case tn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[($x=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==tn.First&&r!==tn.Last)){if(r===tn.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===tn.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};ro.LinkedMap=Fu;var Kf=class extends Fu{constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=tn.AsNew){return super.get(e,r)}peek(e){return super.get(e,tn.None)}set(e,r){return super.set(e,r,tn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ro.LRUCache=Kf});var Bx=$(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.Disposable=void 0;var Hx;(function(t){function e(r){return{dispose:r}}t.create=e})(Hx||(Uu.Disposable=Hx={}))});var no=$(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});var Qf;function Yf(){if(Qf===void 0)throw new Error("No runtime abstraction layer installed");return Qf}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Qf=r}t.install=e})(Yf||(Yf={}));Zf.default=Yf});var Ns=$(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.Emitter=ks.Event=void 0;var iL=no(),zx;(function(t){let e={dispose(){}};t.None=function(){return e}})(zx||(ks.Event=zx={}));var Jf=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],e))}catch(a){(0,iL.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},$u=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new Jf),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ks.Emitter=$u;$u._noop=function(){}});var zu=$(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.CancellationTokenSource=Ms.CancellationToken=void 0;var oL=no(),sL=As(),em=Ns(),Hu;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:em.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:em.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||sL.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(Hu||(Ms.CancellationToken=Hu={}));var aL=Object.freeze(function(t,e){let r=(0,oL.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),Bu=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?aL:(this._emitter||(this._emitter=new em.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},tm=class{get token(){return this._token||(this._token=new Bu),this._token}cancel(){this._token?this._token.cancel():this._token=Hu.Cancelled}dispose(){this._token?this._token instanceof Bu&&this._token.dispose():this._token=Hu.None}};Ms.CancellationTokenSource=tm});var Vx=$(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.SharedArrayReceiverStrategy=qs.SharedArraySenderStrategy=void 0;var cL=zu(),uc;(function(t){t.Continue=0,t.Cancelled=1})(uc||(uc={}));var rm=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=uc.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,uc.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};qs.SharedArraySenderStrategy=rm;var nm=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===uc.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},im=class{constructor(e){this.token=new nm(e)}cancel(){}dispose(){}},om=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new cL.CancellationTokenSource:new im(r)}};qs.SharedArrayReceiverStrategy=om});var am=$(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.Semaphore=void 0;var uL=no(),sm=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,uL.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};Vu.Semaphore=sm});var Gx=$(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.ReadableStreamMessageReader=io.AbstractMessageReader=io.MessageReader=void 0;var um=no(),Ls=As(),cm=Ns(),lL=am(),Wx;(function(t){function e(r){let n=r;return n&&Ls.func(n.listen)&&Ls.func(n.dispose)&&Ls.func(n.onError)&&Ls.func(n.onClose)&&Ls.func(n.onPartialMessage)}t.is=e})(Wx||(io.MessageReader=Wx={}));var Wu=class{constructor(){this.errorEmitter=new cm.Emitter,this.closeEmitter=new cm.Emitter,this.partialMessageEmitter=new cm.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Ls.string(e.message)?e.message:"unknown"}`)}};io.AbstractMessageReader=Wu;var lm;(function(t){function e(r){let n,i,o,s=new Map,a,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)s.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,c.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,um.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(lm||(lm={}));var pm=class extends Wu{constructor(e,r){super(),this.readable=e,this.options=lm.fromOptions(r),this.buffer=(0,um.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new lL.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,um.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};io.ReadableStreamMessageReader=pm});var Zx=$(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.WriteableStreamMessageWriter=oo.AbstractMessageWriter=oo.MessageWriter=void 0;var Kx=no(),lc=As(),pL=am(),Xx=Ns(),dL="Content-Length: ",Qx=`\r
`,Yx;(function(t){function e(r){let n=r;return n&&lc.func(n.dispose)&&lc.func(n.onClose)&&lc.func(n.onError)&&lc.func(n.write)}t.is=e})(Yx||(oo.MessageWriter=Yx={}));var Gu=class{constructor(){this.errorEmitter=new Xx.Emitter,this.closeEmitter=new Xx.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${lc.string(e.message)?e.message:"unknown"}`)}};oo.AbstractMessageWriter=Gu;var dm;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,Kx.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,Kx.default)().applicationJson.encoder}}t.fromOptions=e})(dm||(dm={}));var fm=class extends Gu{constructor(e,r){super(),this.writable=e,this.options=dm.fromOptions(r),this.errorCount=0,this.writeSemaphore=new pL.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(dL,n.byteLength.toString(),Qx),i.push(Qx),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};oo.WriteableStreamMessageWriter=fm});var Jx=$(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.AbstractMessageBuffer=void 0;var fL=13,mL=10,hL=`\r
`,mm=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case fL:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case mL:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=u.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(hL);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],p=l.indexOf(":");if(p===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let d=l.substr(0,p),f=l.substr(p+1).trim();a.set(e?d.toLowerCase():d,f)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);r.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return r}};Ku.AbstractMessageBuffer=mm});var iw=$(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.createMessageConnection=pt.ConnectionOptions=pt.MessageStrategy=pt.CancellationStrategy=pt.CancellationSenderStrategy=pt.CancellationReceiverStrategy=pt.RequestCancellationReceiverStrategy=pt.IdCancellationReceiverStrategy=pt.ConnectionStrategy=pt.ConnectionError=pt.ConnectionErrors=pt.LogTraceNotification=pt.SetTraceNotification=pt.TraceFormat=pt.TraceValues=pt.Trace=pt.NullLogger=pt.ProgressType=pt.ProgressToken=void 0;var ew=no(),pr=As(),Ge=Gf(),tw=Xf(),pc=Ns(),hm=zu(),mc;(function(t){t.type=new Ge.NotificationType("$/cancelRequest")})(mc||(mc={}));var gm;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}t.is=e})(gm||(pt.ProgressToken=gm={}));var dc;(function(t){t.type=new Ge.NotificationType("$/progress")})(dc||(dc={}));var vm=class{constructor(){}};pt.ProgressType=vm;var ym;(function(t){function e(r){return pr.func(r)}t.is=e})(ym||(ym={}));pt.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ut;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(Ut||(pt.Trace=Ut={}));var rw;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(rw||(pt.TraceValues=rw={}));(function(t){function e(n){if(!pr.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(Ut||(pt.Trace=Ut={}));var Mn;(function(t){t.Text="text",t.JSON="json"})(Mn||(pt.TraceFormat=Mn={}));(function(t){function e(r){return pr.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Mn||(pt.TraceFormat=Mn={}));var bm;(function(t){t.type=new Ge.NotificationType("$/setTrace")})(bm||(pt.SetTraceNotification=bm={}));var Xu;(function(t){t.type=new Ge.NotificationType("$/logTrace")})(Xu||(pt.LogTraceNotification=Xu={}));var fc;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(fc||(pt.ConnectionErrors=fc={}));var js=class t extends Error{constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};pt.ConnectionError=js;var _m;(function(t){function e(r){let n=r;return n&&pr.func(n.cancelUndispatched)}t.is=e})(_m||(pt.ConnectionStrategy=_m={}));var Qu;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&pr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||pr.func(n.dispose))}t.is=e})(Qu||(pt.IdCancellationReceiverStrategy=Qu={}));var xm;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&pr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||pr.func(n.dispose))}t.is=e})(xm||(pt.RequestCancellationReceiverStrategy=xm={}));var Yu;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new hm.CancellationTokenSource}});function e(r){return Qu.is(r)||xm.is(r)}t.is=e})(Yu||(pt.CancellationReceiverStrategy=Yu={}));var Zu;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(mc.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&pr.func(n.sendCancellation)&&pr.func(n.cleanup)}t.is=e})(Zu||(pt.CancellationSenderStrategy=Zu={}));var Ju;(function(t){t.Message=Object.freeze({receiver:Yu.Message,sender:Zu.Message});function e(r){let n=r;return n&&Yu.is(n.receiver)&&Zu.is(n.sender)}t.is=e})(Ju||(pt.CancellationStrategy=Ju={}));var el;(function(t){function e(r){let n=r;return n&&pr.func(n.handleMessage)}t.is=e})(el||(pt.MessageStrategy=el={}));var nw;(function(t){function e(r){let n=r;return n&&(Ju.is(n.cancellationStrategy)||_m.is(n.connectionStrategy)||el.is(n.messageStrategy))}t.is=e})(nw||(pt.ConnectionOptions=nw={}));var ui;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(ui||(ui={}));function gL(t,e,r,n){let i=r!==void 0?r:pt.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,p,d=new Map,f=new Map,m,g=new tw.LinkedMap,y=new Map,b=new Set,x=new Map,w=Ut.Off,C=Mn.Text,D,N=ui.New,M=new pc.Emitter,F=new pc.Emitter,Q=new pc.Emitter,ne=new pc.Emitter,X=new pc.Emitter,H=n&&n.cancellationStrategy?n.cancellationStrategy:Ju.Message;function ae(q){if(q===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+q.toString()}function ee(q){return q===null?"res-unknown-"+(++a).toString():"res-"+q.toString()}function xe(){return"not-"+(++s).toString()}function pe(q,oe){Ge.Message.isRequest(oe)?q.set(ae(oe.id),oe):Ge.Message.isResponse(oe)?q.set(ee(oe.id),oe):q.set(xe(),oe)}function z(q){}function Z(){return N===ui.Listening}function te(){return N===ui.Closed}function de(){return N===ui.Disposed}function he(){(N===ui.New||N===ui.Listening)&&(N=ui.Closed,F.fire(void 0))}function Pe(q){M.fire([q,void 0,void 0])}function Te(q){M.fire(q)}t.onClose(he),t.onError(Pe),e.onClose(he),e.onError(Te);function Be(){m||g.size===0||(m=(0,ew.default)().timer.setImmediate(()=>{m=void 0,mt()}))}function We(q){Ge.Message.isRequest(q)?ke(q):Ge.Message.isNotification(q)?jt(q):Ge.Message.isResponse(q)?It(q):Me(q)}function mt(){if(g.size===0)return;let q=g.shift();try{let oe=n?.messageStrategy;el.is(oe)?oe.handleMessage(q,We):We(q)}finally{Be()}}let it=q=>{try{if(Ge.Message.isNotification(q)&&q.method===mc.type.method){let oe=q.params.id,fe=ae(oe),ve=g.get(fe);if(Ge.Message.isRequest(ve)){let tt=n?.connectionStrategy,ot=tt&&tt.cancelUndispatched?tt.cancelUndispatched(ve,z):void 0;if(ot&&(ot.error!==void 0||ot.result!==void 0)){g.delete(fe),x.delete(oe),ot.id=ve.id,Ir(ot,q.method,Date.now()),e.write(ot).catch(()=>i.error("Sending response for canceled message failed."));return}}let Qe=x.get(oe);if(Qe!==void 0){Qe.cancel(),ue(q);return}else b.add(oe)}pe(g,q)}finally{Be()}};function ke(q){if(de())return;function oe(qe,Re,Ue){let me={jsonrpc:c,id:q.id};qe instanceof Ge.ResponseError?me.error=qe.toJson():me.result=qe===void 0?null:qe,Ir(me,Re,Ue),e.write(me).catch(()=>i.error("Sending response failed."))}function fe(qe,Re,Ue){let me={jsonrpc:c,id:q.id,error:qe.toJson()};Ir(me,Re,Ue),e.write(me).catch(()=>i.error("Sending response failed."))}function ve(qe,Re,Ue){qe===void 0&&(qe=null);let me={jsonrpc:c,id:q.id,result:qe};Ir(me,Re,Ue),e.write(me).catch(()=>i.error("Sending response failed."))}Jr(q);let Qe=l.get(q.method),tt,ot;Qe&&(tt=Qe.type,ot=Qe.handler);let Ye=Date.now();if(ot||u){let qe=q.id??String(Date.now()),Re=Qu.is(H.receiver)?H.receiver.createCancellationTokenSource(qe):H.receiver.createCancellationTokenSource(q);q.id!==null&&b.has(q.id)&&Re.cancel(),q.id!==null&&x.set(qe,Re);try{let Ue;if(ot)if(q.params===void 0){if(tt!==void 0&&tt.numberOfParams!==0){fe(new Ge.ResponseError(Ge.ErrorCodes.InvalidParams,`Request ${q.method} defines ${tt.numberOfParams} params but received none.`),q.method,Ye);return}Ue=ot(Re.token)}else if(Array.isArray(q.params)){if(tt!==void 0&&tt.parameterStructures===Ge.ParameterStructures.byName){fe(new Ge.ResponseError(Ge.ErrorCodes.InvalidParams,`Request ${q.method} defines parameters by name but received parameters by position`),q.method,Ye);return}Ue=ot(...q.params,Re.token)}else{if(tt!==void 0&&tt.parameterStructures===Ge.ParameterStructures.byPosition){fe(new Ge.ResponseError(Ge.ErrorCodes.InvalidParams,`Request ${q.method} defines parameters by position but received parameters by name`),q.method,Ye);return}Ue=ot(q.params,Re.token)}else u&&(Ue=u(q.method,q.params,Re.token));let me=Ue;Ue?me.then?me.then(Ft=>{x.delete(qe),oe(Ft,q.method,Ye)},Ft=>{x.delete(qe),Ft instanceof Ge.ResponseError?fe(Ft,q.method,Ye):Ft&&pr.string(Ft.message)?fe(new Ge.ResponseError(Ge.ErrorCodes.InternalError,`Request ${q.method} failed with message: ${Ft.message}`),q.method,Ye):fe(new Ge.ResponseError(Ge.ErrorCodes.InternalError,`Request ${q.method} failed unexpectedly without providing any details.`),q.method,Ye)}):(x.delete(qe),oe(Ue,q.method,Ye)):(x.delete(qe),ve(Ue,q.method,Ye))}catch(Ue){x.delete(qe),Ue instanceof Ge.ResponseError?oe(Ue,q.method,Ye):Ue&&pr.string(Ue.message)?fe(new Ge.ResponseError(Ge.ErrorCodes.InternalError,`Request ${q.method} failed with message: ${Ue.message}`),q.method,Ye):fe(new Ge.ResponseError(Ge.ErrorCodes.InternalError,`Request ${q.method} failed unexpectedly without providing any details.`),q.method,Ye)}}else fe(new Ge.ResponseError(Ge.ErrorCodes.MethodNotFound,`Unhandled method ${q.method}`),q.method,Ye)}function It(q){if(!de())if(q.id===null)q.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(q.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let oe=q.id,fe=y.get(oe);if(Lr(q,fe),fe!==void 0){y.delete(oe);try{if(q.error){let ve=q.error;fe.reject(new Ge.ResponseError(ve.code,ve.message,ve.data))}else if(q.result!==void 0)fe.resolve(q.result);else throw new Error("Should never happen.")}catch(ve){ve.message?i.error(`Response handler '${fe.method}' failed with message: ${ve.message}`):i.error(`Response handler '${fe.method}' failed unexpectedly.`)}}}}function jt(q){if(de())return;let oe,fe;if(q.method===mc.type.method){let ve=q.params.id;b.delete(ve),ue(q);return}else{let ve=d.get(q.method);ve&&(fe=ve.handler,oe=ve.type)}if(fe||p)try{if(ue(q),fe)if(q.params===void 0)oe!==void 0&&oe.numberOfParams!==0&&oe.parameterStructures!==Ge.ParameterStructures.byName&&i.error(`Notification ${q.method} defines ${oe.numberOfParams} params but received none.`),fe();else if(Array.isArray(q.params)){let ve=q.params;q.method===dc.type.method&&ve.length===2&&gm.is(ve[0])?fe({token:ve[0],value:ve[1]}):(oe!==void 0&&(oe.parameterStructures===Ge.ParameterStructures.byName&&i.error(`Notification ${q.method} defines parameters by name but received parameters by position`),oe.numberOfParams!==q.params.length&&i.error(`Notification ${q.method} defines ${oe.numberOfParams} params but received ${ve.length} arguments`)),fe(...ve))}else oe!==void 0&&oe.parameterStructures===Ge.ParameterStructures.byPosition&&i.error(`Notification ${q.method} defines parameters by position but received parameters by name`),fe(q.params);else p&&p(q.method,q.params)}catch(ve){ve.message?i.error(`Notification handler '${q.method}' failed with message: ${ve.message}`):i.error(`Notification handler '${q.method}' failed unexpectedly.`)}else Q.fire(q)}function Me(q){if(!q){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(q,null,4)}`);let oe=q;if(pr.string(oe.id)||pr.number(oe.id)){let fe=oe.id,ve=y.get(fe);ve&&ve.reject(new Error("The received response has neither a result nor an error property."))}}function we(q){if(q!=null)switch(w){case Ut.Verbose:return JSON.stringify(q,null,4);case Ut.Compact:return JSON.stringify(q);default:return}}function Fe(q){if(!(w===Ut.Off||!D))if(C===Mn.Text){let oe;(w===Ut.Verbose||w===Ut.Compact)&&q.params&&(oe=`Params: ${we(q.params)}

`),D.log(`Sending request '${q.method} - (${q.id})'.`,oe)}else Wt("send-request",q)}function et(q){if(!(w===Ut.Off||!D))if(C===Mn.Text){let oe;(w===Ut.Verbose||w===Ut.Compact)&&(q.params?oe=`Params: ${we(q.params)}

`:oe=`No parameters provided.

`),D.log(`Sending notification '${q.method}'.`,oe)}else Wt("send-notification",q)}function Ir(q,oe,fe){if(!(w===Ut.Off||!D))if(C===Mn.Text){let ve;(w===Ut.Verbose||w===Ut.Compact)&&(q.error&&q.error.data?ve=`Error data: ${we(q.error.data)}

`:q.result?ve=`Result: ${we(q.result)}

`:q.error===void 0&&(ve=`No result returned.

`)),D.log(`Sending response '${oe} - (${q.id})'. Processing request took ${Date.now()-fe}ms`,ve)}else Wt("send-response",q)}function Jr(q){if(!(w===Ut.Off||!D))if(C===Mn.Text){let oe;(w===Ut.Verbose||w===Ut.Compact)&&q.params&&(oe=`Params: ${we(q.params)}

`),D.log(`Received request '${q.method} - (${q.id})'.`,oe)}else Wt("receive-request",q)}function ue(q){if(!(w===Ut.Off||!D||q.method===Xu.type.method))if(C===Mn.Text){let oe;(w===Ut.Verbose||w===Ut.Compact)&&(q.params?oe=`Params: ${we(q.params)}

`:oe=`No parameters provided.

`),D.log(`Received notification '${q.method}'.`,oe)}else Wt("receive-notification",q)}function Lr(q,oe){if(!(w===Ut.Off||!D))if(C===Mn.Text){let fe;if((w===Ut.Verbose||w===Ut.Compact)&&(q.error&&q.error.data?fe=`Error data: ${we(q.error.data)}

`:q.result?fe=`Result: ${we(q.result)}

`:q.error===void 0&&(fe=`No result returned.

`)),oe){let ve=q.error?` Request failed: ${q.error.message} (${q.error.code}).`:"";D.log(`Received response '${oe.method} - (${q.id})' in ${Date.now()-oe.timerStart}ms.${ve}`,fe)}else D.log(`Received response ${q.id} without active response promise.`,fe)}else Wt("receive-response",q)}function Wt(q,oe){if(!D||w===Ut.Off)return;let fe={isLSPMessage:!0,type:q,message:oe,timestamp:Date.now()};D.log(fe)}function Ht(){if(te())throw new js(fc.Closed,"Connection is closed.");if(de())throw new js(fc.Disposed,"Connection is disposed.")}function ht(){if(Z())throw new js(fc.AlreadyListening,"Connection is already listening")}function nr(){if(!Z())throw new Error("Call listen() first.")}function Bt(q){return q===void 0?null:q}function Mr(q){if(q!==null)return q}function jr(q){return q!=null&&!Array.isArray(q)&&typeof q=="object"}function lt(q,oe){switch(q){case Ge.ParameterStructures.auto:return jr(oe)?Mr(oe):[Bt(oe)];case Ge.ParameterStructures.byName:if(!jr(oe))throw new Error("Received parameters by name but param is not an object literal.");return Mr(oe);case Ge.ParameterStructures.byPosition:return[Bt(oe)];default:throw new Error(`Unknown parameter structure ${q.toString()}`)}}function Wr(q,oe){let fe,ve=q.numberOfParams;switch(ve){case 0:fe=void 0;break;case 1:fe=lt(q.parameterStructures,oe[0]);break;default:fe=[];for(let Qe=0;Qe<oe.length&&Qe<ve;Qe++)fe.push(Bt(oe[Qe]));if(oe.length<ve)for(let Qe=oe.length;Qe<ve;Qe++)fe.push(null);break}return fe}let Zt={sendNotification:(q,...oe)=>{Ht();let fe,ve;if(pr.string(q)){fe=q;let tt=oe[0],ot=0,Ye=Ge.ParameterStructures.auto;Ge.ParameterStructures.is(tt)&&(ot=1,Ye=tt);let qe=oe.length,Re=qe-ot;switch(Re){case 0:ve=void 0;break;case 1:ve=lt(Ye,oe[ot]);break;default:if(Ye===Ge.ParameterStructures.byName)throw new Error(`Received ${Re} parameters for 'by Name' notification parameter structure.`);ve=oe.slice(ot,qe).map(Ue=>Bt(Ue));break}}else{let tt=oe;fe=q.method,ve=Wr(q,tt)}let Qe={jsonrpc:c,method:fe,params:ve};return et(Qe),e.write(Qe).catch(tt=>{throw i.error("Sending notification failed."),tt})},onNotification:(q,oe)=>{Ht();let fe;return pr.func(q)?p=q:oe&&(pr.string(q)?(fe=q,d.set(q,{type:void 0,handler:oe})):(fe=q.method,d.set(q.method,{type:q,handler:oe}))),{dispose:()=>{fe!==void 0?d.delete(fe):p=void 0}}},onProgress:(q,oe,fe)=>{if(f.has(oe))throw new Error(`Progress handler for token ${oe} already registered`);return f.set(oe,fe),{dispose:()=>{f.delete(oe)}}},sendProgress:(q,oe,fe)=>Zt.sendNotification(dc.type,{token:oe,value:fe}),onUnhandledProgress:ne.event,sendRequest:(q,...oe)=>{Ht(),nr();let fe,ve,Qe;if(pr.string(q)){fe=q;let qe=oe[0],Re=oe[oe.length-1],Ue=0,me=Ge.ParameterStructures.auto;Ge.ParameterStructures.is(qe)&&(Ue=1,me=qe);let Ft=oe.length;hm.CancellationToken.is(Re)&&(Ft=Ft-1,Qe=Re);let zt=Ft-Ue;switch(zt){case 0:ve=void 0;break;case 1:ve=lt(me,oe[Ue]);break;default:if(me===Ge.ParameterStructures.byName)throw new Error(`Received ${zt} parameters for 'by Name' request parameter structure.`);ve=oe.slice(Ue,Ft).map(je=>Bt(je));break}}else{let qe=oe;fe=q.method,ve=Wr(q,qe);let Re=q.numberOfParams;Qe=hm.CancellationToken.is(qe[Re])?qe[Re]:void 0}let tt=o++,ot;Qe&&(ot=Qe.onCancellationRequested(()=>{let qe=H.sender.sendCancellation(Zt,tt);return qe===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${tt}`),Promise.resolve()):qe.catch(()=>{i.log(`Sending cancellation messages for id ${tt} failed`)})}));let Ye={jsonrpc:c,id:tt,method:fe,params:ve};return Fe(Ye),typeof H.sender.enableCancellation=="function"&&H.sender.enableCancellation(Ye),new Promise(async(qe,Re)=>{let Ue=zt=>{qe(zt),H.sender.cleanup(tt),ot?.dispose()},me=zt=>{Re(zt),H.sender.cleanup(tt),ot?.dispose()},Ft={method:fe,timerStart:Date.now(),resolve:Ue,reject:me};try{await e.write(Ye),y.set(tt,Ft)}catch(zt){throw i.error("Sending request failed."),Ft.reject(new Ge.ResponseError(Ge.ErrorCodes.MessageWriteError,zt.message?zt.message:"Unknown reason")),zt}})},onRequest:(q,oe)=>{Ht();let fe=null;return ym.is(q)?(fe=void 0,u=q):pr.string(q)?(fe=null,oe!==void 0&&(fe=q,l.set(q,{handler:oe,type:void 0}))):oe!==void 0&&(fe=q.method,l.set(q.method,{type:q,handler:oe})),{dispose:()=>{fe!==null&&(fe!==void 0?l.delete(fe):u=void 0)}}},hasPendingResponse:()=>y.size>0,trace:async(q,oe,fe)=>{let ve=!1,Qe=Mn.Text;fe!==void 0&&(pr.boolean(fe)?ve=fe:(ve=fe.sendNotification||!1,Qe=fe.traceFormat||Mn.Text)),w=q,C=Qe,w===Ut.Off?D=void 0:D=oe,ve&&!te()&&!de()&&await Zt.sendNotification(bm.type,{value:Ut.toString(q)})},onError:M.event,onClose:F.event,onUnhandledNotification:Q.event,onDispose:X.event,end:()=>{e.end()},dispose:()=>{if(de())return;N=ui.Disposed,X.fire(void 0);let q=new Ge.ResponseError(Ge.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let oe of y.values())oe.reject(q);y=new Map,x=new Map,b=new Set,g=new tw.LinkedMap,pr.func(e.dispose)&&e.dispose(),pr.func(t.dispose)&&t.dispose()},listen:()=>{Ht(),ht(),N=ui.Listening,t.listen(it)},inspect:()=>{(0,ew.default)().console.log("inspect")}};return Zt.onNotification(Xu.type,q=>{if(w===Ut.Off||!D)return;let oe=w===Ut.Verbose||w===Ut.Compact;D.log(q.message,oe?q.verbose:void 0)}),Zt.onNotification(dc.type,q=>{let oe=f.get(q.token);oe?oe(q.value):ne.fire(q)}),Zt}pt.createMessageConnection=gL});var tl=$(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.ProgressType=ce.ProgressToken=ce.createMessageConnection=ce.NullLogger=ce.ConnectionOptions=ce.ConnectionStrategy=ce.AbstractMessageBuffer=ce.WriteableStreamMessageWriter=ce.AbstractMessageWriter=ce.MessageWriter=ce.ReadableStreamMessageReader=ce.AbstractMessageReader=ce.MessageReader=ce.SharedArrayReceiverStrategy=ce.SharedArraySenderStrategy=ce.CancellationToken=ce.CancellationTokenSource=ce.Emitter=ce.Event=ce.Disposable=ce.LRUCache=ce.Touch=ce.LinkedMap=ce.ParameterStructures=ce.NotificationType9=ce.NotificationType8=ce.NotificationType7=ce.NotificationType6=ce.NotificationType5=ce.NotificationType4=ce.NotificationType3=ce.NotificationType2=ce.NotificationType1=ce.NotificationType0=ce.NotificationType=ce.ErrorCodes=ce.ResponseError=ce.RequestType9=ce.RequestType8=ce.RequestType7=ce.RequestType6=ce.RequestType5=ce.RequestType4=ce.RequestType3=ce.RequestType2=ce.RequestType1=ce.RequestType0=ce.RequestType=ce.Message=ce.RAL=void 0;ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=void 0;var er=Gf();Object.defineProperty(ce,"Message",{enumerable:!0,get:function(){return er.Message}});Object.defineProperty(ce,"RequestType",{enumerable:!0,get:function(){return er.RequestType}});Object.defineProperty(ce,"RequestType0",{enumerable:!0,get:function(){return er.RequestType0}});Object.defineProperty(ce,"RequestType1",{enumerable:!0,get:function(){return er.RequestType1}});Object.defineProperty(ce,"RequestType2",{enumerable:!0,get:function(){return er.RequestType2}});Object.defineProperty(ce,"RequestType3",{enumerable:!0,get:function(){return er.RequestType3}});Object.defineProperty(ce,"RequestType4",{enumerable:!0,get:function(){return er.RequestType4}});Object.defineProperty(ce,"RequestType5",{enumerable:!0,get:function(){return er.RequestType5}});Object.defineProperty(ce,"RequestType6",{enumerable:!0,get:function(){return er.RequestType6}});Object.defineProperty(ce,"RequestType7",{enumerable:!0,get:function(){return er.RequestType7}});Object.defineProperty(ce,"RequestType8",{enumerable:!0,get:function(){return er.RequestType8}});Object.defineProperty(ce,"RequestType9",{enumerable:!0,get:function(){return er.RequestType9}});Object.defineProperty(ce,"ResponseError",{enumerable:!0,get:function(){return er.ResponseError}});Object.defineProperty(ce,"ErrorCodes",{enumerable:!0,get:function(){return er.ErrorCodes}});Object.defineProperty(ce,"NotificationType",{enumerable:!0,get:function(){return er.NotificationType}});Object.defineProperty(ce,"NotificationType0",{enumerable:!0,get:function(){return er.NotificationType0}});Object.defineProperty(ce,"NotificationType1",{enumerable:!0,get:function(){return er.NotificationType1}});Object.defineProperty(ce,"NotificationType2",{enumerable:!0,get:function(){return er.NotificationType2}});Object.defineProperty(ce,"NotificationType3",{enumerable:!0,get:function(){return er.NotificationType3}});Object.defineProperty(ce,"NotificationType4",{enumerable:!0,get:function(){return er.NotificationType4}});Object.defineProperty(ce,"NotificationType5",{enumerable:!0,get:function(){return er.NotificationType5}});Object.defineProperty(ce,"NotificationType6",{enumerable:!0,get:function(){return er.NotificationType6}});Object.defineProperty(ce,"NotificationType7",{enumerable:!0,get:function(){return er.NotificationType7}});Object.defineProperty(ce,"NotificationType8",{enumerable:!0,get:function(){return er.NotificationType8}});Object.defineProperty(ce,"NotificationType9",{enumerable:!0,get:function(){return er.NotificationType9}});Object.defineProperty(ce,"ParameterStructures",{enumerable:!0,get:function(){return er.ParameterStructures}});var wm=Xf();Object.defineProperty(ce,"LinkedMap",{enumerable:!0,get:function(){return wm.LinkedMap}});Object.defineProperty(ce,"LRUCache",{enumerable:!0,get:function(){return wm.LRUCache}});Object.defineProperty(ce,"Touch",{enumerable:!0,get:function(){return wm.Touch}});var vL=Bx();Object.defineProperty(ce,"Disposable",{enumerable:!0,get:function(){return vL.Disposable}});var ow=Ns();Object.defineProperty(ce,"Event",{enumerable:!0,get:function(){return ow.Event}});Object.defineProperty(ce,"Emitter",{enumerable:!0,get:function(){return ow.Emitter}});var sw=zu();Object.defineProperty(ce,"CancellationTokenSource",{enumerable:!0,get:function(){return sw.CancellationTokenSource}});Object.defineProperty(ce,"CancellationToken",{enumerable:!0,get:function(){return sw.CancellationToken}});var aw=Vx();Object.defineProperty(ce,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return aw.SharedArraySenderStrategy}});Object.defineProperty(ce,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return aw.SharedArrayReceiverStrategy}});var Cm=Gx();Object.defineProperty(ce,"MessageReader",{enumerable:!0,get:function(){return Cm.MessageReader}});Object.defineProperty(ce,"AbstractMessageReader",{enumerable:!0,get:function(){return Cm.AbstractMessageReader}});Object.defineProperty(ce,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Cm.ReadableStreamMessageReader}});var Em=Zx();Object.defineProperty(ce,"MessageWriter",{enumerable:!0,get:function(){return Em.MessageWriter}});Object.defineProperty(ce,"AbstractMessageWriter",{enumerable:!0,get:function(){return Em.AbstractMessageWriter}});Object.defineProperty(ce,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Em.WriteableStreamMessageWriter}});var yL=Jx();Object.defineProperty(ce,"AbstractMessageBuffer",{enumerable:!0,get:function(){return yL.AbstractMessageBuffer}});var Kr=iw();Object.defineProperty(ce,"ConnectionStrategy",{enumerable:!0,get:function(){return Kr.ConnectionStrategy}});Object.defineProperty(ce,"ConnectionOptions",{enumerable:!0,get:function(){return Kr.ConnectionOptions}});Object.defineProperty(ce,"NullLogger",{enumerable:!0,get:function(){return Kr.NullLogger}});Object.defineProperty(ce,"createMessageConnection",{enumerable:!0,get:function(){return Kr.createMessageConnection}});Object.defineProperty(ce,"ProgressToken",{enumerable:!0,get:function(){return Kr.ProgressToken}});Object.defineProperty(ce,"ProgressType",{enumerable:!0,get:function(){return Kr.ProgressType}});Object.defineProperty(ce,"Trace",{enumerable:!0,get:function(){return Kr.Trace}});Object.defineProperty(ce,"TraceValues",{enumerable:!0,get:function(){return Kr.TraceValues}});Object.defineProperty(ce,"TraceFormat",{enumerable:!0,get:function(){return Kr.TraceFormat}});Object.defineProperty(ce,"SetTraceNotification",{enumerable:!0,get:function(){return Kr.SetTraceNotification}});Object.defineProperty(ce,"LogTraceNotification",{enumerable:!0,get:function(){return Kr.LogTraceNotification}});Object.defineProperty(ce,"ConnectionErrors",{enumerable:!0,get:function(){return Kr.ConnectionErrors}});Object.defineProperty(ce,"ConnectionError",{enumerable:!0,get:function(){return Kr.ConnectionError}});Object.defineProperty(ce,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Kr.CancellationReceiverStrategy}});Object.defineProperty(ce,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Kr.CancellationSenderStrategy}});Object.defineProperty(ce,"CancellationStrategy",{enumerable:!0,get:function(){return Kr.CancellationStrategy}});Object.defineProperty(ce,"MessageStrategy",{enumerable:!0,get:function(){return Kr.MessageStrategy}});var bL=no();ce.RAL=bL.default});var lw=$(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});var cw=require("util"),Mi=tl(),rl=class t extends Mi.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new cw.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};rl.emptyBuffer=Buffer.allocUnsafe(0);var Sm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Mi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Mi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Mi.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Mi.Disposable.create(()=>this.stream.off("data",e))}},Tm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Mi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Mi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Mi.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,r,o):this.stream.write(e,o)})}end(){this.stream.end()}},uw=Object.freeze({messageBuffer:Object.freeze({create:t=>new rl(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new cw.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new Sm(t),asWritableStream:t=>new Tm(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:()=>clearImmediate(r)}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:()=>clearInterval(n)}}})});function Rm(){return uw}(function(t){function e(){Mi.RAL.install(uw)}t.install=e})(Rm||(Rm={}));Pm.default=Rm});var Fo=$(Tt=>{"use strict";var _L=Tt&&Tt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xL=Tt&&Tt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_L(e,t,r)};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.createMessageConnection=Tt.createServerSocketTransport=Tt.createClientSocketTransport=Tt.createServerPipeTransport=Tt.createClientPipeTransport=Tt.generateRandomPipeName=Tt.StreamMessageWriter=Tt.StreamMessageReader=Tt.SocketMessageWriter=Tt.SocketMessageReader=Tt.PortMessageWriter=Tt.PortMessageReader=Tt.IPCMessageWriter=Tt.IPCMessageReader=void 0;var Fs=lw();Fs.default.install();var pw=require("path"),wL=require("os"),CL=require("crypto"),ol=require("net"),qn=tl();xL(tl(),Tt);var Dm=class extends qn.AbstractMessageReader{constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),qn.Disposable.create(()=>this.process.off("message",e))}};Tt.IPCMessageReader=Dm;var Im=class extends qn.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Tt.IPCMessageWriter=Im;var Om=class extends qn.AbstractMessageReader{constructor(e){super(),this.onData=new qn.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};Tt.PortMessageReader=Om;var Am=class extends qn.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Tt.PortMessageWriter=Am;var Lo=class extends qn.ReadableStreamMessageReader{constructor(e,r="utf-8"){super((0,Fs.default)().stream.asReadableStream(e),r)}};Tt.SocketMessageReader=Lo;var jo=class extends qn.WriteableStreamMessageWriter{constructor(e,r){super((0,Fs.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Tt.SocketMessageWriter=jo;var nl=class extends qn.ReadableStreamMessageReader{constructor(e,r){super((0,Fs.default)().stream.asReadableStream(e),r)}};Tt.StreamMessageReader=nl;var il=class extends qn.WriteableStreamMessageWriter{constructor(e,r){super((0,Fs.default)().stream.asWritableStream(e),r)}};Tt.StreamMessageWriter=il;var dw=process.env.XDG_RUNTIME_DIR,EL=new Map([["linux",107],["darwin",103]]);function SL(){let t=(0,CL.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;dw?e=pw.join(dw,`vscode-ipc-${t}.sock`):e=pw.join(wL.tmpdir(),`vscode-${t}.sock`);let r=EL.get(process.platform);return r!==void 0&&e.length>r&&(0,Fs.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}Tt.generateRandomPipeName=SL;function TL(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,ol.createServer)(a=>{s.close(),r([new Lo(a,e),new jo(a,e)])});s.on("error",o),s.listen(t,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Tt.createClientPipeTransport=TL;function RL(t,e="utf-8"){let r=(0,ol.createConnection)(t);return[new Lo(r,e),new jo(r,e)]}Tt.createServerPipeTransport=RL;function PL(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,ol.createServer)(a=>{s.close(),r([new Lo(a,e),new jo(a,e)])});s.on("error",o),s.listen(t,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}Tt.createClientSocketTransport=PL;function DL(t,e="utf-8"){let r=(0,ol.createConnection)(t,"127.0.0.1");return[new Lo(r,e),new jo(r,e)]}Tt.createServerSocketTransport=DL;function IL(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function OL(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function AL(t,e,r,n){r||(r=qn.NullLogger);let i=IL(t)?new nl(t):t,o=OL(e)?new il(e):e;return qn.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,qn.createMessageConnection)(i,o,r,n)}Tt.createMessageConnection=AL});var km=$((H4,fw)=>{"use strict";fw.exports=Fo()});var al=$((mw,sl)=>{(function(t){if(typeof sl=="object"&&typeof sl.exports=="object"){var e=t(require,mw);e!==void 0&&(sl.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(S){function L(j){return typeof j=="string"}S.is=L})(r||(e.DocumentUri=r={}));var n;(function(S){function L(j){return typeof j=="string"}S.is=L})(n||(e.URI=n={}));var i;(function(S){S.MIN_VALUE=-2147483648,S.MAX_VALUE=2147483647;function L(j){return typeof j=="number"&&S.MIN_VALUE<=j&&j<=S.MAX_VALUE}S.is=L})(i||(e.integer=i={}));var o;(function(S){S.MIN_VALUE=0,S.MAX_VALUE=2147483647;function L(j){return typeof j=="number"&&S.MIN_VALUE<=j&&j<=S.MAX_VALUE}S.is=L})(o||(e.uinteger=o={}));var s;(function(S){function L(I,E){return I===Number.MAX_VALUE&&(I=o.MAX_VALUE),E===Number.MAX_VALUE&&(E=o.MAX_VALUE),{line:I,character:E}}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&W.uinteger(E.line)&&W.uinteger(E.character)}S.is=j})(s||(e.Position=s={}));var a;(function(S){function L(I,E,Y,se){if(W.uinteger(I)&&W.uinteger(E)&&W.uinteger(Y)&&W.uinteger(se))return{start:s.create(I,E),end:s.create(Y,se)};if(s.is(I)&&s.is(E))return{start:I,end:E};throw new Error("Range#create called with invalid arguments[".concat(I,", ").concat(E,", ").concat(Y,", ").concat(se,"]"))}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&s.is(E.start)&&s.is(E.end)}S.is=j})(a||(e.Range=a={}));var c;(function(S){function L(I,E){return{uri:I,range:E}}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&a.is(E.range)&&(W.string(E.uri)||W.undefined(E.uri))}S.is=j})(c||(e.Location=c={}));var u;(function(S){function L(I,E,Y,se){return{targetUri:I,targetRange:E,targetSelectionRange:Y,originSelectionRange:se}}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&a.is(E.targetRange)&&W.string(E.targetUri)&&a.is(E.targetSelectionRange)&&(a.is(E.originSelectionRange)||W.undefined(E.originSelectionRange))}S.is=j})(u||(e.LocationLink=u={}));var l;(function(S){function L(I,E,Y,se){return{red:I,green:E,blue:Y,alpha:se}}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&W.numberRange(E.red,0,1)&&W.numberRange(E.green,0,1)&&W.numberRange(E.blue,0,1)&&W.numberRange(E.alpha,0,1)}S.is=j})(l||(e.Color=l={}));var p;(function(S){function L(I,E){return{range:I,color:E}}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&a.is(E.range)&&l.is(E.color)}S.is=j})(p||(e.ColorInformation=p={}));var d;(function(S){function L(I,E,Y){return{label:I,textEdit:E,additionalTextEdits:Y}}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&W.string(E.label)&&(W.undefined(E.textEdit)||D.is(E))&&(W.undefined(E.additionalTextEdits)||W.typedArray(E.additionalTextEdits,D.is))}S.is=j})(d||(e.ColorPresentation=d={}));var f;(function(S){S.Comment="comment",S.Imports="imports",S.Region="region"})(f||(e.FoldingRangeKind=f={}));var m;(function(S){function L(I,E,Y,se,ze,Nt){var xt={startLine:I,endLine:E};return W.defined(Y)&&(xt.startCharacter=Y),W.defined(se)&&(xt.endCharacter=se),W.defined(ze)&&(xt.kind=ze),W.defined(Nt)&&(xt.collapsedText=Nt),xt}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&W.uinteger(E.startLine)&&W.uinteger(E.startLine)&&(W.undefined(E.startCharacter)||W.uinteger(E.startCharacter))&&(W.undefined(E.endCharacter)||W.uinteger(E.endCharacter))&&(W.undefined(E.kind)||W.string(E.kind))}S.is=j})(m||(e.FoldingRange=m={}));var g;(function(S){function L(I,E){return{location:I,message:E}}S.create=L;function j(I){var E=I;return W.defined(E)&&c.is(E.location)&&W.string(E.message)}S.is=j})(g||(e.DiagnosticRelatedInformation=g={}));var y;(function(S){S.Error=1,S.Warning=2,S.Information=3,S.Hint=4})(y||(e.DiagnosticSeverity=y={}));var b;(function(S){S.Unnecessary=1,S.Deprecated=2})(b||(e.DiagnosticTag=b={}));var x;(function(S){function L(j){var I=j;return W.objectLiteral(I)&&W.string(I.href)}S.is=L})(x||(e.CodeDescription=x={}));var w;(function(S){function L(I,E,Y,se,ze,Nt){var xt={range:I,message:E};return W.defined(Y)&&(xt.severity=Y),W.defined(se)&&(xt.code=se),W.defined(ze)&&(xt.source=ze),W.defined(Nt)&&(xt.relatedInformation=Nt),xt}S.create=L;function j(I){var E,Y=I;return W.defined(Y)&&a.is(Y.range)&&W.string(Y.message)&&(W.number(Y.severity)||W.undefined(Y.severity))&&(W.integer(Y.code)||W.string(Y.code)||W.undefined(Y.code))&&(W.undefined(Y.codeDescription)||W.string((E=Y.codeDescription)===null||E===void 0?void 0:E.href))&&(W.string(Y.source)||W.undefined(Y.source))&&(W.undefined(Y.relatedInformation)||W.typedArray(Y.relatedInformation,g.is))}S.is=j})(w||(e.Diagnostic=w={}));var C;(function(S){function L(I,E){for(var Y=[],se=2;se<arguments.length;se++)Y[se-2]=arguments[se];var ze={title:I,command:E};return W.defined(Y)&&Y.length>0&&(ze.arguments=Y),ze}S.create=L;function j(I){var E=I;return W.defined(E)&&W.string(E.title)&&W.string(E.command)}S.is=j})(C||(e.Command=C={}));var D;(function(S){function L(Y,se){return{range:Y,newText:se}}S.replace=L;function j(Y,se){return{range:{start:Y,end:Y},newText:se}}S.insert=j;function I(Y){return{range:Y,newText:""}}S.del=I;function E(Y){var se=Y;return W.objectLiteral(se)&&W.string(se.newText)&&a.is(se.range)}S.is=E})(D||(e.TextEdit=D={}));var N;(function(S){function L(I,E,Y){var se={label:I};return E!==void 0&&(se.needsConfirmation=E),Y!==void 0&&(se.description=Y),se}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&W.string(E.label)&&(W.boolean(E.needsConfirmation)||E.needsConfirmation===void 0)&&(W.string(E.description)||E.description===void 0)}S.is=j})(N||(e.ChangeAnnotation=N={}));var M;(function(S){function L(j){var I=j;return W.string(I)}S.is=L})(M||(e.ChangeAnnotationIdentifier=M={}));var F;(function(S){function L(Y,se,ze){return{range:Y,newText:se,annotationId:ze}}S.replace=L;function j(Y,se,ze){return{range:{start:Y,end:Y},newText:se,annotationId:ze}}S.insert=j;function I(Y,se){return{range:Y,newText:"",annotationId:se}}S.del=I;function E(Y){var se=Y;return D.is(se)&&(N.is(se.annotationId)||M.is(se.annotationId))}S.is=E})(F||(e.AnnotatedTextEdit=F={}));var Q;(function(S){function L(I,E){return{textDocument:I,edits:E}}S.create=L;function j(I){var E=I;return W.defined(E)&&te.is(E.textDocument)&&Array.isArray(E.edits)}S.is=j})(Q||(e.TextDocumentEdit=Q={}));var ne;(function(S){function L(I,E,Y){var se={kind:"create",uri:I};return E!==void 0&&(E.overwrite!==void 0||E.ignoreIfExists!==void 0)&&(se.options=E),Y!==void 0&&(se.annotationId=Y),se}S.create=L;function j(I){var E=I;return E&&E.kind==="create"&&W.string(E.uri)&&(E.options===void 0||(E.options.overwrite===void 0||W.boolean(E.options.overwrite))&&(E.options.ignoreIfExists===void 0||W.boolean(E.options.ignoreIfExists)))&&(E.annotationId===void 0||M.is(E.annotationId))}S.is=j})(ne||(e.CreateFile=ne={}));var X;(function(S){function L(I,E,Y,se){var ze={kind:"rename",oldUri:I,newUri:E};return Y!==void 0&&(Y.overwrite!==void 0||Y.ignoreIfExists!==void 0)&&(ze.options=Y),se!==void 0&&(ze.annotationId=se),ze}S.create=L;function j(I){var E=I;return E&&E.kind==="rename"&&W.string(E.oldUri)&&W.string(E.newUri)&&(E.options===void 0||(E.options.overwrite===void 0||W.boolean(E.options.overwrite))&&(E.options.ignoreIfExists===void 0||W.boolean(E.options.ignoreIfExists)))&&(E.annotationId===void 0||M.is(E.annotationId))}S.is=j})(X||(e.RenameFile=X={}));var H;(function(S){function L(I,E,Y){var se={kind:"delete",uri:I};return E!==void 0&&(E.recursive!==void 0||E.ignoreIfNotExists!==void 0)&&(se.options=E),Y!==void 0&&(se.annotationId=Y),se}S.create=L;function j(I){var E=I;return E&&E.kind==="delete"&&W.string(E.uri)&&(E.options===void 0||(E.options.recursive===void 0||W.boolean(E.options.recursive))&&(E.options.ignoreIfNotExists===void 0||W.boolean(E.options.ignoreIfNotExists)))&&(E.annotationId===void 0||M.is(E.annotationId))}S.is=j})(H||(e.DeleteFile=H={}));var ae;(function(S){function L(j){var I=j;return I&&(I.changes!==void 0||I.documentChanges!==void 0)&&(I.documentChanges===void 0||I.documentChanges.every(function(E){return W.string(E.kind)?ne.is(E)||X.is(E)||H.is(E):Q.is(E)}))}S.is=L})(ae||(e.WorkspaceEdit=ae={}));var ee=function(){function S(L,j){this.edits=L,this.changeAnnotations=j}return S.prototype.insert=function(L,j,I){var E,Y;if(I===void 0?E=D.insert(L,j):M.is(I)?(Y=I,E=F.insert(L,j,I)):(this.assertChangeAnnotations(this.changeAnnotations),Y=this.changeAnnotations.manage(I),E=F.insert(L,j,Y)),this.edits.push(E),Y!==void 0)return Y},S.prototype.replace=function(L,j,I){var E,Y;if(I===void 0?E=D.replace(L,j):M.is(I)?(Y=I,E=F.replace(L,j,I)):(this.assertChangeAnnotations(this.changeAnnotations),Y=this.changeAnnotations.manage(I),E=F.replace(L,j,Y)),this.edits.push(E),Y!==void 0)return Y},S.prototype.delete=function(L,j){var I,E;if(j===void 0?I=D.del(L):M.is(j)?(E=j,I=F.del(L,j)):(this.assertChangeAnnotations(this.changeAnnotations),E=this.changeAnnotations.manage(j),I=F.del(L,E)),this.edits.push(I),E!==void 0)return E},S.prototype.add=function(L){this.edits.push(L)},S.prototype.all=function(){return this.edits},S.prototype.clear=function(){this.edits.splice(0,this.edits.length)},S.prototype.assertChangeAnnotations=function(L){if(L===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},S}(),xe=function(){function S(L){this._annotations=L===void 0?Object.create(null):L,this._counter=0,this._size=0}return S.prototype.all=function(){return this._annotations},Object.defineProperty(S.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),S.prototype.manage=function(L,j){var I;if(M.is(L)?I=L:(I=this.nextId(),j=L),this._annotations[I]!==void 0)throw new Error("Id ".concat(I," is already in use."));if(j===void 0)throw new Error("No annotation provided for id ".concat(I));return this._annotations[I]=j,this._size++,I},S.prototype.nextId=function(){return this._counter++,this._counter.toString()},S}(),pe=function(){function S(L){var j=this;this._textEditChanges=Object.create(null),L!==void 0?(this._workspaceEdit=L,L.documentChanges?(this._changeAnnotations=new xe(L.changeAnnotations),L.changeAnnotations=this._changeAnnotations.all(),L.documentChanges.forEach(function(I){if(Q.is(I)){var E=new ee(I.edits,j._changeAnnotations);j._textEditChanges[I.textDocument.uri]=E}})):L.changes&&Object.keys(L.changes).forEach(function(I){var E=new ee(L.changes[I]);j._textEditChanges[I]=E})):this._workspaceEdit={}}return Object.defineProperty(S.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),S.prototype.getTextEditChange=function(L){if(te.is(L)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var j={uri:L.uri,version:L.version},I=this._textEditChanges[j.uri];if(!I){var E=[],Y={textDocument:j,edits:E};this._workspaceEdit.documentChanges.push(Y),I=new ee(E,this._changeAnnotations),this._textEditChanges[j.uri]=I}return I}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var I=this._textEditChanges[L];if(!I){var E=[];this._workspaceEdit.changes[L]=E,I=new ee(E),this._textEditChanges[L]=I}return I}},S.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new xe,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},S.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},S.prototype.createFile=function(L,j,I){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var E;N.is(j)||M.is(j)?E=j:I=j;var Y,se;if(E===void 0?Y=ne.create(L,I):(se=M.is(E)?E:this._changeAnnotations.manage(E),Y=ne.create(L,I,se)),this._workspaceEdit.documentChanges.push(Y),se!==void 0)return se},S.prototype.renameFile=function(L,j,I,E){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;N.is(I)||M.is(I)?Y=I:E=I;var se,ze;if(Y===void 0?se=X.create(L,j,E):(ze=M.is(Y)?Y:this._changeAnnotations.manage(Y),se=X.create(L,j,E,ze)),this._workspaceEdit.documentChanges.push(se),ze!==void 0)return ze},S.prototype.deleteFile=function(L,j,I){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var E;N.is(j)||M.is(j)?E=j:I=j;var Y,se;if(E===void 0?Y=H.create(L,I):(se=M.is(E)?E:this._changeAnnotations.manage(E),Y=H.create(L,I,se)),this._workspaceEdit.documentChanges.push(Y),se!==void 0)return se},S}();e.WorkspaceChange=pe;var z;(function(S){function L(I){return{uri:I}}S.create=L;function j(I){var E=I;return W.defined(E)&&W.string(E.uri)}S.is=j})(z||(e.TextDocumentIdentifier=z={}));var Z;(function(S){function L(I,E){return{uri:I,version:E}}S.create=L;function j(I){var E=I;return W.defined(E)&&W.string(E.uri)&&W.integer(E.version)}S.is=j})(Z||(e.VersionedTextDocumentIdentifier=Z={}));var te;(function(S){function L(I,E){return{uri:I,version:E}}S.create=L;function j(I){var E=I;return W.defined(E)&&W.string(E.uri)&&(E.version===null||W.integer(E.version))}S.is=j})(te||(e.OptionalVersionedTextDocumentIdentifier=te={}));var de;(function(S){function L(I,E,Y,se){return{uri:I,languageId:E,version:Y,text:se}}S.create=L;function j(I){var E=I;return W.defined(E)&&W.string(E.uri)&&W.string(E.languageId)&&W.integer(E.version)&&W.string(E.text)}S.is=j})(de||(e.TextDocumentItem=de={}));var he;(function(S){S.PlainText="plaintext",S.Markdown="markdown";function L(j){var I=j;return I===S.PlainText||I===S.Markdown}S.is=L})(he||(e.MarkupKind=he={}));var Pe;(function(S){function L(j){var I=j;return W.objectLiteral(j)&&he.is(I.kind)&&W.string(I.value)}S.is=L})(Pe||(e.MarkupContent=Pe={}));var Te;(function(S){S.Text=1,S.Method=2,S.Function=3,S.Constructor=4,S.Field=5,S.Variable=6,S.Class=7,S.Interface=8,S.Module=9,S.Property=10,S.Unit=11,S.Value=12,S.Enum=13,S.Keyword=14,S.Snippet=15,S.Color=16,S.File=17,S.Reference=18,S.Folder=19,S.EnumMember=20,S.Constant=21,S.Struct=22,S.Event=23,S.Operator=24,S.TypeParameter=25})(Te||(e.CompletionItemKind=Te={}));var Be;(function(S){S.PlainText=1,S.Snippet=2})(Be||(e.InsertTextFormat=Be={}));var We;(function(S){S.Deprecated=1})(We||(e.CompletionItemTag=We={}));var mt;(function(S){function L(I,E,Y){return{newText:I,insert:E,replace:Y}}S.create=L;function j(I){var E=I;return E&&W.string(E.newText)&&a.is(E.insert)&&a.is(E.replace)}S.is=j})(mt||(e.InsertReplaceEdit=mt={}));var it;(function(S){S.asIs=1,S.adjustIndentation=2})(it||(e.InsertTextMode=it={}));var ke;(function(S){function L(j){var I=j;return I&&(W.string(I.detail)||I.detail===void 0)&&(W.string(I.description)||I.description===void 0)}S.is=L})(ke||(e.CompletionItemLabelDetails=ke={}));var It;(function(S){function L(j){return{label:j}}S.create=L})(It||(e.CompletionItem=It={}));var jt;(function(S){function L(j,I){return{items:j||[],isIncomplete:!!I}}S.create=L})(jt||(e.CompletionList=jt={}));var Me;(function(S){function L(I){return I.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}S.fromPlainText=L;function j(I){var E=I;return W.string(E)||W.objectLiteral(E)&&W.string(E.language)&&W.string(E.value)}S.is=j})(Me||(e.MarkedString=Me={}));var we;(function(S){function L(j){var I=j;return!!I&&W.objectLiteral(I)&&(Pe.is(I.contents)||Me.is(I.contents)||W.typedArray(I.contents,Me.is))&&(j.range===void 0||a.is(j.range))}S.is=L})(we||(e.Hover=we={}));var Fe;(function(S){function L(j,I){return I?{label:j,documentation:I}:{label:j}}S.create=L})(Fe||(e.ParameterInformation=Fe={}));var et;(function(S){function L(j,I){for(var E=[],Y=2;Y<arguments.length;Y++)E[Y-2]=arguments[Y];var se={label:j};return W.defined(I)&&(se.documentation=I),W.defined(E)?se.parameters=E:se.parameters=[],se}S.create=L})(et||(e.SignatureInformation=et={}));var Ir;(function(S){S.Text=1,S.Read=2,S.Write=3})(Ir||(e.DocumentHighlightKind=Ir={}));var Jr;(function(S){function L(j,I){var E={range:j};return W.number(I)&&(E.kind=I),E}S.create=L})(Jr||(e.DocumentHighlight=Jr={}));var ue;(function(S){S.File=1,S.Module=2,S.Namespace=3,S.Package=4,S.Class=5,S.Method=6,S.Property=7,S.Field=8,S.Constructor=9,S.Enum=10,S.Interface=11,S.Function=12,S.Variable=13,S.Constant=14,S.String=15,S.Number=16,S.Boolean=17,S.Array=18,S.Object=19,S.Key=20,S.Null=21,S.EnumMember=22,S.Struct=23,S.Event=24,S.Operator=25,S.TypeParameter=26})(ue||(e.SymbolKind=ue={}));var Lr;(function(S){S.Deprecated=1})(Lr||(e.SymbolTag=Lr={}));var Wt;(function(S){function L(j,I,E,Y,se){var ze={name:j,kind:I,location:{uri:Y,range:E}};return se&&(ze.containerName=se),ze}S.create=L})(Wt||(e.SymbolInformation=Wt={}));var Ht;(function(S){function L(j,I,E,Y){return Y!==void 0?{name:j,kind:I,location:{uri:E,range:Y}}:{name:j,kind:I,location:{uri:E}}}S.create=L})(Ht||(e.WorkspaceSymbol=Ht={}));var ht;(function(S){function L(I,E,Y,se,ze,Nt){var xt={name:I,detail:E,kind:Y,range:se,selectionRange:ze};return Nt!==void 0&&(xt.children=Nt),xt}S.create=L;function j(I){var E=I;return E&&W.string(E.name)&&W.number(E.kind)&&a.is(E.range)&&a.is(E.selectionRange)&&(E.detail===void 0||W.string(E.detail))&&(E.deprecated===void 0||W.boolean(E.deprecated))&&(E.children===void 0||Array.isArray(E.children))&&(E.tags===void 0||Array.isArray(E.tags))}S.is=j})(ht||(e.DocumentSymbol=ht={}));var nr;(function(S){S.Empty="",S.QuickFix="quickfix",S.Refactor="refactor",S.RefactorExtract="refactor.extract",S.RefactorInline="refactor.inline",S.RefactorRewrite="refactor.rewrite",S.Source="source",S.SourceOrganizeImports="source.organizeImports",S.SourceFixAll="source.fixAll"})(nr||(e.CodeActionKind=nr={}));var Bt;(function(S){S.Invoked=1,S.Automatic=2})(Bt||(e.CodeActionTriggerKind=Bt={}));var Mr;(function(S){function L(I,E,Y){var se={diagnostics:I};return E!=null&&(se.only=E),Y!=null&&(se.triggerKind=Y),se}S.create=L;function j(I){var E=I;return W.defined(E)&&W.typedArray(E.diagnostics,w.is)&&(E.only===void 0||W.typedArray(E.only,W.string))&&(E.triggerKind===void 0||E.triggerKind===Bt.Invoked||E.triggerKind===Bt.Automatic)}S.is=j})(Mr||(e.CodeActionContext=Mr={}));var jr;(function(S){function L(I,E,Y){var se={title:I},ze=!0;return typeof E=="string"?(ze=!1,se.kind=E):C.is(E)?se.command=E:se.edit=E,ze&&Y!==void 0&&(se.kind=Y),se}S.create=L;function j(I){var E=I;return E&&W.string(E.title)&&(E.diagnostics===void 0||W.typedArray(E.diagnostics,w.is))&&(E.kind===void 0||W.string(E.kind))&&(E.edit!==void 0||E.command!==void 0)&&(E.command===void 0||C.is(E.command))&&(E.isPreferred===void 0||W.boolean(E.isPreferred))&&(E.edit===void 0||ae.is(E.edit))}S.is=j})(jr||(e.CodeAction=jr={}));var lt;(function(S){function L(I,E){var Y={range:I};return W.defined(E)&&(Y.data=E),Y}S.create=L;function j(I){var E=I;return W.defined(E)&&a.is(E.range)&&(W.undefined(E.command)||C.is(E.command))}S.is=j})(lt||(e.CodeLens=lt={}));var Wr;(function(S){function L(I,E){return{tabSize:I,insertSpaces:E}}S.create=L;function j(I){var E=I;return W.defined(E)&&W.uinteger(E.tabSize)&&W.boolean(E.insertSpaces)}S.is=j})(Wr||(e.FormattingOptions=Wr={}));var Zt;(function(S){function L(I,E,Y){return{range:I,target:E,data:Y}}S.create=L;function j(I){var E=I;return W.defined(E)&&a.is(E.range)&&(W.undefined(E.target)||W.string(E.target))}S.is=j})(Zt||(e.DocumentLink=Zt={}));var q;(function(S){function L(I,E){return{range:I,parent:E}}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&a.is(E.range)&&(E.parent===void 0||S.is(E.parent))}S.is=j})(q||(e.SelectionRange=q={}));var oe;(function(S){S.namespace="namespace",S.type="type",S.class="class",S.enum="enum",S.interface="interface",S.struct="struct",S.typeParameter="typeParameter",S.parameter="parameter",S.variable="variable",S.property="property",S.enumMember="enumMember",S.event="event",S.function="function",S.method="method",S.macro="macro",S.keyword="keyword",S.modifier="modifier",S.comment="comment",S.string="string",S.number="number",S.regexp="regexp",S.operator="operator",S.decorator="decorator"})(oe||(e.SemanticTokenTypes=oe={}));var fe;(function(S){S.declaration="declaration",S.definition="definition",S.readonly="readonly",S.static="static",S.deprecated="deprecated",S.abstract="abstract",S.async="async",S.modification="modification",S.documentation="documentation",S.defaultLibrary="defaultLibrary"})(fe||(e.SemanticTokenModifiers=fe={}));var ve;(function(S){function L(j){var I=j;return W.objectLiteral(I)&&(I.resultId===void 0||typeof I.resultId=="string")&&Array.isArray(I.data)&&(I.data.length===0||typeof I.data[0]=="number")}S.is=L})(ve||(e.SemanticTokens=ve={}));var Qe;(function(S){function L(I,E){return{range:I,text:E}}S.create=L;function j(I){var E=I;return E!=null&&a.is(E.range)&&W.string(E.text)}S.is=j})(Qe||(e.InlineValueText=Qe={}));var tt;(function(S){function L(I,E,Y){return{range:I,variableName:E,caseSensitiveLookup:Y}}S.create=L;function j(I){var E=I;return E!=null&&a.is(E.range)&&W.boolean(E.caseSensitiveLookup)&&(W.string(E.variableName)||E.variableName===void 0)}S.is=j})(tt||(e.InlineValueVariableLookup=tt={}));var ot;(function(S){function L(I,E){return{range:I,expression:E}}S.create=L;function j(I){var E=I;return E!=null&&a.is(E.range)&&(W.string(E.expression)||E.expression===void 0)}S.is=j})(ot||(e.InlineValueEvaluatableExpression=ot={}));var Ye;(function(S){function L(I,E){return{frameId:I,stoppedLocation:E}}S.create=L;function j(I){var E=I;return W.defined(E)&&a.is(I.stoppedLocation)}S.is=j})(Ye||(e.InlineValueContext=Ye={}));var qe;(function(S){S.Type=1,S.Parameter=2;function L(j){return j===1||j===2}S.is=L})(qe||(e.InlayHintKind=qe={}));var Re;(function(S){function L(I){return{value:I}}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&(E.tooltip===void 0||W.string(E.tooltip)||Pe.is(E.tooltip))&&(E.location===void 0||c.is(E.location))&&(E.command===void 0||C.is(E.command))}S.is=j})(Re||(e.InlayHintLabelPart=Re={}));var Ue;(function(S){function L(I,E,Y){var se={position:I,label:E};return Y!==void 0&&(se.kind=Y),se}S.create=L;function j(I){var E=I;return W.objectLiteral(E)&&s.is(E.position)&&(W.string(E.label)||W.typedArray(E.label,Re.is))&&(E.kind===void 0||qe.is(E.kind))&&E.textEdits===void 0||W.typedArray(E.textEdits,D.is)&&(E.tooltip===void 0||W.string(E.tooltip)||Pe.is(E.tooltip))&&(E.paddingLeft===void 0||W.boolean(E.paddingLeft))&&(E.paddingRight===void 0||W.boolean(E.paddingRight))}S.is=j})(Ue||(e.InlayHint=Ue={}));var me;(function(S){function L(j){return{kind:"snippet",value:j}}S.createSnippet=L})(me||(e.StringValue=me={}));var Ft;(function(S){function L(j,I,E,Y){return{insertText:j,filterText:I,range:E,command:Y}}S.create=L})(Ft||(e.InlineCompletionItem=Ft={}));var zt;(function(S){function L(j){return{items:j}}S.create=L})(zt||(e.InlineCompletionList=zt={}));var je;(function(S){S.Invoked=0,S.Automatic=1})(je||(e.InlineCompletionTriggerKind=je={}));var yr;(function(S){function L(j,I){return{range:j,text:I}}S.create=L})(yr||(e.SelectedCompletionInfo=yr={}));var T;(function(S){function L(j,I){return{triggerKind:j,selectedCompletionInfo:I}}S.create=L})(T||(e.InlineCompletionContext=T={}));var J;(function(S){function L(j){var I=j;return W.objectLiteral(I)&&n.is(I.uri)&&W.string(I.name)}S.is=L})(J||(e.WorkspaceFolder=J={})),e.EOL=[`
`,`\r
`,"\r"];var Ee;(function(S){function L(Y,se,ze,Nt){return new bt(Y,se,ze,Nt)}S.create=L;function j(Y){var se=Y;return!!(W.defined(se)&&W.string(se.uri)&&(W.undefined(se.languageId)||W.string(se.languageId))&&W.uinteger(se.lineCount)&&W.func(se.getText)&&W.func(se.positionAt)&&W.func(se.offsetAt))}S.is=j;function I(Y,se){for(var ze=Y.getText(),Nt=E(se,function(v,h){var _=v.range.start.line-h.range.start.line;return _===0?v.range.start.character-h.range.start.character:_}),xt=ze.length,Kt=Nt.length-1;Kt>=0;Kt--){var Tr=Nt[Kt],ir=Y.offsetAt(Tr.range.start),rt=Y.offsetAt(Tr.range.end);if(rt<=xt)ze=ze.substring(0,ir)+Tr.newText+ze.substring(rt,ze.length);else throw new Error("Overlapping edit");xt=ir}return ze}S.applyEdits=I;function E(Y,se){if(Y.length<=1)return Y;var ze=Y.length/2|0,Nt=Y.slice(0,ze),xt=Y.slice(ze);E(Nt,se),E(xt,se);for(var Kt=0,Tr=0,ir=0;Kt<Nt.length&&Tr<xt.length;){var rt=se(Nt[Kt],xt[Tr]);rt<=0?Y[ir++]=Nt[Kt++]:Y[ir++]=xt[Tr++]}for(;Kt<Nt.length;)Y[ir++]=Nt[Kt++];for(;Tr<xt.length;)Y[ir++]=xt[Tr++];return Y}})(Ee||(e.TextDocument=Ee={}));var bt=function(){function S(L,j,I,E){this._uri=L,this._languageId=j,this._version=I,this._content=E,this._lineOffsets=void 0}return Object.defineProperty(S.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),S.prototype.getText=function(L){if(L){var j=this.offsetAt(L.start),I=this.offsetAt(L.end);return this._content.substring(j,I)}return this._content},S.prototype.update=function(L,j){this._content=L.text,this._version=j,this._lineOffsets=void 0},S.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var L=[],j=this._content,I=!0,E=0;E<j.length;E++){I&&(L.push(E),I=!1);var Y=j.charAt(E);I=Y==="\r"||Y===`
`,Y==="\r"&&E+1<j.length&&j.charAt(E+1)===`
`&&E++}I&&j.length>0&&L.push(j.length),this._lineOffsets=L}return this._lineOffsets},S.prototype.positionAt=function(L){L=Math.max(Math.min(L,this._content.length),0);var j=this.getLineOffsets(),I=0,E=j.length;if(E===0)return s.create(0,L);for(;I<E;){var Y=Math.floor((I+E)/2);j[Y]>L?E=Y:I=Y+1}var se=I-1;return s.create(se,L-j[se])},S.prototype.offsetAt=function(L){var j=this.getLineOffsets();if(L.line>=j.length)return this._content.length;if(L.line<0)return 0;var I=j[L.line],E=L.line+1<j.length?j[L.line+1]:this._content.length;return Math.max(Math.min(I+L.character,E),I)},Object.defineProperty(S.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),S}(),W;(function(S){var L=Object.prototype.toString;function j(rt){return typeof rt<"u"}S.defined=j;function I(rt){return typeof rt>"u"}S.undefined=I;function E(rt){return rt===!0||rt===!1}S.boolean=E;function Y(rt){return L.call(rt)==="[object String]"}S.string=Y;function se(rt){return L.call(rt)==="[object Number]"}S.number=se;function ze(rt,v,h){return L.call(rt)==="[object Number]"&&v<=rt&&rt<=h}S.numberRange=ze;function Nt(rt){return L.call(rt)==="[object Number]"&&-2147483648<=rt&&rt<=2147483647}S.integer=Nt;function xt(rt){return L.call(rt)==="[object Number]"&&0<=rt&&rt<=2147483647}S.uinteger=xt;function Kt(rt){return L.call(rt)==="[object Function]"}S.func=Kt;function Tr(rt){return rt!==null&&typeof rt=="object"}S.objectLiteral=Tr;function ir(rt,v){return Array.isArray(rt)&&rt.every(v)}S.typedArray=ir})(W||(W={}))})});var cr=$(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.ProtocolNotificationType=wn.ProtocolNotificationType0=wn.ProtocolRequestType=wn.ProtocolRequestType0=wn.RegistrationType=wn.MessageDirection=void 0;var Us=Fo(),hw;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(hw||(wn.MessageDirection=hw={}));var Nm=class{constructor(e){this.method=e}};wn.RegistrationType=Nm;var Mm=class extends Us.RequestType0{constructor(e){super(e)}};wn.ProtocolRequestType0=Mm;var qm=class extends Us.RequestType{constructor(e){super(e,Us.ParameterStructures.byName)}};wn.ProtocolRequestType=qm;var Lm=class extends Us.NotificationType0{constructor(e){super(e)}};wn.ProtocolNotificationType0=Lm;var jm=class extends Us.NotificationType{constructor(e){super(e,Us.ParameterStructures.byName)}};wn.ProtocolNotificationType=jm});var cl=$(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.objectLiteral=Ar.typedArray=Ar.stringArray=Ar.array=Ar.func=Ar.error=Ar.number=Ar.string=Ar.boolean=void 0;function kL(t){return t===!0||t===!1}Ar.boolean=kL;function gw(t){return typeof t=="string"||t instanceof String}Ar.string=gw;function NL(t){return typeof t=="number"||t instanceof Number}Ar.number=NL;function ML(t){return t instanceof Error}Ar.error=ML;function qL(t){return typeof t=="function"}Ar.func=qL;function vw(t){return Array.isArray(t)}Ar.array=vw;function LL(t){return vw(t)&&t.every(e=>gw(e))}Ar.stringArray=LL;function jL(t,e){return Array.isArray(t)&&t.every(e)}Ar.typedArray=jL;function FL(t){return t!==null&&typeof t=="object"}Ar.objectLiteral=FL});var _w=$(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.ImplementationRequest=void 0;var yw=cr(),bw;(function(t){t.method="textDocument/implementation",t.messageDirection=yw.MessageDirection.clientToServer,t.type=new yw.ProtocolRequestType(t.method)})(bw||(ul.ImplementationRequest=bw={}))});var Cw=$(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.TypeDefinitionRequest=void 0;var xw=cr(),ww;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=xw.MessageDirection.clientToServer,t.type=new xw.ProtocolRequestType(t.method)})(ww||(ll.TypeDefinitionRequest=ww={}))});var Tw=$($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.DidChangeWorkspaceFoldersNotification=$s.WorkspaceFoldersRequest=void 0;var pl=cr(),Ew;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=pl.MessageDirection.serverToClient,t.type=new pl.ProtocolRequestType0(t.method)})(Ew||($s.WorkspaceFoldersRequest=Ew={}));var Sw;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=pl.MessageDirection.clientToServer,t.type=new pl.ProtocolNotificationType(t.method)})(Sw||($s.DidChangeWorkspaceFoldersNotification=Sw={}))});var Dw=$(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.ConfigurationRequest=void 0;var Rw=cr(),Pw;(function(t){t.method="workspace/configuration",t.messageDirection=Rw.MessageDirection.serverToClient,t.type=new Rw.ProtocolRequestType(t.method)})(Pw||(dl.ConfigurationRequest=Pw={}))});var Aw=$(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.ColorPresentationRequest=Hs.DocumentColorRequest=void 0;var fl=cr(),Iw;(function(t){t.method="textDocument/documentColor",t.messageDirection=fl.MessageDirection.clientToServer,t.type=new fl.ProtocolRequestType(t.method)})(Iw||(Hs.DocumentColorRequest=Iw={}));var Ow;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=fl.MessageDirection.clientToServer,t.type=new fl.ProtocolRequestType(t.method)})(Ow||(Hs.ColorPresentationRequest=Ow={}))});var Mw=$(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.FoldingRangeRefreshRequest=Bs.FoldingRangeRequest=void 0;var ml=cr(),kw;(function(t){t.method="textDocument/foldingRange",t.messageDirection=ml.MessageDirection.clientToServer,t.type=new ml.ProtocolRequestType(t.method)})(kw||(Bs.FoldingRangeRequest=kw={}));var Nw;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=ml.MessageDirection.serverToClient,t.type=new ml.ProtocolRequestType0(t.method)})(Nw||(Bs.FoldingRangeRefreshRequest=Nw={}))});var jw=$(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.DeclarationRequest=void 0;var qw=cr(),Lw;(function(t){t.method="textDocument/declaration",t.messageDirection=qw.MessageDirection.clientToServer,t.type=new qw.ProtocolRequestType(t.method)})(Lw||(hl.DeclarationRequest=Lw={}))});var $w=$(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.SelectionRangeRequest=void 0;var Fw=cr(),Uw;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Fw.MessageDirection.clientToServer,t.type=new Fw.ProtocolRequestType(t.method)})(Uw||(gl.SelectionRangeRequest=Uw={}))});var Vw=$(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.WorkDoneProgressCancelNotification=so.WorkDoneProgressCreateRequest=so.WorkDoneProgress=void 0;var UL=Fo(),vl=cr(),Hw;(function(t){t.type=new UL.ProgressType;function e(r){return r===t.type}t.is=e})(Hw||(so.WorkDoneProgress=Hw={}));var Bw;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=vl.MessageDirection.serverToClient,t.type=new vl.ProtocolRequestType(t.method)})(Bw||(so.WorkDoneProgressCreateRequest=Bw={}));var zw;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=vl.MessageDirection.clientToServer,t.type=new vl.ProtocolNotificationType(t.method)})(zw||(so.WorkDoneProgressCancelNotification=zw={}))});var Xw=$(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.CallHierarchyOutgoingCallsRequest=ao.CallHierarchyIncomingCallsRequest=ao.CallHierarchyPrepareRequest=void 0;var zs=cr(),Ww;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=zs.MessageDirection.clientToServer,t.type=new zs.ProtocolRequestType(t.method)})(Ww||(ao.CallHierarchyPrepareRequest=Ww={}));var Gw;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=zs.MessageDirection.clientToServer,t.type=new zs.ProtocolRequestType(t.method)})(Gw||(ao.CallHierarchyIncomingCallsRequest=Gw={}));var Kw;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=zs.MessageDirection.clientToServer,t.type=new zs.ProtocolRequestType(t.method)})(Kw||(ao.CallHierarchyOutgoingCallsRequest=Kw={}))});var tC=$(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.SemanticTokensRefreshRequest=Cn.SemanticTokensRangeRequest=Cn.SemanticTokensDeltaRequest=Cn.SemanticTokensRequest=Cn.SemanticTokensRegistrationType=Cn.TokenFormat=void 0;var qi=cr(),Qw;(function(t){t.Relative="relative"})(Qw||(Cn.TokenFormat=Qw={}));var hc;(function(t){t.method="textDocument/semanticTokens",t.type=new qi.RegistrationType(t.method)})(hc||(Cn.SemanticTokensRegistrationType=hc={}));var Yw;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=qi.MessageDirection.clientToServer,t.type=new qi.ProtocolRequestType(t.method),t.registrationMethod=hc.method})(Yw||(Cn.SemanticTokensRequest=Yw={}));var Zw;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=qi.MessageDirection.clientToServer,t.type=new qi.ProtocolRequestType(t.method),t.registrationMethod=hc.method})(Zw||(Cn.SemanticTokensDeltaRequest=Zw={}));var Jw;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=qi.MessageDirection.clientToServer,t.type=new qi.ProtocolRequestType(t.method),t.registrationMethod=hc.method})(Jw||(Cn.SemanticTokensRangeRequest=Jw={}));var eC;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=qi.MessageDirection.serverToClient,t.type=new qi.ProtocolRequestType0(t.method)})(eC||(Cn.SemanticTokensRefreshRequest=eC={}))});var iC=$(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.ShowDocumentRequest=void 0;var rC=cr(),nC;(function(t){t.method="window/showDocument",t.messageDirection=rC.MessageDirection.serverToClient,t.type=new rC.ProtocolRequestType(t.method)})(nC||(yl.ShowDocumentRequest=nC={}))});var aC=$(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.LinkedEditingRangeRequest=void 0;var oC=cr(),sC;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=oC.MessageDirection.clientToServer,t.type=new oC.ProtocolRequestType(t.method)})(sC||(bl.LinkedEditingRangeRequest=sC={}))});var hC=$(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.WillDeleteFilesRequest=rn.DidDeleteFilesNotification=rn.DidRenameFilesNotification=rn.WillRenameFilesRequest=rn.DidCreateFilesNotification=rn.WillCreateFilesRequest=rn.FileOperationPatternKind=void 0;var Xn=cr(),cC;(function(t){t.file="file",t.folder="folder"})(cC||(rn.FileOperationPatternKind=cC={}));var uC;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Xn.MessageDirection.clientToServer,t.type=new Xn.ProtocolRequestType(t.method)})(uC||(rn.WillCreateFilesRequest=uC={}));var lC;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Xn.MessageDirection.clientToServer,t.type=new Xn.ProtocolNotificationType(t.method)})(lC||(rn.DidCreateFilesNotification=lC={}));var pC;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Xn.MessageDirection.clientToServer,t.type=new Xn.ProtocolRequestType(t.method)})(pC||(rn.WillRenameFilesRequest=pC={}));var dC;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Xn.MessageDirection.clientToServer,t.type=new Xn.ProtocolNotificationType(t.method)})(dC||(rn.DidRenameFilesNotification=dC={}));var fC;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Xn.MessageDirection.clientToServer,t.type=new Xn.ProtocolNotificationType(t.method)})(fC||(rn.DidDeleteFilesNotification=fC={}));var mC;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Xn.MessageDirection.clientToServer,t.type=new Xn.ProtocolRequestType(t.method)})(mC||(rn.WillDeleteFilesRequest=mC={}))});var _C=$(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.MonikerRequest=co.MonikerKind=co.UniquenessLevel=void 0;var gC=cr(),vC;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(vC||(co.UniquenessLevel=vC={}));var yC;(function(t){t.$import="import",t.$export="export",t.local="local"})(yC||(co.MonikerKind=yC={}));var bC;(function(t){t.method="textDocument/moniker",t.messageDirection=gC.MessageDirection.clientToServer,t.type=new gC.ProtocolRequestType(t.method)})(bC||(co.MonikerRequest=bC={}))});var EC=$(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.TypeHierarchySubtypesRequest=uo.TypeHierarchySupertypesRequest=uo.TypeHierarchyPrepareRequest=void 0;var Vs=cr(),xC;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Vs.MessageDirection.clientToServer,t.type=new Vs.ProtocolRequestType(t.method)})(xC||(uo.TypeHierarchyPrepareRequest=xC={}));var wC;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Vs.MessageDirection.clientToServer,t.type=new Vs.ProtocolRequestType(t.method)})(wC||(uo.TypeHierarchySupertypesRequest=wC={}));var CC;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Vs.MessageDirection.clientToServer,t.type=new Vs.ProtocolRequestType(t.method)})(CC||(uo.TypeHierarchySubtypesRequest=CC={}))});var RC=$(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.InlineValueRefreshRequest=Ws.InlineValueRequest=void 0;var _l=cr(),SC;(function(t){t.method="textDocument/inlineValue",t.messageDirection=_l.MessageDirection.clientToServer,t.type=new _l.ProtocolRequestType(t.method)})(SC||(Ws.InlineValueRequest=SC={}));var TC;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=_l.MessageDirection.serverToClient,t.type=new _l.ProtocolRequestType0(t.method)})(TC||(Ws.InlineValueRefreshRequest=TC={}))});var OC=$(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.InlayHintRefreshRequest=lo.InlayHintResolveRequest=lo.InlayHintRequest=void 0;var Gs=cr(),PC;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Gs.MessageDirection.clientToServer,t.type=new Gs.ProtocolRequestType(t.method)})(PC||(lo.InlayHintRequest=PC={}));var DC;(function(t){t.method="inlayHint/resolve",t.messageDirection=Gs.MessageDirection.clientToServer,t.type=new Gs.ProtocolRequestType(t.method)})(DC||(lo.InlayHintResolveRequest=DC={}));var IC;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Gs.MessageDirection.serverToClient,t.type=new Gs.ProtocolRequestType0(t.method)})(IC||(lo.InlayHintRefreshRequest=IC={}))});var jC=$(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.DiagnosticRefreshRequest=Qn.WorkspaceDiagnosticRequest=Qn.DocumentDiagnosticRequest=Qn.DocumentDiagnosticReportKind=Qn.DiagnosticServerCancellationData=void 0;var LC=Fo(),$L=cl(),Ks=cr(),AC;(function(t){function e(r){let n=r;return n&&$L.boolean(n.retriggerRequest)}t.is=e})(AC||(Qn.DiagnosticServerCancellationData=AC={}));var kC;(function(t){t.Full="full",t.Unchanged="unchanged"})(kC||(Qn.DocumentDiagnosticReportKind=kC={}));var NC;(function(t){t.method="textDocument/diagnostic",t.messageDirection=Ks.MessageDirection.clientToServer,t.type=new Ks.ProtocolRequestType(t.method),t.partialResult=new LC.ProgressType})(NC||(Qn.DocumentDiagnosticRequest=NC={}));var MC;(function(t){t.method="workspace/diagnostic",t.messageDirection=Ks.MessageDirection.clientToServer,t.type=new Ks.ProtocolRequestType(t.method),t.partialResult=new LC.ProgressType})(MC||(Qn.WorkspaceDiagnosticRequest=MC={}));var qC;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=Ks.MessageDirection.serverToClient,t.type=new Ks.ProtocolRequestType0(t.method)})(qC||(Qn.DiagnosticRefreshRequest=qC={}))});var VC=$(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.DidCloseNotebookDocumentNotification=_r.DidSaveNotebookDocumentNotification=_r.DidChangeNotebookDocumentNotification=_r.NotebookCellArrayChange=_r.DidOpenNotebookDocumentNotification=_r.NotebookDocumentSyncRegistrationType=_r.NotebookDocument=_r.NotebookCell=_r.ExecutionSummary=_r.NotebookCellKind=void 0;var gc=al(),li=cl(),Ti=cr(),Fm;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}t.is=e})(Fm||(_r.NotebookCellKind=Fm={}));var Um;(function(t){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}t.create=e;function r(i){let o=i;return li.objectLiteral(o)&&gc.uinteger.is(o.executionOrder)&&(o.success===void 0||li.boolean(o.success))}t.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}t.equals=n})(Um||(_r.ExecutionSummary=Um={}));var xl;(function(t){function e(o,s){return{kind:o,document:s}}t.create=e;function r(o){let s=o;return li.objectLiteral(s)&&Fm.is(s.kind)&&gc.DocumentUri.is(s.document)&&(s.metadata===void 0||li.objectLiteral(s.metadata))}t.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!Um.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}t.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(li.objectLiteral(o)&&li.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let p=0;p<u.length;p++){let d=u[p];if(!i(o[d],s[d]))return!1}}return!0}})(xl||(_r.NotebookCell=xl={}));var FC;(function(t){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}t.create=e;function r(n){let i=n;return li.objectLiteral(i)&&li.string(i.uri)&&gc.integer.is(i.version)&&li.typedArray(i.cells,xl.is)}t.is=r})(FC||(_r.NotebookDocument=FC={}));var Xs;(function(t){t.method="notebookDocument/sync",t.messageDirection=Ti.MessageDirection.clientToServer,t.type=new Ti.RegistrationType(t.method)})(Xs||(_r.NotebookDocumentSyncRegistrationType=Xs={}));var UC;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Ti.MessageDirection.clientToServer,t.type=new Ti.ProtocolNotificationType(t.method),t.registrationMethod=Xs.method})(UC||(_r.DidOpenNotebookDocumentNotification=UC={}));var $C;(function(t){function e(n){let i=n;return li.objectLiteral(i)&&gc.uinteger.is(i.start)&&gc.uinteger.is(i.deleteCount)&&(i.cells===void 0||li.typedArray(i.cells,xl.is))}t.is=e;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}t.create=r})($C||(_r.NotebookCellArrayChange=$C={}));var HC;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Ti.MessageDirection.clientToServer,t.type=new Ti.ProtocolNotificationType(t.method),t.registrationMethod=Xs.method})(HC||(_r.DidChangeNotebookDocumentNotification=HC={}));var BC;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Ti.MessageDirection.clientToServer,t.type=new Ti.ProtocolNotificationType(t.method),t.registrationMethod=Xs.method})(BC||(_r.DidSaveNotebookDocumentNotification=BC={}));var zC;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Ti.MessageDirection.clientToServer,t.type=new Ti.ProtocolNotificationType(t.method),t.registrationMethod=Xs.method})(zC||(_r.DidCloseNotebookDocumentNotification=zC={}))});var KC=$(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.InlineCompletionRequest=void 0;var WC=cr(),GC;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=WC.MessageDirection.clientToServer,t.type=new WC.ProtocolRequestType(t.method)})(GC||(wl.InlineCompletionRequest=GC={}))});var aS=$(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.WorkspaceSymbolRequest=k.CodeActionResolveRequest=k.CodeActionRequest=k.DocumentSymbolRequest=k.DocumentHighlightRequest=k.ReferencesRequest=k.DefinitionRequest=k.SignatureHelpRequest=k.SignatureHelpTriggerKind=k.HoverRequest=k.CompletionResolveRequest=k.CompletionRequest=k.CompletionTriggerKind=k.PublishDiagnosticsNotification=k.WatchKind=k.RelativePattern=k.FileChangeType=k.DidChangeWatchedFilesNotification=k.WillSaveTextDocumentWaitUntilRequest=k.WillSaveTextDocumentNotification=k.TextDocumentSaveReason=k.DidSaveTextDocumentNotification=k.DidCloseTextDocumentNotification=k.DidChangeTextDocumentNotification=k.TextDocumentContentChangeEvent=k.DidOpenTextDocumentNotification=k.TextDocumentSyncKind=k.TelemetryEventNotification=k.LogMessageNotification=k.ShowMessageRequest=k.ShowMessageNotification=k.MessageType=k.DidChangeConfigurationNotification=k.ExitNotification=k.ShutdownRequest=k.InitializedNotification=k.InitializeErrorCodes=k.InitializeRequest=k.WorkDoneProgressOptions=k.TextDocumentRegistrationOptions=k.StaticRegistrationOptions=k.PositionEncodingKind=k.FailureHandlingKind=k.ResourceOperationKind=k.UnregistrationRequest=k.RegistrationRequest=k.DocumentSelector=k.NotebookCellTextDocumentFilter=k.NotebookDocumentFilter=k.TextDocumentFilter=void 0;k.MonikerRequest=k.MonikerKind=k.UniquenessLevel=k.WillDeleteFilesRequest=k.DidDeleteFilesNotification=k.WillRenameFilesRequest=k.DidRenameFilesNotification=k.WillCreateFilesRequest=k.DidCreateFilesNotification=k.FileOperationPatternKind=k.LinkedEditingRangeRequest=k.ShowDocumentRequest=k.SemanticTokensRegistrationType=k.SemanticTokensRefreshRequest=k.SemanticTokensRangeRequest=k.SemanticTokensDeltaRequest=k.SemanticTokensRequest=k.TokenFormat=k.CallHierarchyPrepareRequest=k.CallHierarchyOutgoingCallsRequest=k.CallHierarchyIncomingCallsRequest=k.WorkDoneProgressCancelNotification=k.WorkDoneProgressCreateRequest=k.WorkDoneProgress=k.SelectionRangeRequest=k.DeclarationRequest=k.FoldingRangeRefreshRequest=k.FoldingRangeRequest=k.ColorPresentationRequest=k.DocumentColorRequest=k.ConfigurationRequest=k.DidChangeWorkspaceFoldersNotification=k.WorkspaceFoldersRequest=k.TypeDefinitionRequest=k.ImplementationRequest=k.ApplyWorkspaceEditRequest=k.ExecuteCommandRequest=k.PrepareRenameRequest=k.RenameRequest=k.PrepareSupportDefaultBehavior=k.DocumentOnTypeFormattingRequest=k.DocumentRangesFormattingRequest=k.DocumentRangeFormattingRequest=k.DocumentFormattingRequest=k.DocumentLinkResolveRequest=k.DocumentLinkRequest=k.CodeLensRefreshRequest=k.CodeLensResolveRequest=k.CodeLensRequest=k.WorkspaceSymbolResolveRequest=void 0;k.InlineCompletionRequest=k.DidCloseNotebookDocumentNotification=k.DidSaveNotebookDocumentNotification=k.DidChangeNotebookDocumentNotification=k.NotebookCellArrayChange=k.DidOpenNotebookDocumentNotification=k.NotebookDocumentSyncRegistrationType=k.NotebookDocument=k.NotebookCell=k.ExecutionSummary=k.NotebookCellKind=k.DiagnosticRefreshRequest=k.WorkspaceDiagnosticRequest=k.DocumentDiagnosticRequest=k.DocumentDiagnosticReportKind=k.DiagnosticServerCancellationData=k.InlayHintRefreshRequest=k.InlayHintResolveRequest=k.InlayHintRequest=k.InlineValueRefreshRequest=k.InlineValueRequest=k.TypeHierarchySupertypesRequest=k.TypeHierarchySubtypesRequest=k.TypeHierarchyPrepareRequest=void 0;var be=cr(),XC=al(),Fr=cl(),HL=_w();Object.defineProperty(k,"ImplementationRequest",{enumerable:!0,get:function(){return HL.ImplementationRequest}});var BL=Cw();Object.defineProperty(k,"TypeDefinitionRequest",{enumerable:!0,get:function(){return BL.TypeDefinitionRequest}});var nS=Tw();Object.defineProperty(k,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return nS.WorkspaceFoldersRequest}});Object.defineProperty(k,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return nS.DidChangeWorkspaceFoldersNotification}});var zL=Dw();Object.defineProperty(k,"ConfigurationRequest",{enumerable:!0,get:function(){return zL.ConfigurationRequest}});var iS=Aw();Object.defineProperty(k,"DocumentColorRequest",{enumerable:!0,get:function(){return iS.DocumentColorRequest}});Object.defineProperty(k,"ColorPresentationRequest",{enumerable:!0,get:function(){return iS.ColorPresentationRequest}});var oS=Mw();Object.defineProperty(k,"FoldingRangeRequest",{enumerable:!0,get:function(){return oS.FoldingRangeRequest}});Object.defineProperty(k,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return oS.FoldingRangeRefreshRequest}});var VL=jw();Object.defineProperty(k,"DeclarationRequest",{enumerable:!0,get:function(){return VL.DeclarationRequest}});var WL=$w();Object.defineProperty(k,"SelectionRangeRequest",{enumerable:!0,get:function(){return WL.SelectionRangeRequest}});var Vm=Vw();Object.defineProperty(k,"WorkDoneProgress",{enumerable:!0,get:function(){return Vm.WorkDoneProgress}});Object.defineProperty(k,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Vm.WorkDoneProgressCreateRequest}});Object.defineProperty(k,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Vm.WorkDoneProgressCancelNotification}});var Wm=Xw();Object.defineProperty(k,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Wm.CallHierarchyIncomingCallsRequest}});Object.defineProperty(k,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Wm.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(k,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Wm.CallHierarchyPrepareRequest}});var Qs=tC();Object.defineProperty(k,"TokenFormat",{enumerable:!0,get:function(){return Qs.TokenFormat}});Object.defineProperty(k,"SemanticTokensRequest",{enumerable:!0,get:function(){return Qs.SemanticTokensRequest}});Object.defineProperty(k,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Qs.SemanticTokensDeltaRequest}});Object.defineProperty(k,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Qs.SemanticTokensRangeRequest}});Object.defineProperty(k,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Qs.SemanticTokensRefreshRequest}});Object.defineProperty(k,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Qs.SemanticTokensRegistrationType}});var GL=iC();Object.defineProperty(k,"ShowDocumentRequest",{enumerable:!0,get:function(){return GL.ShowDocumentRequest}});var KL=aC();Object.defineProperty(k,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return KL.LinkedEditingRangeRequest}});var Uo=hC();Object.defineProperty(k,"FileOperationPatternKind",{enumerable:!0,get:function(){return Uo.FileOperationPatternKind}});Object.defineProperty(k,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Uo.DidCreateFilesNotification}});Object.defineProperty(k,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Uo.WillCreateFilesRequest}});Object.defineProperty(k,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Uo.DidRenameFilesNotification}});Object.defineProperty(k,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Uo.WillRenameFilesRequest}});Object.defineProperty(k,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Uo.DidDeleteFilesNotification}});Object.defineProperty(k,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Uo.WillDeleteFilesRequest}});var Gm=_C();Object.defineProperty(k,"UniquenessLevel",{enumerable:!0,get:function(){return Gm.UniquenessLevel}});Object.defineProperty(k,"MonikerKind",{enumerable:!0,get:function(){return Gm.MonikerKind}});Object.defineProperty(k,"MonikerRequest",{enumerable:!0,get:function(){return Gm.MonikerRequest}});var Km=EC();Object.defineProperty(k,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Km.TypeHierarchyPrepareRequest}});Object.defineProperty(k,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Km.TypeHierarchySubtypesRequest}});Object.defineProperty(k,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Km.TypeHierarchySupertypesRequest}});var sS=RC();Object.defineProperty(k,"InlineValueRequest",{enumerable:!0,get:function(){return sS.InlineValueRequest}});Object.defineProperty(k,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return sS.InlineValueRefreshRequest}});var Xm=OC();Object.defineProperty(k,"InlayHintRequest",{enumerable:!0,get:function(){return Xm.InlayHintRequest}});Object.defineProperty(k,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Xm.InlayHintResolveRequest}});Object.defineProperty(k,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Xm.InlayHintRefreshRequest}});var vc=jC();Object.defineProperty(k,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return vc.DiagnosticServerCancellationData}});Object.defineProperty(k,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return vc.DocumentDiagnosticReportKind}});Object.defineProperty(k,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return vc.DocumentDiagnosticRequest}});Object.defineProperty(k,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return vc.WorkspaceDiagnosticRequest}});Object.defineProperty(k,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return vc.DiagnosticRefreshRequest}});var Ri=VC();Object.defineProperty(k,"NotebookCellKind",{enumerable:!0,get:function(){return Ri.NotebookCellKind}});Object.defineProperty(k,"ExecutionSummary",{enumerable:!0,get:function(){return Ri.ExecutionSummary}});Object.defineProperty(k,"NotebookCell",{enumerable:!0,get:function(){return Ri.NotebookCell}});Object.defineProperty(k,"NotebookDocument",{enumerable:!0,get:function(){return Ri.NotebookDocument}});Object.defineProperty(k,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ri.NotebookDocumentSyncRegistrationType}});Object.defineProperty(k,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ri.DidOpenNotebookDocumentNotification}});Object.defineProperty(k,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ri.NotebookCellArrayChange}});Object.defineProperty(k,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ri.DidChangeNotebookDocumentNotification}});Object.defineProperty(k,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ri.DidSaveNotebookDocumentNotification}});Object.defineProperty(k,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ri.DidCloseNotebookDocumentNotification}});var XL=KC();Object.defineProperty(k,"InlineCompletionRequest",{enumerable:!0,get:function(){return XL.InlineCompletionRequest}});var $m;(function(t){function e(r){let n=r;return Fr.string(n)||Fr.string(n.language)||Fr.string(n.scheme)||Fr.string(n.pattern)}t.is=e})($m||(k.TextDocumentFilter=$m={}));var Hm;(function(t){function e(r){let n=r;return Fr.objectLiteral(n)&&(Fr.string(n.notebookType)||Fr.string(n.scheme)||Fr.string(n.pattern))}t.is=e})(Hm||(k.NotebookDocumentFilter=Hm={}));var Bm;(function(t){function e(r){let n=r;return Fr.objectLiteral(n)&&(Fr.string(n.notebook)||Hm.is(n.notebook))&&(n.language===void 0||Fr.string(n.language))}t.is=e})(Bm||(k.NotebookCellTextDocumentFilter=Bm={}));var zm;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Fr.string(n)&&!$m.is(n)&&!Bm.is(n))return!1;return!0}t.is=e})(zm||(k.DocumentSelector=zm={}));var QC;(function(t){t.method="client/registerCapability",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolRequestType(t.method)})(QC||(k.RegistrationRequest=QC={}));var YC;(function(t){t.method="client/unregisterCapability",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolRequestType(t.method)})(YC||(k.UnregistrationRequest=YC={}));var ZC;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(ZC||(k.ResourceOperationKind=ZC={}));var JC;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(JC||(k.FailureHandlingKind=JC={}));var eE;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(eE||(k.PositionEncodingKind=eE={}));var tE;(function(t){function e(r){let n=r;return n&&Fr.string(n.id)&&n.id.length>0}t.hasId=e})(tE||(k.StaticRegistrationOptions=tE={}));var rE;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||zm.is(n.documentSelector))}t.is=e})(rE||(k.TextDocumentRegistrationOptions=rE={}));var nE;(function(t){function e(n){let i=n;return Fr.objectLiteral(i)&&(i.workDoneProgress===void 0||Fr.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&Fr.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(nE||(k.WorkDoneProgressOptions=nE={}));var iE;(function(t){t.method="initialize",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(iE||(k.InitializeRequest=iE={}));var oE;(function(t){t.unknownProtocolVersion=1})(oE||(k.InitializeErrorCodes=oE={}));var sE;(function(t){t.method="initialized",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType(t.method)})(sE||(k.InitializedNotification=sE={}));var aE;(function(t){t.method="shutdown",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType0(t.method)})(aE||(k.ShutdownRequest=aE={}));var cE;(function(t){t.method="exit",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType0(t.method)})(cE||(k.ExitNotification=cE={}));var uE;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType(t.method)})(uE||(k.DidChangeConfigurationNotification=uE={}));var lE;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(lE||(k.MessageType=lE={}));var pE;(function(t){t.method="window/showMessage",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolNotificationType(t.method)})(pE||(k.ShowMessageNotification=pE={}));var dE;(function(t){t.method="window/showMessageRequest",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolRequestType(t.method)})(dE||(k.ShowMessageRequest=dE={}));var fE;(function(t){t.method="window/logMessage",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolNotificationType(t.method)})(fE||(k.LogMessageNotification=fE={}));var mE;(function(t){t.method="telemetry/event",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolNotificationType(t.method)})(mE||(k.TelemetryEventNotification=mE={}));var hE;(function(t){t.None=0,t.Full=1,t.Incremental=2})(hE||(k.TextDocumentSyncKind=hE={}));var gE;(function(t){t.method="textDocument/didOpen",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType(t.method)})(gE||(k.DidOpenTextDocumentNotification=gE={}));var vE;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(vE||(k.TextDocumentContentChangeEvent=vE={}));var yE;(function(t){t.method="textDocument/didChange",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType(t.method)})(yE||(k.DidChangeTextDocumentNotification=yE={}));var bE;(function(t){t.method="textDocument/didClose",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType(t.method)})(bE||(k.DidCloseTextDocumentNotification=bE={}));var _E;(function(t){t.method="textDocument/didSave",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType(t.method)})(_E||(k.DidSaveTextDocumentNotification=_E={}));var xE;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(xE||(k.TextDocumentSaveReason=xE={}));var wE;(function(t){t.method="textDocument/willSave",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType(t.method)})(wE||(k.WillSaveTextDocumentNotification=wE={}));var CE;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(CE||(k.WillSaveTextDocumentWaitUntilRequest=CE={}));var EE;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolNotificationType(t.method)})(EE||(k.DidChangeWatchedFilesNotification=EE={}));var SE;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(SE||(k.FileChangeType=SE={}));var TE;(function(t){function e(r){let n=r;return Fr.objectLiteral(n)&&(XC.URI.is(n.baseUri)||XC.WorkspaceFolder.is(n.baseUri))&&Fr.string(n.pattern)}t.is=e})(TE||(k.RelativePattern=TE={}));var RE;(function(t){t.Create=1,t.Change=2,t.Delete=4})(RE||(k.WatchKind=RE={}));var PE;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolNotificationType(t.method)})(PE||(k.PublishDiagnosticsNotification=PE={}));var DE;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(DE||(k.CompletionTriggerKind=DE={}));var IE;(function(t){t.method="textDocument/completion",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(IE||(k.CompletionRequest=IE={}));var OE;(function(t){t.method="completionItem/resolve",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(OE||(k.CompletionResolveRequest=OE={}));var AE;(function(t){t.method="textDocument/hover",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(AE||(k.HoverRequest=AE={}));var kE;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(kE||(k.SignatureHelpTriggerKind=kE={}));var NE;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(NE||(k.SignatureHelpRequest=NE={}));var ME;(function(t){t.method="textDocument/definition",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(ME||(k.DefinitionRequest=ME={}));var qE;(function(t){t.method="textDocument/references",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(qE||(k.ReferencesRequest=qE={}));var LE;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(LE||(k.DocumentHighlightRequest=LE={}));var jE;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(jE||(k.DocumentSymbolRequest=jE={}));var FE;(function(t){t.method="textDocument/codeAction",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(FE||(k.CodeActionRequest=FE={}));var UE;(function(t){t.method="codeAction/resolve",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(UE||(k.CodeActionResolveRequest=UE={}));var $E;(function(t){t.method="workspace/symbol",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})($E||(k.WorkspaceSymbolRequest=$E={}));var HE;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(HE||(k.WorkspaceSymbolResolveRequest=HE={}));var BE;(function(t){t.method="textDocument/codeLens",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(BE||(k.CodeLensRequest=BE={}));var zE;(function(t){t.method="codeLens/resolve",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(zE||(k.CodeLensResolveRequest=zE={}));var VE;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolRequestType0(t.method)})(VE||(k.CodeLensRefreshRequest=VE={}));var WE;(function(t){t.method="textDocument/documentLink",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(WE||(k.DocumentLinkRequest=WE={}));var GE;(function(t){t.method="documentLink/resolve",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(GE||(k.DocumentLinkResolveRequest=GE={}));var KE;(function(t){t.method="textDocument/formatting",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(KE||(k.DocumentFormattingRequest=KE={}));var XE;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(XE||(k.DocumentRangeFormattingRequest=XE={}));var QE;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(QE||(k.DocumentRangesFormattingRequest=QE={}));var YE;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(YE||(k.DocumentOnTypeFormattingRequest=YE={}));var ZE;(function(t){t.Identifier=1})(ZE||(k.PrepareSupportDefaultBehavior=ZE={}));var JE;(function(t){t.method="textDocument/rename",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(JE||(k.RenameRequest=JE={}));var eS;(function(t){t.method="textDocument/prepareRename",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(eS||(k.PrepareRenameRequest=eS={}));var tS;(function(t){t.method="workspace/executeCommand",t.messageDirection=be.MessageDirection.clientToServer,t.type=new be.ProtocolRequestType(t.method)})(tS||(k.ExecuteCommandRequest=tS={}));var rS;(function(t){t.method="workspace/applyEdit",t.messageDirection=be.MessageDirection.serverToClient,t.type=new be.ProtocolRequestType("workspace/applyEdit")})(rS||(k.ApplyWorkspaceEditRequest=rS={}))});var uS=$(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.createProtocolConnection=void 0;var cS=Fo();function QL(t,e,r,n){return cS.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,cS.createMessageConnection)(t,e,r,n)}Cl.createProtocolConnection=QL});var pS=$(En=>{"use strict";var YL=En&&En.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),El=En&&En.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YL(e,t,r)};Object.defineProperty(En,"__esModule",{value:!0});En.LSPErrorCodes=En.createProtocolConnection=void 0;El(Fo(),En);El(al(),En);El(cr(),En);El(aS(),En);var ZL=uS();Object.defineProperty(En,"createProtocolConnection",{enumerable:!0,get:function(){return ZL.createProtocolConnection}});var lS;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(lS||(En.LSPErrorCodes=lS={}))});var nt=$(Pi=>{"use strict";var JL=Pi&&Pi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dS=Pi&&Pi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&JL(e,t,r)};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.createProtocolConnection=void 0;var ej=km();dS(km(),Pi);dS(pS(),Pi);function tj(t,e,r,n){return(0,ej.createMessageConnection)(t,e,r,n)}Pi.createProtocolConnection=tj});var Sl=$(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.forEach=nn.mapAsync=nn.map=nn.clearTestMode=nn.setTestMode=nn.Semaphore=nn.Delayer=void 0;var bc=nt(),Qm=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,r=this.defaultDelay){return this.task=e,r>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(r>=0||this.timeout===void 0)&&(this.timeout=(0,bc.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},r>=0?r:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};nn.Delayer=Qm;var Ym=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,bc.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};nn.Semaphore=Ym;var Zm=!1;function rj(){Zm=!0}nn.setTestMode=rj;function nj(){Zm=!1}nn.clearTestMode=nj;var fS=15,yc=class{constructor(e=fS){this.yieldAfter=Zm===!0?Math.max(e,2):Math.max(e,fS),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,r=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||r<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function ij(t,e,r,n){if(t.length===0)return[];let i=new Array(t.length),o=new yc(n?.yieldAfter);function s(c){o.start();for(let u=c;u<t.length;u++)if(i[u]=e(t[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(r!==void 0&&r.isCancellationRequested);)a=await new Promise(c=>{(0,bc.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}nn.map=ij;async function oj(t,e,r,n){if(t.length===0)return[];let i=new Array(t.length),o=new yc(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<t.length;u++)if(i[u]=await e(t[u],r),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(r!==void 0&&r.isCancellationRequested);)a=await new Promise(c=>{(0,bc.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}nn.mapAsync=oj;async function sj(t,e,r,n){if(t.length===0)return;let i=new yc(n?.yieldAfter);function o(a){i.start();for(let c=a;c<t.length;c++)if(e(t[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(r!==void 0&&r.isCancellationRequested);)s=await new Promise(a=>{(0,bc.RAL)().timer.setImmediate(()=>{a(o(s))})})}nn.forEach=sj});var th=$(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});var aj=require("vscode"),Jm=class extends aj.CompletionItem{constructor(e){super(e)}};eh.default=Jm});var ih=$(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var cj=require("vscode"),rh=class extends cj.CodeLens{constructor(e){super(e)}};nh.default=rh});var ah=$(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});var uj=require("vscode"),oh=class extends uj.DocumentLink{constructor(e,r){super(e,r)}};sh.default=oh});var lh=$(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var lj=require("vscode"),ch=class extends lj.CodeAction{constructor(e,r){super(e),this.data=r}};uh.default=ch});var fh=$(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.ProtocolDiagnostic=Ys.DiagnosticCode=void 0;var pj=require("vscode"),ph=Kn(),mS;(function(t){function e(r){let n=r;return n!=null&&(ph.number(n.value)||ph.string(n.value))&&ph.string(n.target)}t.is=e})(mS||(Ys.DiagnosticCode=mS={}));var dh=class extends pj.Diagnostic{constructor(e,r,n,i){super(e,r,n),this.data=i,this.hasDiagnosticCode=!1}};Ys.ProtocolDiagnostic=dh});var gh=$(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});var dj=require("vscode"),mh=class extends dj.CallHierarchyItem{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o,s),a!==void 0&&(this.data=a)}};hh.default=mh});var bh=$(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var fj=require("vscode"),vh=class extends fj.TypeHierarchyItem{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o,s),a!==void 0&&(this.data=a)}};yh.default=vh});var wh=$(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});var Tl=require("vscode"),_h=class extends Tl.SymbolInformation{constructor(e,r,n,i,o){let s=!(i instanceof Tl.Uri);super(e,r,n,s?i:new Tl.Location(i,new Tl.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};xh.default=_h});var Sh=$(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});var mj=require("vscode"),Ch=class extends mj.InlayHint{constructor(e,r,n){super(e,r,n)}};Eh.default=Ch});var yS=$(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.createConverter=void 0;var kr=require("vscode"),at=nt(),$o=Kn(),hS=Sl(),hj=th(),gj=ih(),vj=ah(),gS=lh(),vS=fh(),yj=gh(),bj=bh(),_j=wh(),xj=Sh(),Th;(function(t){function e(r){let n=r;return n&&!!n.inserting&&!!n.replacing}t.is=e})(Th||(Th={}));function wj(t){let r=t||(T=>T.toString());function n(T){return r(T)}function i(T){return{uri:r(T.uri)}}function o(T){return{uri:r(T.uri),languageId:T.languageId,version:T.version,text:T.getText()}}function s(T){return{uri:r(T.uri),version:T.version}}function a(T){return{textDocument:o(T)}}function c(T){let J=T;return!!J.document&&!!J.contentChanges}function u(T){let J=T;return!!J.uri&&!!J.version}function l(T,J,Ee){if(u(T))return{textDocument:{uri:r(T.uri),version:T.version},contentChanges:[{text:T.getText()}]};if(c(T)){let bt=J,W=Ee;return{textDocument:{uri:r(bt),version:W},contentChanges:T.contentChanges.map(L=>{let j=L.range;return{range:{start:{line:j.start.line,character:j.start.character},end:{line:j.end.line,character:j.end.character}},rangeLength:L.rangeLength,text:L.text}})}}else throw Error("Unsupported text document change parameter")}function p(T){return{textDocument:i(T)}}function d(T,J=!1){let Ee={textDocument:i(T)};return J&&(Ee.text=T.getText()),Ee}function f(T){switch(T){case kr.TextDocumentSaveReason.Manual:return at.TextDocumentSaveReason.Manual;case kr.TextDocumentSaveReason.AfterDelay:return at.TextDocumentSaveReason.AfterDelay;case kr.TextDocumentSaveReason.FocusOut:return at.TextDocumentSaveReason.FocusOut}return at.TextDocumentSaveReason.Manual}function m(T){return{textDocument:i(T.document),reason:f(T.reason)}}function g(T){return{files:T.files.map(J=>({uri:r(J)}))}}function y(T){return{files:T.files.map(J=>({oldUri:r(J.oldUri),newUri:r(J.newUri)}))}}function b(T){return{files:T.files.map(J=>({uri:r(J)}))}}function x(T){return{files:T.files.map(J=>({uri:r(J)}))}}function w(T){return{files:T.files.map(J=>({oldUri:r(J.oldUri),newUri:r(J.newUri)}))}}function C(T){return{files:T.files.map(J=>({uri:r(J)}))}}function D(T,J){return{textDocument:i(T),position:xe(J)}}function N(T){switch(T){case kr.CompletionTriggerKind.TriggerCharacter:return at.CompletionTriggerKind.TriggerCharacter;case kr.CompletionTriggerKind.TriggerForIncompleteCompletions:return at.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return at.CompletionTriggerKind.Invoked}}function M(T,J,Ee){return{textDocument:i(T),position:xe(J),context:{triggerKind:N(Ee.triggerKind),triggerCharacter:Ee.triggerCharacter}}}function F(T){switch(T){case kr.SignatureHelpTriggerKind.Invoke:return at.SignatureHelpTriggerKind.Invoked;case kr.SignatureHelpTriggerKind.TriggerCharacter:return at.SignatureHelpTriggerKind.TriggerCharacter;case kr.SignatureHelpTriggerKind.ContentChange:return at.SignatureHelpTriggerKind.ContentChange}}function Q(T){return{label:T.label}}function ne(T){return T.map(Q)}function X(T){return{label:T.label,parameters:ne(T.parameters)}}function H(T){return T.map(X)}function ae(T){return T===void 0?T:{signatures:H(T.signatures),activeSignature:T.activeSignature,activeParameter:T.activeParameter}}function ee(T,J,Ee){return{textDocument:i(T),position:xe(J),context:{isRetrigger:Ee.isRetrigger,triggerCharacter:Ee.triggerCharacter,triggerKind:F(Ee.triggerKind),activeSignatureHelp:ae(Ee.activeSignatureHelp)}}}function xe(T){return{line:T.line,character:T.character}}function pe(T){return T==null?T:{line:T.line>at.uinteger.MAX_VALUE?at.uinteger.MAX_VALUE:T.line,character:T.character>at.uinteger.MAX_VALUE?at.uinteger.MAX_VALUE:T.character}}function z(T,J){return hS.map(T,pe,J)}function Z(T){return T.map(pe)}function te(T){return T==null?T:{start:pe(T.start),end:pe(T.end)}}function de(T){return T.map(te)}function he(T){return T==null?T:at.Location.create(n(T.uri),te(T.range))}function Pe(T){switch(T){case kr.DiagnosticSeverity.Error:return at.DiagnosticSeverity.Error;case kr.DiagnosticSeverity.Warning:return at.DiagnosticSeverity.Warning;case kr.DiagnosticSeverity.Information:return at.DiagnosticSeverity.Information;case kr.DiagnosticSeverity.Hint:return at.DiagnosticSeverity.Hint}}function Te(T){if(!T)return;let J=[];for(let Ee of T){let bt=Be(Ee);bt!==void 0&&J.push(bt)}return J.length>0?J:void 0}function Be(T){switch(T){case kr.DiagnosticTag.Unnecessary:return at.DiagnosticTag.Unnecessary;case kr.DiagnosticTag.Deprecated:return at.DiagnosticTag.Deprecated;default:return}}function We(T){return{message:T.message,location:he(T.location)}}function mt(T){return T.map(We)}function it(T){if(T!=null)return $o.number(T)||$o.string(T)?T:{value:T.value,target:n(T.target)}}function ke(T){let J=at.Diagnostic.create(te(T.range),T.message),Ee=T instanceof vS.ProtocolDiagnostic?T:void 0;Ee!==void 0&&Ee.data!==void 0&&(J.data=Ee.data);let bt=it(T.code);return vS.DiagnosticCode.is(bt)?Ee!==void 0&&Ee.hasDiagnosticCode?J.code=bt:(J.code=bt.value,J.codeDescription={href:bt.target}):J.code=bt,$o.number(T.severity)&&(J.severity=Pe(T.severity)),Array.isArray(T.tags)&&(J.tags=Te(T.tags)),T.relatedInformation&&(J.relatedInformation=mt(T.relatedInformation)),T.source&&(J.source=T.source),J}function It(T,J){return T==null?T:hS.map(T,ke,J)}function jt(T){return T==null?T:T.map(ke)}function Me(T,J){switch(T){case"$string":return J;case at.MarkupKind.PlainText:return{kind:T,value:J};case at.MarkupKind.Markdown:return{kind:T,value:J.value};default:return`Unsupported Markup content received. Kind is: ${T}`}}function we(T){switch(T){case kr.CompletionItemTag.Deprecated:return at.CompletionItemTag.Deprecated}}function Fe(T){if(T===void 0)return T;let J=[];for(let Ee of T){let bt=we(Ee);bt!==void 0&&J.push(bt)}return J}function et(T,J){return J!==void 0?J:T+1}function Ir(T,J=!1){let Ee,bt;$o.string(T.label)?Ee=T.label:(Ee=T.label.label,J&&(T.label.detail!==void 0||T.label.description!==void 0)&&(bt={detail:T.label.detail,description:T.label.description}));let W={label:Ee};bt!==void 0&&(W.labelDetails=bt);let S=T instanceof hj.default?T:void 0;T.detail&&(W.detail=T.detail),T.documentation&&(!S||S.documentationFormat==="$string"?W.documentation=T.documentation:W.documentation=Me(S.documentationFormat,T.documentation)),T.filterText&&(W.filterText=T.filterText),Jr(W,T),$o.number(T.kind)&&(W.kind=et(T.kind,S&&S.originalItemKind)),T.sortText&&(W.sortText=T.sortText),T.additionalTextEdits&&(W.additionalTextEdits=Wt(T.additionalTextEdits)),T.commitCharacters&&(W.commitCharacters=T.commitCharacters.slice()),T.command&&(W.command=ve(T.command)),(T.preselect===!0||T.preselect===!1)&&(W.preselect=T.preselect);let L=Fe(T.tags);if(S){if(S.data!==void 0&&(W.data=S.data),S.deprecated===!0||S.deprecated===!1){if(S.deprecated===!0&&L!==void 0&&L.length>0){let j=L.indexOf(kr.CompletionItemTag.Deprecated);j!==-1&&L.splice(j,1)}W.deprecated=S.deprecated}S.insertTextMode!==void 0&&(W.insertTextMode=S.insertTextMode)}return L!==void 0&&L.length>0&&(W.tags=L),W.insertTextMode===void 0&&T.keepWhitespace===!0&&(W.insertTextMode=at.InsertTextMode.adjustIndentation),W}function Jr(T,J){let Ee=at.InsertTextFormat.PlainText,bt,W;J.textEdit?(bt=J.textEdit.newText,W=J.textEdit.range):J.insertText instanceof kr.SnippetString?(Ee=at.InsertTextFormat.Snippet,bt=J.insertText.value):bt=J.insertText,J.range&&(W=J.range),T.insertTextFormat=Ee,J.fromEdit&&bt!==void 0&&W!==void 0?T.textEdit=ue(bt,W):T.insertText=bt}function ue(T,J){return Th.is(J)?at.InsertReplaceEdit.create(T,te(J.inserting),te(J.replacing)):{newText:T,range:te(J)}}function Lr(T){return{range:te(T.range),newText:T.newText}}function Wt(T){return T==null?T:T.map(Lr)}function Ht(T){return T<=kr.SymbolKind.TypeParameter?T+1:at.SymbolKind.Property}function ht(T){return T}function nr(T){return T.map(ht)}function Bt(T,J,Ee){return{textDocument:i(T),position:xe(J),context:{includeDeclaration:Ee.includeDeclaration}}}async function Mr(T,J){let Ee=at.CodeAction.create(T.title);if(T instanceof gS.default&&T.data!==void 0&&(Ee.data=T.data),T.kind!==void 0&&(Ee.kind=q(T.kind)),T.diagnostics!==void 0&&(Ee.diagnostics=await It(T.diagnostics,J)),T.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return T.command!==void 0&&(Ee.command=ve(T.command)),T.isPreferred!==void 0&&(Ee.isPreferred=T.isPreferred),T.disabled!==void 0&&(Ee.disabled={reason:T.disabled.reason}),Ee}function jr(T){let J=at.CodeAction.create(T.title);if(T instanceof gS.default&&T.data!==void 0&&(J.data=T.data),T.kind!==void 0&&(J.kind=q(T.kind)),T.diagnostics!==void 0&&(J.diagnostics=jt(T.diagnostics)),T.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return T.command!==void 0&&(J.command=ve(T.command)),T.isPreferred!==void 0&&(J.isPreferred=T.isPreferred),T.disabled!==void 0&&(J.disabled={reason:T.disabled.reason}),J}async function lt(T,J){if(T==null)return T;let Ee;return T.only&&$o.string(T.only.value)&&(Ee=[T.only.value]),at.CodeActionContext.create(await It(T.diagnostics,J),Ee,Zt(T.triggerKind))}function Wr(T){if(T==null)return T;let J;return T.only&&$o.string(T.only.value)&&(J=[T.only.value]),at.CodeActionContext.create(jt(T.diagnostics),J,Zt(T.triggerKind))}function Zt(T){switch(T){case kr.CodeActionTriggerKind.Invoke:return at.CodeActionTriggerKind.Invoked;case kr.CodeActionTriggerKind.Automatic:return at.CodeActionTriggerKind.Automatic;default:return}}function q(T){if(T!=null)return T.value}function oe(T){return T==null?T:at.InlineValueContext.create(T.frameId,te(T.stoppedLocation))}function fe(T,J,Ee){return{context:at.InlineCompletionContext.create(Ee.triggerKind,Ee.selectedCompletionInfo),textDocument:i(T),position:pe(J)}}function ve(T){let J=at.Command.create(T.title,T.command);return T.arguments&&(J.arguments=T.arguments),J}function Qe(T){let J=at.CodeLens.create(te(T.range));return T.command&&(J.command=ve(T.command)),T instanceof gj.default&&T.data&&(J.data=T.data),J}function tt(T,J){let Ee={tabSize:T.tabSize,insertSpaces:T.insertSpaces};return J.trimTrailingWhitespace&&(Ee.trimTrailingWhitespace=!0),J.trimFinalNewlines&&(Ee.trimFinalNewlines=!0),J.insertFinalNewline&&(Ee.insertFinalNewline=!0),Ee}function ot(T){return{textDocument:i(T)}}function Ye(T){return{textDocument:i(T)}}function qe(T){let J=at.DocumentLink.create(te(T.range));T.target&&(J.target=n(T.target)),T.tooltip!==void 0&&(J.tooltip=T.tooltip);let Ee=T instanceof vj.default?T:void 0;return Ee&&Ee.data&&(J.data=Ee.data),J}function Re(T){return{textDocument:i(T)}}function Ue(T){let J={name:T.name,kind:Ht(T.kind),uri:n(T.uri),range:te(T.range),selectionRange:te(T.selectionRange)};return T.detail!==void 0&&T.detail.length>0&&(J.detail=T.detail),T.tags!==void 0&&(J.tags=nr(T.tags)),T instanceof yj.default&&T.data!==void 0&&(J.data=T.data),J}function me(T){let J={name:T.name,kind:Ht(T.kind),uri:n(T.uri),range:te(T.range),selectionRange:te(T.selectionRange)};return T.detail!==void 0&&T.detail.length>0&&(J.detail=T.detail),T.tags!==void 0&&(J.tags=nr(T.tags)),T instanceof bj.default&&T.data!==void 0&&(J.data=T.data),J}function Ft(T){let J=T instanceof _j.default?{name:T.name,kind:Ht(T.kind),location:T.hasRange?he(T.location):{uri:r(T.location.uri)},data:T.data}:{name:T.name,kind:Ht(T.kind),location:he(T.location)};return T.tags!==void 0&&(J.tags=nr(T.tags)),T.containerName!==""&&(J.containerName=T.containerName),J}function zt(T){let J=typeof T.label=="string"?T.label:T.label.map(je),Ee=at.InlayHint.create(pe(T.position),J);return T.kind!==void 0&&(Ee.kind=T.kind),T.textEdits!==void 0&&(Ee.textEdits=Wt(T.textEdits)),T.tooltip!==void 0&&(Ee.tooltip=yr(T.tooltip)),T.paddingLeft!==void 0&&(Ee.paddingLeft=T.paddingLeft),T.paddingRight!==void 0&&(Ee.paddingRight=T.paddingRight),T instanceof xj.default&&T.data!==void 0&&(Ee.data=T.data),Ee}function je(T){let J=at.InlayHintLabelPart.create(T.value);return T.location!==void 0&&(J.location=he(T.location)),T.command!==void 0&&(J.command=ve(T.command)),T.tooltip!==void 0&&(J.tooltip=yr(T.tooltip)),J}function yr(T){return typeof T=="string"?T:{kind:at.MarkupKind.Markdown,value:T.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:p,asSaveTextDocumentParams:d,asWillSaveTextDocumentParams:m,asDidCreateFilesParams:g,asDidRenameFilesParams:y,asDidDeleteFilesParams:b,asWillCreateFilesParams:x,asWillRenameFilesParams:w,asWillDeleteFilesParams:C,asTextDocumentPositionParams:D,asCompletionParams:M,asSignatureHelpParams:ee,asWorkerPosition:xe,asRange:te,asRanges:de,asPosition:pe,asPositions:z,asPositionsSync:Z,asLocation:he,asDiagnosticSeverity:Pe,asDiagnosticTag:Be,asDiagnostic:ke,asDiagnostics:It,asDiagnosticsSync:jt,asCompletionItem:Ir,asTextEdit:Lr,asSymbolKind:Ht,asSymbolTag:ht,asSymbolTags:nr,asReferenceParams:Bt,asCodeAction:Mr,asCodeActionSync:jr,asCodeActionContext:lt,asCodeActionContextSync:Wr,asInlineValueContext:oe,asCommand:ve,asCodeLens:Qe,asFormattingOptions:tt,asDocumentSymbolParams:ot,asCodeLensParams:Ye,asDocumentLink:qe,asDocumentLinkParams:Re,asCallHierarchyItem:Ue,asTypeHierarchyItem:me,asInlayHint:zt,asWorkspaceSymbol:Ft,asInlineCompletionParams:fe}}Rl.createConverter=wj});var xS=$(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.createConverter=void 0;var Ce=require("vscode"),Ke=nt(),Yn=Kn(),Ot=Sl(),Cj=th(),Ej=ih(),Sj=ah(),Tj=lh(),bS=fh(),Rj=gh(),Pj=bh(),Dj=wh(),Ij=Sh(),_S=nt(),Pl;(function(t){function e(r){let n=r;return n&&Yn.string(n.language)&&Yn.string(n.value)}t.is=e})(Pl||(Pl={}));function Oj(t,e,r){let i=t||(h=>Ce.Uri.parse(h));function o(h){return i(h)}function s(h){let _=[];for(let R of h)if(typeof R=="string")_.push(R);else if(_S.NotebookCellTextDocumentFilter.is(R))if(typeof R.notebook=="string")_.push({notebookType:R.notebook,language:R.language});else{let P=R.notebook.notebookType??"*";_.push({notebookType:P,scheme:R.notebook.scheme,pattern:R.notebook.pattern,language:R.language})}else _S.TextDocumentFilter.is(R)&&_.push({language:R.language,scheme:R.scheme,pattern:R.pattern});return _}async function a(h,_){return Ot.map(h,u,_)}function c(h){let _=new Array(h.length);for(let R=0;R<h.length;R++)_[R]=u(h[R]);return _}function u(h){let _=new bS.ProtocolDiagnostic(m(h.range),h.message,y(h.severity),h.data);if(h.code!==void 0){if(typeof h.code=="string"||typeof h.code=="number")Ke.CodeDescription.is(h.codeDescription)?_.code={value:h.code,target:o(h.codeDescription.href)}:_.code=h.code;else if(bS.DiagnosticCode.is(h.code)){_.hasDiagnosticCode=!0;let R=h.code;_.code={value:R.value,target:o(R.target)}}}return h.source&&(_.source=h.source),h.relatedInformation&&(_.relatedInformation=l(h.relatedInformation)),Array.isArray(h.tags)&&(_.tags=p(h.tags)),_}function l(h){let _=new Array(h.length);for(let R=0;R<h.length;R++){let P=h[R];_[R]=new Ce.DiagnosticRelatedInformation(Pe(P.location),P.message)}return _}function p(h){if(!h)return;let _=[];for(let R of h){let P=d(R);P!==void 0&&_.push(P)}return _.length>0?_:void 0}function d(h){switch(h){case Ke.DiagnosticTag.Unnecessary:return Ce.DiagnosticTag.Unnecessary;case Ke.DiagnosticTag.Deprecated:return Ce.DiagnosticTag.Deprecated;default:return}}function f(h){return h?new Ce.Position(h.line,h.character):void 0}function m(h){return h?new Ce.Range(h.start.line,h.start.character,h.end.line,h.end.character):void 0}async function g(h,_){return Ot.map(h,R=>new Ce.Range(R.start.line,R.start.character,R.end.line,R.end.character),_)}function y(h){if(h==null)return Ce.DiagnosticSeverity.Error;switch(h){case Ke.DiagnosticSeverity.Error:return Ce.DiagnosticSeverity.Error;case Ke.DiagnosticSeverity.Warning:return Ce.DiagnosticSeverity.Warning;case Ke.DiagnosticSeverity.Information:return Ce.DiagnosticSeverity.Information;case Ke.DiagnosticSeverity.Hint:return Ce.DiagnosticSeverity.Hint}return Ce.DiagnosticSeverity.Error}function b(h){if(Yn.string(h))return w(h);if(Pl.is(h))return w().appendCodeblock(h.value,h.language);if(Array.isArray(h)){let _=[];for(let R of h){let P=w();Pl.is(R)?P.appendCodeblock(R.value,R.language):P.appendMarkdown(R),_.push(P)}return _}else return w(h)}function x(h){if(Yn.string(h))return h;switch(h.kind){case Ke.MarkupKind.Markdown:return w(h.value);case Ke.MarkupKind.PlainText:return h.value;default:return`Unsupported Markup content received. Kind is: ${h.kind}`}}function w(h){let _;if(h===void 0||typeof h=="string")_=new Ce.MarkdownString(h);else switch(h.kind){case Ke.MarkupKind.Markdown:_=new Ce.MarkdownString(h.value);break;case Ke.MarkupKind.PlainText:_=new Ce.MarkdownString,_.appendText(h.value);break;default:_=new Ce.MarkdownString,_.appendText(`Unsupported Markup content received. Kind is: ${h.kind}`);break}return _.isTrusted=e,_.supportHtml=r,_}function C(h){if(h)return new Ce.Hover(b(h.contents),m(h.range))}async function D(h,_,R){if(!h)return;if(Array.isArray(h))return Ot.map(h,le=>ne(le,_),R);let P=h,{defaultRange:U,commitCharacters:V}=N(P,_),ie=await Ot.map(P.items,le=>ne(le,V,U,P.itemDefaults?.insertTextMode,P.itemDefaults?.insertTextFormat,P.itemDefaults?.data),R);return new Ce.CompletionList(ie,P.isIncomplete)}function N(h,_){let R=h.itemDefaults?.editRange,P=h.itemDefaults?.commitCharacters??_;return Ke.Range.is(R)?{defaultRange:m(R),commitCharacters:P}:R!==void 0?{defaultRange:{inserting:m(R.insert),replacing:m(R.replace)},commitCharacters:P}:{defaultRange:void 0,commitCharacters:P}}function M(h){return Ke.CompletionItemKind.Text<=h&&h<=Ke.CompletionItemKind.TypeParameter?[h-1,void 0]:[Ce.CompletionItemKind.Text,h]}function F(h){switch(h){case Ke.CompletionItemTag.Deprecated:return Ce.CompletionItemTag.Deprecated}}function Q(h){if(h==null)return[];let _=[];for(let R of h){let P=F(R);P!==void 0&&_.push(P)}return _}function ne(h,_,R,P,U,V){let ie=Q(h.tags),le=X(h),Le=new Cj.default(le);h.detail&&(Le.detail=h.detail),h.documentation&&(Le.documentation=x(h.documentation),Le.documentationFormat=Yn.string(h.documentation)?"$string":h.documentation.kind),h.filterText&&(Le.filterText=h.filterText);let gt=H(h,R,U);if(gt&&(Le.insertText=gt.text,Le.range=gt.range,Le.fromEdit=gt.fromEdit),Yn.number(h.kind)){let[tf,Za]=M(h.kind);Le.kind=tf,Za&&(Le.originalItemKind=Za)}h.sortText&&(Le.sortText=h.sortText),h.additionalTextEdits&&(Le.additionalTextEdits=pe(h.additionalTextEdits));let st=h.commitCharacters!==void 0?Yn.stringArray(h.commitCharacters)?h.commitCharacters:void 0:_;st&&(Le.commitCharacters=st.slice()),h.command&&(Le.command=Wt(h.command)),(h.deprecated===!0||h.deprecated===!1)&&(Le.deprecated=h.deprecated,h.deprecated===!0&&ie.push(Ce.CompletionItemTag.Deprecated)),(h.preselect===!0||h.preselect===!1)&&(Le.preselect=h.preselect);let Je=h.data??V;Je!==void 0&&(Le.data=Je),ie.length>0&&(Le.tags=ie);let Mt=h.insertTextMode??P;return Mt!==void 0&&(Le.insertTextMode=Mt,Mt===Ke.InsertTextMode.asIs&&(Le.keepWhitespace=!0)),Le}function X(h){return Ke.CompletionItemLabelDetails.is(h.labelDetails)?{label:h.label,detail:h.labelDetails.detail,description:h.labelDetails.description}:h.label}function H(h,_,R){let P=h.insertTextFormat??R;if(h.textEdit!==void 0||_!==void 0){let[U,V]=h.textEdit!==void 0?ae(h.textEdit):[_,h.textEditText??h.label];return P===Ke.InsertTextFormat.Snippet?{text:new Ce.SnippetString(V),range:U,fromEdit:!0}:{text:V,range:U,fromEdit:!0}}else return h.insertText?P===Ke.InsertTextFormat.Snippet?{text:new Ce.SnippetString(h.insertText),fromEdit:!1}:{text:h.insertText,fromEdit:!1}:void 0}function ae(h){return Ke.InsertReplaceEdit.is(h)?[{inserting:m(h.insert),replacing:m(h.replace)},h.newText]:[m(h.range),h.newText]}function ee(h){if(h)return new Ce.TextEdit(m(h.range),h.newText)}async function xe(h,_){if(h)return Ot.map(h,ee,_)}function pe(h){if(!h)return;let _=new Array(h.length);for(let R=0;R<h.length;R++)_[R]=ee(h[R]);return _}async function z(h,_){if(!h)return;let R=new Ce.SignatureHelp;return Yn.number(h.activeSignature)?R.activeSignature=h.activeSignature:R.activeSignature=0,Yn.number(h.activeParameter)?R.activeParameter=h.activeParameter:R.activeParameter=0,h.signatures&&(R.signatures=await Z(h.signatures,_)),R}async function Z(h,_){return Ot.mapAsync(h,te,_)}async function te(h,_){let R=new Ce.SignatureInformation(h.label);return h.documentation!==void 0&&(R.documentation=x(h.documentation)),h.parameters!==void 0&&(R.parameters=await de(h.parameters,_)),h.activeParameter!==void 0&&(R.activeParameter=h.activeParameter),R}function de(h,_){return Ot.map(h,he,_)}function he(h){let _=new Ce.ParameterInformation(h.label);return h.documentation&&(_.documentation=x(h.documentation)),_}function Pe(h){return h?new Ce.Location(i(h.uri),m(h.range)):void 0}async function Te(h,_){if(h)return mt(h,_)}async function Be(h,_){if(h)return mt(h,_)}function We(h){if(!h)return;let _={targetUri:i(h.targetUri),targetRange:m(h.targetRange),originSelectionRange:m(h.originSelectionRange),targetSelectionRange:m(h.targetSelectionRange)};if(!_.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return _}async function mt(h,_){if(h)if(Yn.array(h)){if(h.length===0)return[];if(Ke.LocationLink.is(h[0])){let R=h;return Ot.map(R,We,_)}else{let R=h;return Ot.map(R,Pe,_)}}else return Ke.LocationLink.is(h)?[We(h)]:Pe(h)}async function it(h,_){if(h)return Ot.map(h,Pe,_)}async function ke(h,_){if(h)return Ot.map(h,It,_)}function It(h){let _=new Ce.DocumentHighlight(m(h.range));return Yn.number(h.kind)&&(_.kind=jt(h.kind)),_}function jt(h){switch(h){case Ke.DocumentHighlightKind.Text:return Ce.DocumentHighlightKind.Text;case Ke.DocumentHighlightKind.Read:return Ce.DocumentHighlightKind.Read;case Ke.DocumentHighlightKind.Write:return Ce.DocumentHighlightKind.Write}return Ce.DocumentHighlightKind.Text}async function Me(h,_){if(h)return Ot.map(h,Ir,_)}function we(h){return h<=Ke.SymbolKind.TypeParameter?h-1:Ce.SymbolKind.Property}function Fe(h){switch(h){case Ke.SymbolTag.Deprecated:return Ce.SymbolTag.Deprecated;default:return}}function et(h){if(h==null)return;let _=[];for(let R of h){let P=Fe(R);P!==void 0&&_.push(P)}return _.length===0?void 0:_}function Ir(h){let _=h.data,R=h.location,P=R.range===void 0||_!==void 0?new Dj.default(h.name,we(h.kind),h.containerName??"",R.range===void 0?i(R.uri):new Ce.Location(i(h.location.uri),m(R.range)),_):new Ce.SymbolInformation(h.name,we(h.kind),h.containerName??"",new Ce.Location(i(h.location.uri),m(R.range)));return Lr(P,h),P}async function Jr(h,_){if(h!=null)return Ot.map(h,ue,_)}function ue(h){let _=new Ce.DocumentSymbol(h.name,h.detail||"",we(h.kind),m(h.range),m(h.selectionRange));if(Lr(_,h),h.children!==void 0&&h.children.length>0){let R=[];for(let P of h.children)R.push(ue(P));_.children=R}return _}function Lr(h,_){h.tags=et(_.tags),_.deprecated&&(h.tags?h.tags.includes(Ce.SymbolTag.Deprecated)||(h.tags=h.tags.concat(Ce.SymbolTag.Deprecated)):h.tags=[Ce.SymbolTag.Deprecated])}function Wt(h){let _={title:h.title,command:h.command};return h.arguments&&(_.arguments=h.arguments),_}async function Ht(h,_){if(h)return Ot.map(h,Wt,_)}let ht=new Map;ht.set(Ke.CodeActionKind.Empty,Ce.CodeActionKind.Empty),ht.set(Ke.CodeActionKind.QuickFix,Ce.CodeActionKind.QuickFix),ht.set(Ke.CodeActionKind.Refactor,Ce.CodeActionKind.Refactor),ht.set(Ke.CodeActionKind.RefactorExtract,Ce.CodeActionKind.RefactorExtract),ht.set(Ke.CodeActionKind.RefactorInline,Ce.CodeActionKind.RefactorInline),ht.set(Ke.CodeActionKind.RefactorRewrite,Ce.CodeActionKind.RefactorRewrite),ht.set(Ke.CodeActionKind.Source,Ce.CodeActionKind.Source),ht.set(Ke.CodeActionKind.SourceOrganizeImports,Ce.CodeActionKind.SourceOrganizeImports);function nr(h){if(h==null)return;let _=ht.get(h);if(_)return _;let R=h.split(".");_=Ce.CodeActionKind.Empty;for(let P of R)_=_.append(P);return _}function Bt(h){if(h!=null)return h.map(_=>nr(_))}async function Mr(h,_){if(h==null)return;let R=new Tj.default(h.title,h.data);return h.kind!==void 0&&(R.kind=nr(h.kind)),h.diagnostics!==void 0&&(R.diagnostics=c(h.diagnostics)),h.edit!==void 0&&(R.edit=await Zt(h.edit,_)),h.command!==void 0&&(R.command=Wt(h.command)),h.isPreferred!==void 0&&(R.isPreferred=h.isPreferred),h.disabled!==void 0&&(R.disabled={reason:h.disabled.reason}),R}function jr(h,_){return Ot.mapAsync(h,async R=>Ke.Command.is(R)?Wt(R):Mr(R,_),_)}function lt(h){if(!h)return;let _=new Ej.default(m(h.range));return h.command&&(_.command=Wt(h.command)),h.data!==void 0&&h.data!==null&&(_.data=h.data),_}async function Wr(h,_){if(h)return Ot.map(h,lt,_)}async function Zt(h,_){if(!h)return;let R=new Map;if(h.changeAnnotations!==void 0){let V=h.changeAnnotations;await Ot.forEach(Object.keys(V),ie=>{let le=q(V[ie]);R.set(ie,le)},_)}let P=V=>{if(V!==void 0)return R.get(V)},U=new Ce.WorkspaceEdit;if(h.documentChanges){let V=h.documentChanges;await Ot.forEach(V,ie=>{if(Ke.CreateFile.is(ie))U.createFile(i(ie.uri),ie.options,P(ie.annotationId));else if(Ke.RenameFile.is(ie))U.renameFile(i(ie.oldUri),i(ie.newUri),ie.options,P(ie.annotationId));else if(Ke.DeleteFile.is(ie))U.deleteFile(i(ie.uri),ie.options,P(ie.annotationId));else if(Ke.TextDocumentEdit.is(ie)){let le=i(ie.textDocument.uri);for(let Le of ie.edits)Ke.AnnotatedTextEdit.is(Le)?U.replace(le,m(Le.range),Le.newText,P(Le.annotationId)):U.replace(le,m(Le.range),Le.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(ie,void 0,4)}`)},_)}else if(h.changes){let V=h.changes;await Ot.forEach(Object.keys(V),ie=>{U.set(i(ie),pe(V[ie]))},_)}return U}function q(h){if(h!==void 0)return{label:h.label,needsConfirmation:!!h.needsConfirmation,description:h.description}}function oe(h){let _=m(h.range),R=h.target?o(h.target):void 0,P=new Sj.default(_,R);return h.tooltip!==void 0&&(P.tooltip=h.tooltip),h.data!==void 0&&h.data!==null&&(P.data=h.data),P}async function fe(h,_){if(h)return Ot.map(h,oe,_)}function ve(h){return new Ce.Color(h.red,h.green,h.blue,h.alpha)}function Qe(h){return new Ce.ColorInformation(m(h.range),ve(h.color))}async function tt(h,_){if(h)return Ot.map(h,Qe,_)}function ot(h){let _=new Ce.ColorPresentation(h.label);return _.additionalTextEdits=pe(h.additionalTextEdits),h.textEdit&&(_.textEdit=ee(h.textEdit)),_}async function Ye(h,_){if(h)return Ot.map(h,ot,_)}function qe(h){if(h)switch(h){case Ke.FoldingRangeKind.Comment:return Ce.FoldingRangeKind.Comment;case Ke.FoldingRangeKind.Imports:return Ce.FoldingRangeKind.Imports;case Ke.FoldingRangeKind.Region:return Ce.FoldingRangeKind.Region}}function Re(h){return new Ce.FoldingRange(h.startLine,h.endLine,qe(h.kind))}async function Ue(h,_){if(h)return Ot.map(h,Re,_)}function me(h){return new Ce.SelectionRange(m(h.range),h.parent?me(h.parent):void 0)}async function Ft(h,_){return Array.isArray(h)?Ot.map(h,me,_):[]}function zt(h){return Ke.InlineValueText.is(h)?new Ce.InlineValueText(m(h.range),h.text):Ke.InlineValueVariableLookup.is(h)?new Ce.InlineValueVariableLookup(m(h.range),h.variableName,h.caseSensitiveLookup):new Ce.InlineValueEvaluatableExpression(m(h.range),h.expression)}async function je(h,_){return Array.isArray(h)?Ot.map(h,zt,_):[]}async function yr(h,_){let R=typeof h.label=="string"?h.label:await Ot.map(h.label,T,_),P=new Ij.default(f(h.position),R);return h.kind!==void 0&&(P.kind=h.kind),h.textEdits!==void 0&&(P.textEdits=await xe(h.textEdits,_)),h.tooltip!==void 0&&(P.tooltip=J(h.tooltip)),h.paddingLeft!==void 0&&(P.paddingLeft=h.paddingLeft),h.paddingRight!==void 0&&(P.paddingRight=h.paddingRight),h.data!==void 0&&(P.data=h.data),P}function T(h){let _=new Ce.InlayHintLabelPart(h.value);return h.location!==void 0&&(_.location=Pe(h.location)),h.tooltip!==void 0&&(_.tooltip=J(h.tooltip)),h.command!==void 0&&(_.command=Wt(h.command)),_}function J(h){return typeof h=="string"?h:w(h)}async function Ee(h,_){if(Array.isArray(h))return Ot.mapAsync(h,yr,_)}function bt(h){if(h===null)return;let _=new Rj.default(we(h.kind),h.name,h.detail||"",o(h.uri),m(h.range),m(h.selectionRange),h.data);return h.tags!==void 0&&(_.tags=et(h.tags)),_}async function W(h,_){if(h!==null)return Ot.map(h,bt,_)}async function S(h,_){return new Ce.CallHierarchyIncomingCall(bt(h.from),await g(h.fromRanges,_))}async function L(h,_){if(h!==null)return Ot.mapAsync(h,S,_)}async function j(h,_){return new Ce.CallHierarchyOutgoingCall(bt(h.to),await g(h.fromRanges,_))}async function I(h,_){if(h!==null)return Ot.mapAsync(h,j,_)}async function E(h,_){if(h!=null)return new Ce.SemanticTokens(new Uint32Array(h.data),h.resultId)}function Y(h){return new Ce.SemanticTokensEdit(h.start,h.deleteCount,h.data!==void 0?new Uint32Array(h.data):void 0)}async function se(h,_){if(h!=null)return new Ce.SemanticTokensEdits(h.edits.map(Y),h.resultId)}function ze(h){return h}async function Nt(h,_){if(h!=null)return new Ce.LinkedEditingRanges(await g(h.ranges,_),xt(h.wordPattern))}function xt(h){if(h!=null)return new RegExp(h)}function Kt(h){if(h===null)return;let _=new Pj.default(we(h.kind),h.name,h.detail||"",o(h.uri),m(h.range),m(h.selectionRange),h.data);return h.tags!==void 0&&(_.tags=et(h.tags)),_}async function Tr(h,_){if(h!==null)return Ot.map(h,Kt,_)}function ir(h){if(Yn.string(h))return h;if(Ke.RelativePattern.is(h)){if(Ke.URI.is(h.baseUri))return new Ce.RelativePattern(o(h.baseUri),h.pattern);if(Ke.WorkspaceFolder.is(h.baseUri)){let _=Ce.workspace.getWorkspaceFolder(o(h.baseUri.uri));return _!==void 0?new Ce.RelativePattern(_,h.pattern):void 0}}}async function rt(h,_){if(!h)return;if(Array.isArray(h))return Ot.map(h,U=>v(U),_);let R=h,P=await Ot.map(R.items,U=>v(U),_);return new Ce.InlineCompletionList(P)}function v(h){let _;typeof h.insertText=="string"?_=h.insertText:_=new Ce.SnippetString(h.insertText.value);let R;h.command&&(R=Wt(h.command));let P=new Ce.InlineCompletionItem(_,m(h.range),R);return h.filterText&&(P.filterText=h.filterText),P}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:u,asRange:m,asRanges:g,asPosition:f,asDiagnosticSeverity:y,asDiagnosticTag:d,asHover:C,asCompletionResult:D,asCompletionItem:ne,asTextEdit:ee,asTextEdits:xe,asSignatureHelp:z,asSignatureInformations:Z,asSignatureInformation:te,asParameterInformations:de,asParameterInformation:he,asDeclarationResult:Te,asDefinitionResult:Be,asLocation:Pe,asReferences:it,asDocumentHighlights:ke,asDocumentHighlight:It,asDocumentHighlightKind:jt,asSymbolKind:we,asSymbolTag:Fe,asSymbolTags:et,asSymbolInformations:Me,asSymbolInformation:Ir,asDocumentSymbols:Jr,asDocumentSymbol:ue,asCommand:Wt,asCommands:Ht,asCodeAction:Mr,asCodeActionKind:nr,asCodeActionKinds:Bt,asCodeActionResult:jr,asCodeLens:lt,asCodeLenses:Wr,asWorkspaceEdit:Zt,asDocumentLink:oe,asDocumentLinks:fe,asFoldingRangeKind:qe,asFoldingRange:Re,asFoldingRanges:Ue,asColor:ve,asColorInformation:Qe,asColorInformations:tt,asColorPresentation:ot,asColorPresentations:Ye,asSelectionRange:me,asSelectionRanges:Ft,asInlineValue:zt,asInlineValues:je,asInlayHint:yr,asInlayHints:Ee,asSemanticTokensLegend:ze,asSemanticTokens:E,asSemanticTokensEdit:Y,asSemanticTokensEdits:se,asCallHierarchyItem:bt,asCallHierarchyItems:W,asCallHierarchyIncomingCall:S,asCallHierarchyIncomingCalls:L,asCallHierarchyOutgoingCall:j,asCallHierarchyOutgoingCalls:I,asLinkedEditingRanges:Nt,asTypeHierarchyItem:Kt,asTypeHierarchyItems:Tr,asGlobPattern:ir,asInlineCompletionResult:rt,asInlineCompletionItem:v}}Dl.createConverter=Oj});var ur=$(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.generateUuid=Zn.parse=Zn.isUUID=Zn.v4=Zn.empty=void 0;var _c=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},xc=class t extends _c{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};xc._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];xc._timeHighBits=["8","9","a","b"];Zn.empty=new _c("00000000-0000-0000-0000-000000000000");function wS(){return new xc}Zn.v4=wS;var Aj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function CS(t){return Aj.test(t)}Zn.isUUID=CS;function kj(t){if(!CS(t))throw new Error("invalid uuid");return new _c(t)}Zn.parse=kj;function Nj(){return wS().asHex()}Zn.generateUuid=Nj});var Ph=$(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.ProgressPart=void 0;var ES=require("vscode"),SS=nt(),TS=Kn(),Rh=class{constructor(e,r,n){this._client=e,this._token=r,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(SS.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&ES.window.withProgress({location:ES.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(r,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=r,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(SS.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&TS.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(TS.number(e.percentage)){let r=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,r-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Il.ProgressPart=Rh});var Pt=$(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.WorkspaceFeature=Ur.TextDocumentLanguageFeature=Ur.TextDocumentEventFeature=Ur.DynamicDocumentFeature=Ur.DynamicFeature=Ur.StaticFeature=Ur.ensure=Ur.LSPCancellationError=void 0;var Ho=require("vscode"),Dh=nt(),hn=Kn(),RS=ur(),Ih=class extends Ho.CancellationError{constructor(e){super(),this.data=e}};Ur.LSPCancellationError=Ih;function Mj(t,e){return t[e]===void 0&&(t[e]={}),t[e]}Ur.ensure=Mj;var PS;(function(t){function e(r){let n=r;return n!=null&&hn.func(n.fillClientCapabilities)&&hn.func(n.initialize)&&hn.func(n.getState)&&hn.func(n.clear)&&(n.fillInitializeParams===void 0||hn.func(n.fillInitializeParams))}t.is=e})(PS||(Ur.StaticFeature=PS={}));var DS;(function(t){function e(r){let n=r;return n!=null&&hn.func(n.fillClientCapabilities)&&hn.func(n.initialize)&&hn.func(n.getState)&&hn.func(n.clear)&&(n.fillInitializeParams===void 0||hn.func(n.fillInitializeParams))&&hn.func(n.register)&&hn.func(n.unregister)&&n.registrationType!==void 0}t.is=e})(DS||(Ur.DynamicFeature=DS={}));var wc=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),r=0;for(let i of e){r++;for(let o of Ho.workspace.textDocuments)if(Ho.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=r>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};Ur.DynamicDocumentFeature=wc;var Oh=class extends wc{static textDocumentFilter(e,r){for(let n of e)if(Ho.languages.match(n,r)>0)return!0;return!1}constructor(e,r,n,i,o,s,a){super(e),this._event=r,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new Ho.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(r=>{this.callback(r).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let r=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>r(i)):r(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,r,n){this._onNotificationSent.fire({textDocument:e,type:r,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let r of this._selectors.values())if(Ho.languages.match(r,e)>0)return{send:n=>this.callback(n)}}};Ur.TextDocumentEventFeature=Oh;var Ah=class extends wc{constructor(e,r){super(e),this._registrationType=r,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let r=e.data.registerOptions.documentSelector;r!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(r))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let r=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:r[0],data:e,provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,r){if(r){if(Dh.TextDocumentRegistrationOptions.is(r)){let n=Dh.StaticRegistrationOptions.hasId(r)?r.id:RS.generateUuid(),i=r.documentSelector??e;if(i)return[n,Object.assign({},r,{documentSelector:i})]}else if(hn.boolean(r)&&r===!0||Dh.WorkDoneProgressOptions.is(r)){if(!e)return[void 0,void 0];let n=hn.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e});return[RS.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,r){if(!(!e||!r))return hn.boolean(r)&&r===!0?{documentSelector:e}:Object.assign({},r,{documentSelector:e})}getProvider(e){for(let r of this._registrations.values()){let n=r.data.registerOptions.documentSelector;if(n!==null&&Ho.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return r.provider}}getAllProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}};Ur.TextDocumentLanguageFeature=Ah;var kh=class{constructor(e,r){this._client=e,this._registrationType=r,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let r=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:r[0],provider:r[1]})}unregister(e){let r=this._registrations.get(e);r!==void 0&&r.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let r of this._registrations.values())e.push(r.provider);return e}};Ur.WorkspaceFeature=kh});var OS=$((O6,IS)=>{var qj=typeof process=="object"&&process&&process.platform==="win32";IS.exports=qj?{sep:"\\"}:{sep:"/"}});var qS=$((A6,MS)=>{"use strict";MS.exports=kS;function kS(t,e,r){t instanceof RegExp&&(t=AS(t,r)),e instanceof RegExp&&(e=AS(e,r));var n=NS(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function AS(t,e){var r=e.match(t);return r?r[0]:null}kS.range=NS;function NS(t,e,r){var n,i,o,s,a,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];for(n=[],o=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var zS=$((k6,BS)=>{var LS=qS();BS.exports=Fj;var jS="\0SLASH"+Math.random()+"\0",FS="\0OPEN"+Math.random()+"\0",Mh="\0CLOSE"+Math.random()+"\0",US="\0COMMA"+Math.random()+"\0",$S="\0PERIOD"+Math.random()+"\0";function Nh(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Lj(t){return t.split("\\\\").join(jS).split("\\{").join(FS).split("\\}").join(Mh).split("\\,").join(US).split("\\.").join($S)}function jj(t){return t.split(jS).join("\\").split(FS).join("{").split(Mh).join("}").split(US).join(",").split($S).join(".")}function HS(t){if(!t)return[""];var e=[],r=LS("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=HS(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Fj(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Cc(Lj(t),!0).map(jj)):[]}function Uj(t){return"{"+t+"}"}function $j(t){return/^-?0\d/.test(t)}function Hj(t,e){return t<=e}function Bj(t,e){return t>=e}function Cc(t,e){var r=[],n=LS("{","}",t);if(!n)return[t];var i=n.pre,o=n.post.length?Cc(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<o.length;s++){var a=i+"{"+n.body+"}"+o[s];r.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=c||u,p=n.body.indexOf(",")>=0;if(!l&&!p)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+Mh+n.post,Cc(t)):[t];var d;if(l)d=n.body.split(/\.\./);else if(d=HS(n.body),d.length===1&&(d=Cc(d[0],!1).map(Uj),d.length===1))return o.map(function(ne){return n.pre+d[0]+ne});var f;if(l){var m=Nh(d[0]),g=Nh(d[1]),y=Math.max(d[0].length,d[1].length),b=d.length==3?Math.abs(Nh(d[2])):1,x=Hj,w=g<m;w&&(b*=-1,x=Bj);var C=d.some($j);f=[];for(var D=m;x(D,g);D+=b){var N;if(u)N=String.fromCharCode(D),N==="\\"&&(N="");else if(N=String(D),C){var M=y-N.length;if(M>0){var F=new Array(M+1).join("0");D<0?N="-"+F+N.slice(1):N=F+N}}f.push(N)}}else{f=[];for(var Q=0;Q<d.length;Q++)f.push.apply(f,Cc(d[Q],!1))}for(var Q=0;Q<f.length;Q++)for(var s=0;s<o.length;s++){var a=i+f[Q]+o[s];(!e||l||a)&&r.push(a)}}return r}});var Al=$((M6,Uh)=>{var Ln=Uh.exports=(t,e,r={})=>(Ol(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Zs(e,r).match(t));Uh.exports=Ln;var jh=OS();Ln.sep=jh.sep;var pi=Symbol("globstar **");Ln.GLOBSTAR=pi;var zj=zS(),VS={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Fh="[^/]",qh=Fh+"*?",Vj="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Wj="(?:(?!(?:\\/|^)\\.).)*?",KS=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),WS=KS("().*{}+?[]^$\\!"),Gj=KS("[.("),GS=/\/+/;Ln.filter=(t,e={})=>(r,n,i)=>Ln(r,t,e);var po=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};Ln.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Ln;let e=Ln,r=(n,i,o)=>e(n,i,po(t,o));return r.Minimatch=class extends e.Minimatch{constructor(i,o){super(i,po(t,o))}},r.Minimatch.defaults=n=>e.defaults(po(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,po(t,i)),r.defaults=n=>e.defaults(po(t,n)),r.makeRe=(n,i)=>e.makeRe(n,po(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,po(t,i)),r.match=(n,i,o)=>e.match(n,i,po(t,o)),r};Ln.braceExpand=(t,e)=>XS(t,e);var XS=(t,e={})=>(Ol(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:zj(t)),Kj=1024*64,Ol=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Kj)throw new TypeError("pattern is too long")},Lh=Symbol("subparse");Ln.makeRe=(t,e)=>new Zs(t,e||{}).makeRe();Ln.match=(t,e,r={})=>{let n=new Zs(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var Xj=t=>t.replace(/\\(.)/g,"$1"),Qj=t=>t.replace(/\\([^-\]])/g,"$1"),Yj=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Zj=t=>t.replace(/[[\]\\]/g,"\\$&"),Zs=class{constructor(e,r){Ol(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(GS)),this.debug(this.pattern,n),n=n.map((i,o,s)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,s=0,a=e.length,c=r.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u=r[s],l=e[o];if(this.debug(r,u,l),u===!1)return!1;if(u===pi){this.debug("GLOBSTAR",[r,u,l]);var p=o,d=s+1;if(d===c){for(this.debug("** at the end");o<a;o++)if(e[o]==="."||e[o]===".."||!i.dot&&e[o].charAt(0)===".")return!1;return!0}for(;p<a;){var f=e[p];if(this.debug(`
globstar while`,e,p,r,d,f),this.matchOne(e.slice(p),r.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,p,r,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,p,r,d),p===a))}var m;if(typeof u=="string"?(m=l===u,this.debug("string match",u,l,m)):(m=l.match(u),this.debug("pattern match",u,l,m)),!m)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&e[o]==="";throw new Error("wtf?")}braceExpand(){return XS(this.pattern,this.options)}parse(e,r){Ol(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return pi;if(e==="")return"";let i="",o=!1,s=!1,a=[],c=[],u,l=!1,p=-1,d=-1,f,m,g,y=e.charAt(0)===".",b=n.dot||y,x=()=>y?"":b?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=M=>M.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",C=()=>{if(u){switch(u){case"*":i+=qh,o=!0;break;case"?":i+=Fh,o=!0;break;default:i+="\\"+u;break}this.debug("clearStateChar %j %j",u,i),u=!1}};for(let M=0,F;M<e.length&&(F=e.charAt(M));M++){if(this.debug("%s	%s %s %j",e,M,i,F),s){if(F==="/")return!1;WS[F]&&(i+="\\"),i+=F,s=!1;continue}switch(F){case"/":return!1;case"\\":if(l&&e.charAt(M+1)==="-"){i+=F;continue}C(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,M,i,F),l){this.debug("  in class"),F==="!"&&M===d+1&&(F="^"),i+=F;continue}this.debug("call clearStateChar %j",u),C(),u=F,n.noext&&C();continue;case"(":{if(l){i+="(";continue}if(!u){i+="\\(";continue}let Q={type:u,start:M-1,reStart:i.length,open:VS[u].open,close:VS[u].close};this.debug(this.pattern,"	",Q),a.push(Q),i+=Q.open,Q.start===0&&Q.type!=="!"&&(y=!0,i+=w(e.slice(M+1))),this.debug("plType %j %j",u,i),u=!1;continue}case")":{let Q=a[a.length-1];if(l||!Q){i+="\\)";continue}a.pop(),C(),o=!0,m=Q,i+=m.close,m.type==="!"&&c.push(Object.assign(m,{reEnd:i.length}));continue}case"|":{let Q=a[a.length-1];if(l||!Q){i+="\\|";continue}C(),i+="|",Q.start===0&&Q.type!=="!"&&(y=!0,i+=w(e.slice(M+1)));continue}case"[":if(C(),l){i+="\\"+F;continue}l=!0,d=M,p=i.length,i+=F;continue;case"]":if(M===d+1||!l){i+="\\"+F;continue}f=e.substring(d+1,M);try{RegExp("["+Zj(Qj(f))+"]"),i+=F}catch{i=i.substring(0,p)+"(?:$.)"}o=!0,l=!1;continue;default:C(),WS[F]&&!(F==="^"&&l)&&(i+="\\"),i+=F;break}}for(l&&(f=e.slice(d+1),g=this.parse(f,Lh),i=i.substring(0,p)+"\\["+g[0],o=o||g[1]),m=a.pop();m;m=a.pop()){let M;M=i.slice(m.reStart+m.open.length),this.debug("setting tail",i,m),M=M.replace(/((?:\\{2}){0,64})(\\?)\|/g,(Q,ne,X)=>(X||(X="\\"),ne+ne+X+"|")),this.debug(`tail=%j
   %s`,M,M,m,i);let F=m.type==="*"?qh:m.type==="?"?Fh:"\\"+m.type;o=!0,i=i.slice(0,m.reStart)+F+"\\("+M}C(),s&&(i+="\\\\");let D=Gj[i.charAt(0)];for(let M=c.length-1;M>-1;M--){let F=c[M],Q=i.slice(0,F.reStart),ne=i.slice(F.reStart,F.reEnd-8),X=i.slice(F.reEnd),H=i.slice(F.reEnd-8,F.reEnd)+X,ae=Q.split(")").length,ee=Q.split("(").length-ae,xe=X;for(let z=0;z<ee;z++)xe=xe.replace(/\)[+*?]?/,"");X=xe;let pe=X===""&&r!==Lh?"(?:$|\\/)":"";i=Q+ne+X+pe+H}if(i!==""&&o&&(i="(?=.)"+i),D&&(i=x()+i),r===Lh)return[i,o];if(n.nocase&&!o&&(o=e.toUpperCase()!==e.toLowerCase()),!o)return Xj(e);let N=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",N),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?qh:r.dot?Vj:Wj,i=r.nocase?"i":"",o=e.map(s=>(s=s.map(a=>typeof a=="string"?Yj(a):a===pi?pi:a._src).reduce((a,c)=>(a[a.length-1]===pi&&c===pi||a.push(c),a),[]),s.forEach((a,c)=>{a!==pi||s[c-1]===pi||(c===0?s.length>1?s[c+1]="(?:\\/|"+n+"\\/)?"+s[c+1]:s[c]=n:c===s.length-1?s[c-1]+="(?:\\/|"+n+")?":(s[c-1]+="(?:\\/|\\/"+n+"\\/)"+s[c+1],s[c+1]=pi))}),s.filter(a=>a!==pi).join("/"))).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;jh.sep!=="/"&&(e=e.split(jh.sep).join("/")),e=e.split(GS),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let o;for(let s=e.length-1;s>=0&&(o=e[s],!o);s--);for(let s=0;s<i.length;s++){let a=i[s],c=e;if(n.matchBase&&a.length===1&&(c=[o]),this.matchOne(c,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Ln.defaults(e).Minimatch}};Ln.Minimatch=Zs});var Kh=$(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.DiagnosticFeature=fo.DiagnosticPullMode=fo.vsdiag=void 0;var Jj=Al(),wt=require("vscode"),xr=nt(),eF=ur(),$h=Pt();function kl(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Jn;(function(t){let e;(function(r){r.full="full",r.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(Jn||(fo.vsdiag=Jn={}));var Nl;(function(t){t.onType="onType",t.onSave="onSave"})(Nl||(fo.DiagnosticPullMode=Nl={}));var on;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(on||(on={}));var Hh=class t{constructor(){this.open=new Set,this._onOpen=new wt.EventEmitter,this._onClose=new wt.EventEmitter,t.fillTabResources(this.open);let e=r=>{if(r.closed.length===0&&r.opened.length===0)return;let n=this.open,i=new Set;t.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(wt.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(wt.Uri.parse(c));this._onOpen.fire(a)}};wt.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=wt.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof wt.Uri?wt.window.activeTextEditor?.document.uri===e:wt.window.activeTextEditor?.document===e}isVisible(e){let r=e instanceof wt.Uri?e:e.uri;return this.open.has(r.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,r){let n=e??new Set;for(let i of wt.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof wt.TabInputText?a=s.uri:s instanceof wt.TabInputTextDiff?a=s.modified:s instanceof wt.TabInputCustom&&(a=s.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),r!==void 0&&r.add(a))}}},qr;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(qr||(qr={}));var Li;(function(t){function e(r){return r instanceof wt.Uri?r.toString():r.uri.toString()}t.asKey=e})(Li||(Li={}));var Bh=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,r,n){let i=e===qr.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=r instanceof wt.Uri?[r.toString(),r,n]:[r.uri.toString(),r.uri,r.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,r,n,i){let o=e===qr.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=r instanceof wt.Uri?[r.toString(),r,n,i]:[r.uri.toString(),r.uri,r.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,r){let n=Li.asKey(r);(e===qr.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,r){let n=Li.asKey(r);return(e===qr.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,r){let n=Li.asKey(r);return(e===qr.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[r,n]of this.workspacePullStates)this.documentPullStates.has(r)&&(n=this.documentPullStates.get(r)),n.resultId!==void 0&&e.push({uri:r,value:n.resultId});return e}},zh=class{constructor(e,r,n){this.client=e,this.tabs=r,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new wt.EventEmitter,this.provider=this.createProvider(),this.diagnostics=wt.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new Bh,this.workspaceErrorCounter=0}knows(e,r){let n=r instanceof wt.Uri?r:r.uri;return this.documentStates.tracks(e,r)||this.openRequests.has(n.toString())}forget(e,r){this.documentStates.unTrack(e,r)}pull(e,r){if(this.isDisposed)return;let n=e instanceof wt.Uri?e:e.uri;this.pullAsync(e).then(()=>{r&&r()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,r){if(this.isDisposed)return;let n=e instanceof wt.Uri,i=n?e:e.uri,o=i.toString();r=n?r:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(qr.document,e,r):this.documentStates.track(qr.document,e);if(s===void 0){let c=new wt.CancellationTokenSource;this.openRequests.set(o,{state:on.active,document:e,version:r,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Jn.DocumentDiagnosticReportKind.full,items:[]}}catch(p){if(p instanceof $h.LSPCancellationError&&xr.DiagnosticServerCancellationData.is(p.data)&&p.data.retriggerRequest===!1&&(l={state:on.outDated,document:e}),l===void 0&&p instanceof wt.CancellationError)l={state:on.reschedule,document:e};else throw p}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(qr.document,e);return}if(l.state===on.outDated)return;u!==void 0&&(u.kind===Jn.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=r,a.resultId=u.resultId),l.state===on.reschedule&&this.pull(e)}else s.state===on.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:on.reschedule,document:s.document})):s.state===on.outDated&&this.openRequests.set(o,{state:on.reschedule,document:s.document})}forgetDocument(e){let r=e instanceof wt.Uri?e:e.uri,n=r.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:on.reschedule,document:e}):this.pull(e,()=>{this.forget(qr.document,e)}):(i!==void 0&&(i.state===on.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:on.outDated,document:e})),this.diagnostics.delete(r),this.forget(qr.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,xr.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof $h.LSPCancellationError)&&!xr.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,xr.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new wt.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(r=>({uri:this.client.protocol2CodeConverter.asUri(r.uri),value:r.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,r=>{if(!(!r||this.isDisposed))for(let n of r.items)n.kind===Jn.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(qr.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(qr.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(r,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof wt.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Jn.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(xr.DocumentDiagnosticRequest.type,l,u).then(async p=>p==null||this.isDisposed||u.isCancellationRequested?{kind:Jn.DocumentDiagnosticReportKind.full,items:[]}:p.kind===xr.DocumentDiagnosticReportKind.Full?{kind:Jn.DocumentDiagnosticReportKind.full,resultId:p.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(p.items,u)}:{kind:Jn.DocumentDiagnosticReportKind.unChanged,resultId:p.resultId},p=>this.client.handleFailedRequest(xr.DocumentDiagnosticRequest.type,u,p,{kind:Jn.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(r,n,i,o):o(r,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(r,n,i)=>{let o=async u=>u.kind===xr.DocumentDiagnosticReportKind.Full?{kind:Jn.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:Jn.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let p of u)l.push({uri:this.client.code2ProtocolConverter.asUri(p.uri),value:p.value});return l},a=(u,l)=>{let p=(0,eF.generateUuid)(),d=this.client.onProgress(xr.WorkspaceDiagnosticRequest.partialResult,p,async m=>{if(m==null){i(null);return}let g={items:[]};for(let y of m.items)try{g.items.push(await o(y))}catch(b){this.client.error("Converting workspace diagnostics failed.",b)}i(g)}),f={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:p};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(xr.WorkspaceDiagnosticRequest.type,f,l).then(async m=>{if(l.isCancellationRequested)return{items:[]};let g={items:[]};for(let y of m.items)g.items.push(await o(y));return d.dispose(),i(g),{items:[]}},m=>(d.dispose(),this.client.handleFailedRequest(xr.DocumentDiagnosticRequest.type,l,m,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(r,n,i,a):a(r,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,r]of this.openRequests)r.state===on.active&&r.tokenSource.cancel(),this.openRequests.set(e,{state:on.outDated,document:r.document});this.diagnostics.dispose()}},Vh=class{constructor(e){this.diagnosticRequestor=e,this.documents=new xr.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let r=Li.asKey(e);this.documents.has(r)||(this.documents.set(r,e,xr.Touch.Last),this.trigger())}remove(e){let r=Li.asKey(e);this.documents.delete(r),this.documents.size===0?this.stop():r===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,xr.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let r=Li.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(r,e,xr.Touch.Last),r===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Li.asKey(this.endDocument):void 0}},Wh=class{constructor(e,r,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=m=>{let g=n.documentSelector;if(i.match!==void 0)return i.match(g,m);for(let y of g)if(xr.TextDocumentFilter.is(y)){if(typeof y=="string"||y.language!==void 0&&y.language!=="*"||y.scheme!==void 0&&y.scheme!=="*"&&y.scheme!==m.scheme)return!1;if(y.pattern!==void 0){let b=new Jj.Minimatch(y.pattern,{noext:!0});if(!b.makeRe()||!b.match(m.fsPath))return!1}}return!0},c=m=>m instanceof wt.Uri?a(m):wt.languages.match(o,m)>0&&r.isVisible(m),u=m=>m instanceof wt.Uri?this.activeTextDocument?.uri.toString()===m.toString():this.activeTextDocument===m;this.diagnosticRequestor=new zh(e,r,n),this.backgroundScheduler=new Vh(this.diagnosticRequestor);let l=m=>{!c(m)||!n.interFileDependencies||u(m)||this.backgroundScheduler.add(m)};this.activeTextDocument=wt.window.activeTextEditor?.document,wt.window.onDidChangeActiveTextEditor(m=>{let g=this.activeTextDocument;this.activeTextDocument=m?.document,g!==void 0&&l(g),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let p=e.getFeature(xr.DidOpenTextDocumentNotification.method);s.push(p.onNotificationSent(m=>{let g=m.textDocument;this.diagnosticRequestor.knows(qr.document,g)||c(g)&&this.diagnosticRequestor.pull(g,()=>{l(g)})})),s.push(r.onOpen(m=>{for(let g of m){if(this.diagnosticRequestor.knows(qr.document,g))continue;let y=g.toString(),b;for(let x of wt.workspace.textDocuments)if(y===x.uri.toString()){b=x;break}b!==void 0&&c(b)&&this.diagnosticRequestor.pull(b,()=>{l(b)})}}));let d=new Set;for(let m of wt.workspace.textDocuments)c(m)&&(this.diagnosticRequestor.pull(m,()=>{l(m)}),d.add(m.uri.toString()));if(i.onTabs===!0)for(let m of r.getTabResources())!d.has(m.toString())&&c(m)&&this.diagnosticRequestor.pull(m,()=>{l(m)});if(i.onChange===!0){let m=e.getFeature(xr.DidChangeTextDocumentNotification.method);s.push(m.onNotificationSent(async g=>{let y=g.textDocument;(i.filter===void 0||!i.filter(y,Nl.onType))&&this.diagnosticRequestor.knows(qr.document,y)&&this.diagnosticRequestor.pull(y,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let m=e.getFeature(xr.DidSaveTextDocumentNotification.method);s.push(m.onNotificationSent(g=>{let y=g.textDocument;(i.filter===void 0||!i.filter(y,Nl.onSave))&&this.diagnosticRequestor.knows(qr.document,y)&&this.diagnosticRequestor.pull(g.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let f=e.getFeature(xr.DidCloseTextDocumentNotification.method);s.push(f.onNotificationSent(m=>{this.cleanUpDocument(m.textDocument)})),r.onClose(m=>{for(let g of m)this.cleanUpDocument(g)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let m of wt.workspace.textDocuments)c(m)&&this.diagnosticRequestor.pull(m)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=wt.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(qr.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},Gh=class extends $h.TextDocumentLanguageFeature{constructor(e){super(e,xr.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let r=kl(kl(e,"textDocument"),"diagnostic");r.dynamicRegistration=!0,r.relatedDocumentSupport=!1,kl(kl(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,r){this._client.onRequest(xr.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(r,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Hh);let r=new Wh(this._client,this.tabs,e);return[r.disposable,r]}};fo.DiagnosticFeature=Gh});var ZS=$(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.NotebookDocumentSyncFeature=void 0;var sn=require("vscode"),tF=Al(),ji=nt(),rF=ur(),QS=Kn();function YS(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Js;(function(t){let e;(function(r){function n(d,f){return{version:d.version,uri:f.asUri(d.uri)}}r.asVersionedNotebookDocumentIdentifier=n;function i(d,f,m){let g=ji.NotebookDocument.create(m.asUri(d.uri),d.notebookType,d.version,o(f,m));return Object.keys(d.metadata).length>0&&(g.metadata=s(d.metadata)),g}r.asNotebookDocument=i;function o(d,f){return d.map(m=>a(m,f))}r.asNotebookCells=o;function s(d){return u(new Set,d)}r.asMetadata=s;function a(d,f){let m=ji.NotebookCell.create(c(d.kind),f.asUri(d.document.uri));return Object.keys(d.metadata).length>0&&(m.metadata=s(d.metadata)),d.executionSummary!==void 0&&QS.number(d.executionSummary.executionOrder)&&QS.boolean(d.executionSummary.success)&&(m.executionSummary={executionOrder:d.executionSummary.executionOrder,success:d.executionSummary.success}),m}r.asNotebookCell=a;function c(d){switch(d){case sn.NotebookCellKind.Markup:return ji.NotebookCellKind.Markup;case sn.NotebookCellKind.Code:return ji.NotebookCellKind.Code}}function u(d,f){if(d.has(f))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(f)){let m=[];for(let g of f)if(g!==null&&typeof g=="object"||Array.isArray(g))m.push(u(d,g));else{if(g instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");m.push(g)}return m}else{let m=Object.keys(f),g=Object.create(null);for(let y of m){let b=f[y];if(b!==null&&typeof b=="object"||Array.isArray(b))g[y]=u(d,b);else{if(b instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");g[y]=b}}return g}}function l(d,f){let m=f.asChangeTextDocumentParams(d,d.document.uri,d.document.version);return{document:m.textDocument,changes:m.contentChanges}}r.asTextContentChange=l;function p(d,f){let m=Object.create(null);if(d.metadata&&(m.metadata=t.c2p.asMetadata(d.metadata)),d.cells!==void 0){let g=Object.create(null),y=d.cells;y.structure&&(g.structure={array:{start:y.structure.array.start,deleteCount:y.structure.array.deleteCount,cells:y.structure.array.cells!==void 0?y.structure.array.cells.map(b=>t.c2p.asNotebookCell(b,f)):void 0},didOpen:y.structure.didOpen!==void 0?y.structure.didOpen.map(b=>f.asOpenTextDocumentParams(b.document).textDocument):void 0,didClose:y.structure.didClose!==void 0?y.structure.didClose.map(b=>f.asCloseTextDocumentParams(b.document).textDocument):void 0}),y.data!==void 0&&(g.data=y.data.map(b=>t.c2p.asNotebookCell(b,f))),y.textContent!==void 0&&(g.textContent=y.textContent.map(b=>t.c2p.asTextContentChange(b,f))),Object.keys(g).length>0&&(m.cells=g)}return m}r.asNotebookDocumentChangeEvent=p})(e=t.c2p||(t.c2p={}))})(Js||(Js={}));var Xh;(function(t){function e(a,c,u){let l=a.length,p=c.length,d=0;for(;d<p&&d<l&&r(a[d],c[d],u);)d++;if(d<p&&d<l){let f=l-1,m=p-1;for(;f>=0&&m>=0&&r(a[f],c[m],u);)f--,m--;let g=f+1-d,y=d===m+1?void 0:c.slice(d,m+1);return y!==void 0?{start:d,deleteCount:g,cells:y}:{start:d,deleteCount:g}}else return d<p?{start:d,deleteCount:0,cells:c.slice(d)}:d<l?{start:d,deleteCount:l-d}:void 0}t.computeDiff=e;function r(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let p=0;p<a.length;p++)if(!o(a[p],c[p]))return!1}if(s(a)&&s(c)){let p=Object.keys(a),d=Object.keys(c);if(p.length!==d.length||(p.sort(),d.sort(),!o(p,d)))return!1;for(let f=0;f<p.length;f++){let m=p[f];if(!o(a[m],c[m]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=s})(Xh||(Xh={}));var Qh;(function(t){function e(r,n){if(typeof r=="string")return r==="*"||n.notebookType===r;if(r.notebookType!==void 0&&r.notebookType!=="*"&&n.notebookType!==r.notebookType)return!1;let i=n.uri;if(r.scheme!==void 0&&r.scheme!=="*"&&i.scheme!==r.scheme)return!1;if(r.pattern!==void 0){let o=new tF.Minimatch(r.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}t.matchNotebook=e})(Qh||(Qh={}));var Ml;(function(t){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(r(a,c,u,l.language));else o.push(r(a,c,u,void 0))}return o}t.asDocumentSelector=e;function r(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(Ml||(Ml={}));var ql;(function(t){function e(r){return{cells:r,uris:new Set(r.map(n=>n.document.uri.toString()))}}t.create=e})(ql||(ql={}));var ea=class{constructor(e,r){this.client=e,this.options=r,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Ml.asDocumentSelector(r)),sn.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of sn.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);sn.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&sn.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),sn.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of sn.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return sn.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,r){if(sn.languages.match(this.selector,r.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,r);if(n!==void 0){let o=n.uris.has(r.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[r]).catch(()=>{})}didChangeNotebookCellTextDocument(e,r){sn.languages.match(this.selector,r.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[r]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,r){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=r.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,r=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(r!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,r);i!==void 0&&this.doSendChange(i,r).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(r===void 0)return;this.doSendOpen(e,r).catch(()=>{})}}didChangeNotebookDocument(e){let r=e.notebook,n=this.notebookSyncInfo.get(r.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(r);if(i===void 0)return;this.didOpen(r,i,n)}else{let i=this.getMatchingCells(r);if(i===void 0){this.didClose(r,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,r=this.notebookSyncInfo.get(e.uri.toString())){if(r===void 0)return;let n=e.getCells().filter(i=>r.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let r=this.getMatchingCells(e);if(r!==void 0)return this.doSendOpen(e,r)}async doSendOpen(e,r){let n=async(o,s)=>{let a=Js.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),c=s.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(ji.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),ql.create(r)),i?.didOpen!==void 0?i.didOpen(e,r,n):n(e,r)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,r=this.getMatchingCells(e.notebook)){let n=async o=>{try{await this.client.sendNotification(ji.DidChangeNotebookDocumentNotification.type,{notebookDocument:Js.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:Js.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),ql.create(r??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let r=async i=>{try{await this.client.sendNotification(ji.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,r):r(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,r){let n=async(o,s)=>{try{await this.client.sendNotification(ji.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,r,n):n(e,r)}asNotebookDocumentChangeEvent(e,r,n,i){if(r!==void 0&&r.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};r?.metadata!==void 0&&(o.metadata=Js.c2p.asMetadata(r.metadata));let s;if(r?.cellChanges!==void 0&&r.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of r.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((r?.contentChanges!==void 0&&r.contentChanges.length>0||r===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=Xh.computeDiff(a,c,!1),l,p;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(m=>[m.document.uri.toString(),m])),p=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(m=>[m.document.uri.toString(),m]));for(let m of Array.from(p.keys()))l.has(m)&&(p.delete(m),l.delete(m));o.cells=o.cells??{};let d=[],f=[];if(l.size>0||p.size>0){for(let m of l.values())d.push(m);for(let m of p.values())f.push(m)}o.cells.structure={array:u,didOpen:d,didClose:f}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,r=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||Qh.matchNotebook(n.notebook,e)){let i=this.filterCells(e,r,n.cells);return i.length===0?void 0:i}}}cellMatches(e,r){let n=this.getMatchingCells(e,[r]);return n!==void 0&&n[0]===r}filterCells(e,r,n){let i=n!==void 0?r.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):r;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},Ll=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=ji.NotebookDocumentSyncRegistrationType.type,sn.workspace.onDidOpenTextDocument(r=>{if(r.uri.scheme!==t.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(r);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof ea&&o.didOpenNotebookCellTextDocument(n,i)}),sn.workspace.onDidChangeTextDocument(r=>{if(r.contentChanges.length===0)return;let n=r.document;if(n.uri.scheme!==t.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let o of this.registrations.values())o instanceof ea&&o.didChangeNotebookCellTextDocument(i,r)}),sn.workspace.onDidCloseTextDocument(r=>{if(r.uri.scheme!==t.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(r);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof ea&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let r=e.getState();if(r.kind==="document"&&r.registrations===!0&&r.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let r=YS(YS(e,"notebookDocument"),"synchronization");r.dynamicRegistration=!0,r.executionSummarySupport=!0}preInitialize(e){let r=e.notebookDocumentSync;r!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Ml.asDocumentSelector(r)))}initialize(e){let r=e.notebookDocumentSync;if(r===void 0)return;let n=r.id??rF.generateUuid();this.register({id:n,registerOptions:r})}register(e){let r=new ea(this.client,e.registerOptions);this.registrations.set(e.id,r)}unregister(e){let r=this.registrations.get(e);r&&r.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&sn.languages.match(this.dedicatedChannel,e)>0)return!0;for(let r of this.registrations.values())if(r.handles(e))return!0;return!1}getProvider(e){for(let r of this.registrations.values())if(r.handles(e.document))return r}findNotebookDocumentAndCell(e){let r=e.uri.toString();for(let n of sn.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===r)return[n,i];return[void 0,void 0]}};jl.NotebookDocumentSyncFeature=Ll;Ll.CellScheme="vscode-notebook-cell"});var eT=$(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.SyncConfigurationFeature=mo.toJSONObject=mo.ConfigurationFeature=void 0;var ta=require("vscode"),Ec=nt(),nF=Kn(),iF=ur(),JS=Pt(),Yh=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Ec.ConfigurationRequest.type,(r,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(r,n,i):i(r,n)})}getConfiguration(e,r){let n=null;if(r){let i=r.lastIndexOf(".");if(i===-1)n=Bo(ta.workspace.getConfiguration(void 0,e).get(r));else{let o=ta.workspace.getConfiguration(r.substr(0,i),e);o&&(n=Bo(o.get(r.substr(i+1))))}}else{let i=ta.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=Bo(i.get(o)))}return n===void 0&&(n=null),n}clear(){}};mo.ConfigurationFeature=Yh;function Bo(t){if(t){if(Array.isArray(t))return t.map(Bo);if(typeof t=="object"){let e=Object.create(null);for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Bo(t[r]));return e}}return t}mo.toJSONObject=Bo;var Zh=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Ec.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,JS.ensure)((0,JS.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:iF.generateUuid(),registerOptions:{section:e}})}register(e){let r=ta.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,r),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let r=this._listeners.get(e);r&&(this._listeners.delete(e),r.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,r){if(this.isCleared)return;let n;if(nF.string(e)?n=[e]:n=e,n!==void 0&&r!==void 0&&!n.some(a=>r.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(Ec.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(Ec.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${Ec.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function r(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=ta.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=ta.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");r(i,u)[u[u.length-1]]=Bo(c)}}return i}};mo.SyncConfigurationFeature=Zh});var tT=$(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.DidSaveTextDocumentFeature=Sn.WillSaveWaitUntilFeature=Sn.WillSaveFeature=Sn.DidChangeTextDocumentFeature=Sn.DidCloseTextDocumentFeature=Sn.DidOpenTextDocumentFeature=void 0;var jn=require("vscode"),Qt=nt(),dr=Pt(),ra=ur(),Jh=class extends dr.TextDocumentEventFeature{constructor(e,r){super(e,jn.workspace.onDidOpenTextDocument,Qt.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,dr.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=r}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,dr.ensure)((0,dr.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:ra.generateUuid(),registerOptions:{documentSelector:r}})}get registrationType(){return Qt.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let r=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);jn.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&jn.languages.match(r,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(n,s):s(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}getTextDocument(e){return e}notificationSent(e,r,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,r,n)}};Sn.DidOpenTextDocumentFeature=Jh;var eg=class extends dr.TextDocumentEventFeature{constructor(e,r,n){super(e,jn.workspace.onDidCloseTextDocument,Qt.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,dr.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=r,this._pendingTextDocumentChanges=n}get registrationType(){return Qt.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,dr.ensure)((0,dr.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.openClose&&this.register({id:ra.generateUuid(),registerOptions:{documentSelector:r}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,r,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,r,n)}unregister(e){let r=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(jn.languages.match(r,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Sn.DidCloseTextDocumentFeature=eg;var tg=class extends dr.DynamicDocumentFeature{constructor(e,r){super(e),this._changeData=new Map,this._onNotificationSent=new jn.EventEmitter,this._onPendingChangeAdded=new jn.EventEmitter,this._pendingTextDocumentChanges=r,this._syncKind=Qt.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Qt.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,dr.ensure)((0,dr.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.change!==void 0&&n.change!==Qt.TextDocumentSyncKind.None&&this.register({id:ra.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=jn.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let r=e.document.uri,n=e.document.version,i=[];for(let o of this._changeData.values())if(jn.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===Qt.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,r,n);await this._client.sendNotification(Qt.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,Qt.DidChangeTextDocumentNotification.type,u)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===Qt.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${Qt.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,r,n){this._onNotificationSent.fire({textDocument:e,type:r,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Qt.TextDocumentSyncKind.None;else{this._syncKind=Qt.TextDocumentSyncKind.None;for(let r of this._changeData.values())if(this.updateSyncKind(r.syncKind),this._syncKind===Qt.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Qt.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let r;if(e.size===0)r=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{r=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(r.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return r}getProvider(e){for(let r of this._changeData.values())if(jn.languages.match(r.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==Qt.TextDocumentSyncKind.Full)switch(e){case Qt.TextDocumentSyncKind.Full:this._syncKind=e;break;case Qt.TextDocumentSyncKind.Incremental:this._syncKind===Qt.TextDocumentSyncKind.None&&(this._syncKind=Qt.TextDocumentSyncKind.Incremental);break}}};Sn.DidChangeTextDocumentFeature=tg;var rg=class extends dr.TextDocumentEventFeature{constructor(e){super(e,jn.workspace.onWillSaveTextDocument,Qt.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,r=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(r),r=>r.document,(r,n)=>dr.TextDocumentEventFeature.textDocumentFilter(r,n.document))}get registrationType(){return Qt.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let r=(0,dr.ensure)((0,dr.ensure)(e,"textDocument"),"synchronization");r.willSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSave&&this.register({id:ra.generateUuid(),registerOptions:{documentSelector:r}})}getTextDocument(e){return e.document}};Sn.WillSaveFeature=rg;var ng=class extends dr.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Qt.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let r=(0,dr.ensure)((0,dr.ensure)(e,"textDocument"),"synchronization");r.willSaveWaitUntil=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;r&&n&&n.willSaveWaitUntil&&this.register({id:ra.generateUuid(),registerOptions:{documentSelector:r}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=jn.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(dr.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let r=this._client.middleware,n=i=>this._client.sendRequest(Qt.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(r.willSaveWaitUntil?r.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Sn.WillSaveWaitUntilFeature=ng;var ig=class extends dr.TextDocumentEventFeature{constructor(e){super(e,jn.workspace.onDidSaveTextDocument,Qt.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,r=>e.code2ProtocolConverter.asSaveTextDocumentParams(r,this._includeText),r=>r,dr.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Qt.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,dr.ensure)((0,dr.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,r){let n=e.resolvedTextDocumentSync;if(r&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:ra.generateUuid(),registerOptions:Object.assign({},{documentSelector:r},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};Sn.DidSaveTextDocumentFeature=ig});var rT=$(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.CompletionItemFeature=void 0;var oF=require("vscode"),Ct=nt(),og=Pt(),sF=ur(),aF=[Ct.CompletionItemKind.Text,Ct.CompletionItemKind.Method,Ct.CompletionItemKind.Function,Ct.CompletionItemKind.Constructor,Ct.CompletionItemKind.Field,Ct.CompletionItemKind.Variable,Ct.CompletionItemKind.Class,Ct.CompletionItemKind.Interface,Ct.CompletionItemKind.Module,Ct.CompletionItemKind.Property,Ct.CompletionItemKind.Unit,Ct.CompletionItemKind.Value,Ct.CompletionItemKind.Enum,Ct.CompletionItemKind.Keyword,Ct.CompletionItemKind.Snippet,Ct.CompletionItemKind.Color,Ct.CompletionItemKind.File,Ct.CompletionItemKind.Reference,Ct.CompletionItemKind.Folder,Ct.CompletionItemKind.EnumMember,Ct.CompletionItemKind.Constant,Ct.CompletionItemKind.Struct,Ct.CompletionItemKind.Event,Ct.CompletionItemKind.Operator,Ct.CompletionItemKind.TypeParameter],sg=class extends og.TextDocumentLanguageFeature{constructor(e){super(e,Ct.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let r=(0,og.ensure)((0,og.ensure)(e,"textDocument"),"completion");r.dynamicRegistration=!0,r.contextSupport=!0,r.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Ct.MarkupKind.Markdown,Ct.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Ct.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Ct.InsertTextMode.asIs,Ct.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},r.insertTextMode=Ct.InsertTextMode.adjustIndentation,r.completionItemKind={valueSet:aF},r.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,r){let n=this.getRegistrationOptions(r,e.completionProvider);n&&this.register({id:sF.generateUuid(),registerOptions:n})}registerLanguageProvider(e,r){this.labelDetailsSupport.set(r,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let p=this._client,d=this._client.middleware,f=(m,g,y,b)=>p.sendRequest(Ct.CompletionRequest.type,p.code2ProtocolConverter.asCompletionParams(m,g,y),b).then(x=>b.isCancellationRequested?null:p.protocol2CodeConverter.asCompletionResult(x,i,b),x=>p.handleFailedRequest(Ct.CompletionRequest.type,b,x,null));return d.provideCompletionItem?d.provideCompletionItem(a,c,l,u,f):f(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,p=(d,f)=>u.sendRequest(Ct.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(d,!!this.labelDetailsSupport.get(r)),f).then(m=>f.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(m),m=>u.handleFailedRequest(Ct.CompletionResolveRequest.type,f,m,d));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,p):p(a,c)}:void 0};return[oF.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};Fl.CompletionItemFeature=sg});var nT=$(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.HoverFeature=void 0;var cF=require("vscode"),Sc=nt(),ag=Pt(),uF=ur(),cg=class extends ag.TextDocumentLanguageFeature{constructor(e){super(e,Sc.HoverRequest.type)}fillClientCapabilities(e){let r=(0,ag.ensure)((0,ag.ensure)(e,"textDocument"),"hover");r.dynamicRegistration=!0,r.contentFormat=[Sc.MarkupKind.Markdown,Sc.MarkupKind.PlainText]}initialize(e,r){let n=this.getRegistrationOptions(r,e.hoverProvider);n&&this.register({id:uF.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,p,d)=>a.sendRequest(Sc.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asHover(f),f=>a.handleFailedRequest(Sc.HoverRequest.type,d,f,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return cF.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Ul.HoverFeature=cg});var iT=$($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.DefinitionFeature=void 0;var lF=require("vscode"),ug=nt(),lg=Pt(),pF=ur(),pg=class extends lg.TextDocumentLanguageFeature{constructor(e){super(e,ug.DefinitionRequest.type)}fillClientCapabilities(e){let r=(0,lg.ensure)((0,lg.ensure)(e,"textDocument"),"definition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.definitionProvider);n&&this.register({id:pF.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,p,d)=>a.sendRequest(ug.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(f,d),f=>a.handleFailedRequest(ug.DefinitionRequest.type,d,f,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return lF.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};$l.DefinitionFeature=pg});var sT=$(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.SignatureHelpFeature=void 0;var oT=require("vscode"),Tc=nt(),dg=Pt(),dF=ur(),fg=class extends dg.TextDocumentLanguageFeature{constructor(e){super(e,Tc.SignatureHelpRequest.type)}fillClientCapabilities(e){let r=(0,dg.ensure)((0,dg.ensure)(e,"textDocument"),"signatureHelp");r.dynamicRegistration=!0,r.signatureInformation={documentationFormat:[Tc.MarkupKind.Markdown,Tc.MarkupKind.PlainText]},r.signatureInformation.parameterInformation={labelOffsetSupport:!0},r.signatureInformation.activeParameterSupport=!0,r.contextSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.signatureHelpProvider);n&&this.register({id:dF.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,p,d,f)=>a.sendRequest(Tc.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,p,d),f).then(m=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(m,f),m=>a.handleFailedRequest(Tc.SignatureHelpRequest.type,f,m,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,r),r]}registerProvider(e,r){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return oT.languages.registerSignatureHelpProvider(n,r,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return oT.languages.registerSignatureHelpProvider(n,r,i)}}};Hl.SignatureHelpFeature=fg});var aT=$(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.DocumentHighlightFeature=void 0;var fF=require("vscode"),mg=nt(),hg=Pt(),mF=ur(),gg=class extends hg.TextDocumentLanguageFeature{constructor(e){super(e,mg.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,hg.ensure)((0,hg.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentHighlightProvider);n&&this.register({id:mF.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,p,d)=>a.sendRequest(mg.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(f,d),f=>a.handleFailedRequest(mg.DocumentHighlightRequest.type,d,f,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[fF.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Bl.DocumentHighlightFeature=gg});var bg=$(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.DocumentSymbolFeature=Di.SupportedSymbolTags=Di.SupportedSymbolKinds=void 0;var hF=require("vscode"),$t=nt(),vg=Pt(),gF=ur();Di.SupportedSymbolKinds=[$t.SymbolKind.File,$t.SymbolKind.Module,$t.SymbolKind.Namespace,$t.SymbolKind.Package,$t.SymbolKind.Class,$t.SymbolKind.Method,$t.SymbolKind.Property,$t.SymbolKind.Field,$t.SymbolKind.Constructor,$t.SymbolKind.Enum,$t.SymbolKind.Interface,$t.SymbolKind.Function,$t.SymbolKind.Variable,$t.SymbolKind.Constant,$t.SymbolKind.String,$t.SymbolKind.Number,$t.SymbolKind.Boolean,$t.SymbolKind.Array,$t.SymbolKind.Object,$t.SymbolKind.Key,$t.SymbolKind.Null,$t.SymbolKind.EnumMember,$t.SymbolKind.Struct,$t.SymbolKind.Event,$t.SymbolKind.Operator,$t.SymbolKind.TypeParameter];Di.SupportedSymbolTags=[$t.SymbolTag.Deprecated];var yg=class extends vg.TextDocumentLanguageFeature{constructor(e){super(e,$t.DocumentSymbolRequest.type)}fillClientCapabilities(e){let r=(0,vg.ensure)((0,vg.ensure)(e,"textDocument"),"documentSymbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:Di.SupportedSymbolKinds},r.hierarchicalDocumentSymbolSupport=!0,r.tagSupport={valueSet:Di.SupportedSymbolTags},r.labelSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentSymbolProvider);n&&this.register({id:gF.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(l,p)=>{try{let d=await a.sendRequest($t.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),p);if(p.isCancellationRequested||d===void 0||d===null)return null;if(d.length===0)return[];{let f=d[0];return $t.DocumentSymbol.is(f)?await a.protocol2CodeConverter.asDocumentSymbols(d,p):await a.protocol2CodeConverter.asSymbolInformations(d,p)}}catch(d){return a.handleFailedRequest($t.DocumentSymbolRequest.type,p,d,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[hF.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,i),n]}};Di.DocumentSymbolFeature=yg});var uT=$(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.WorkspaceSymbolFeature=void 0;var vF=require("vscode"),Rc=nt(),_g=Pt(),cT=bg(),yF=ur(),xg=class extends _g.WorkspaceFeature{constructor(e){super(e,Rc.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let r=(0,_g.ensure)((0,_g.ensure)(e,"workspace"),"symbol");r.dynamicRegistration=!0,r.symbolKind={valueSet:cT.SupportedSymbolKinds},r.tagSupport={valueSet:cT.SupportedSymbolTags},r.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:yF.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let r={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(Rc.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(Rc.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(Rc.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(Rc.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[vF.languages.registerWorkspaceSymbolProvider(r),r]}};zl.WorkspaceSymbolFeature=xg});var lT=$(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.ReferencesFeature=void 0;var bF=require("vscode"),wg=nt(),Cg=Pt(),_F=ur(),Eg=class extends Cg.TextDocumentLanguageFeature{constructor(e){super(e,wg.ReferencesRequest.type)}fillClientCapabilities(e){(0,Cg.ensure)((0,Cg.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.referencesProvider);n&&this.register({id:_F.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(p,d,f,m)=>c.sendRequest(wg.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(p,d,f),m).then(g=>m.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(g,m),g=>c.handleFailedRequest(wg.ReferencesRequest.type,m,g,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return bF.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};Vl.ReferencesFeature=Eg});var pT=$(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.CodeActionFeature=void 0;var xF=require("vscode"),Fn=nt(),wF=ur(),Sg=Pt(),Tg=class extends Sg.TextDocumentLanguageFeature{constructor(e){super(e,Fn.CodeActionRequest.type)}fillClientCapabilities(e){let r=(0,Sg.ensure)((0,Sg.ensure)(e,"textDocument"),"codeAction");r.dynamicRegistration=!0,r.isPreferredSupport=!0,r.disabledSupport=!0,r.dataSupport=!0,r.resolveSupport={properties:["edit"]},r.codeActionLiteralSupport={codeActionKind:{valueSet:[Fn.CodeActionKind.Empty,Fn.CodeActionKind.QuickFix,Fn.CodeActionKind.Refactor,Fn.CodeActionKind.RefactorExtract,Fn.CodeActionKind.RefactorInline,Fn.CodeActionKind.RefactorRewrite,Fn.CodeActionKind.Source,Fn.CodeActionKind.SourceOrganizeImports]}},r.honorsChangeAnnotations=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.codeActionProvider);n&&this.register({id:wF.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(p,d,f,m)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),range:c.code2ProtocolConverter.asRange(d),context:c.code2ProtocolConverter.asCodeActionContextSync(f)};return c.sendRequest(Fn.CodeActionRequest.type,g,m).then(y=>m.isCancellationRequested||y===null||y===void 0?null:c.protocol2CodeConverter.asCodeActionResult(y,m),y=>c.handleFailedRequest(Fn.CodeActionRequest.type,m,y,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Fn.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(u),l).then(p=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(p,l),p=>s.handleFailedRequest(Fn.CodeActionResolveRequest.type,l,p,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[xF.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};Wl.CodeActionFeature=Tg});var fT=$(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.CodeLensFeature=void 0;var dT=require("vscode"),na=nt(),CF=ur(),Pc=Pt(),Rg=class extends Pc.TextDocumentLanguageFeature{constructor(e){super(e,na.CodeLensRequest.type)}fillClientCapabilities(e){(0,Pc.ensure)((0,Pc.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,Pc.ensure)((0,Pc.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,r){this._client.onRequest(na.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(r,e.codeLensProvider);i&&this.register({id:CF.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new dT.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,p)=>a.sendRequest(na.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(d,p),d=>a.handleFailedRequest(na.CodeLensRequest.type,p,d,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,p)=>a.sendRequest(na.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),p).then(d=>p.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(d),d=>a.handleFailedRequest(na.CodeLensResolveRequest.type,p,d,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[dT.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Gl.CodeLensFeature=Rg});var mT=$(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.DocumentOnTypeFormattingFeature=ho.DocumentRangeFormattingFeature=ho.DocumentFormattingFeature=void 0;var Kl=require("vscode"),di=nt(),Og=ur(),Fi=Pt(),ia;(function(t){function e(r){let n=Kl.workspace.getConfiguration("files",r);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}t.fromConfiguration=e})(ia||(ia={}));var Pg=class extends Fi.TextDocumentLanguageFeature{constructor(e){super(e,di.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Fi.ensure)((0,Fi.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentFormattingProvider);n&&this.register({id:Og.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,p,d)=>{let f={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(p,ia.fromConfiguration(l))};return a.sendRequest(di.DocumentFormattingRequest.type,f,d).then(m=>d.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(m,d),m=>a.handleFailedRequest(di.DocumentFormattingRequest.type,d,m,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[Kl.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};ho.DocumentFormattingFeature=Pg;var Dg=class extends Fi.TextDocumentLanguageFeature{constructor(e){super(e,di.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let r=(0,Fi.ensure)((0,Fi.ensure)(e,"textDocument"),"rangeFormatting");r.dynamicRegistration=!0,r.rangesSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentRangeFormattingProvider);n&&this.register({id:Og.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(p,d,f,m)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),range:c.code2ProtocolConverter.asRange(d),options:c.code2ProtocolConverter.asFormattingOptions(f,ia.fromConfiguration(p))};return c.sendRequest(di.DocumentRangeFormattingRequest.type,g,m).then(y=>m.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(y,m),y=>c.handleFailedRequest(di.DocumentRangeFormattingRequest.type,m,y,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,u=(p,d,f,m)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),ranges:c.code2ProtocolConverter.asRanges(d),options:c.code2ProtocolConverter.asFormattingOptions(f,ia.fromConfiguration(p))};return c.sendRequest(di.DocumentRangesFormattingRequest.type,g,m).then(y=>m.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(y,m),y=>c.handleFailedRequest(di.DocumentRangesFormattingRequest.type,m,y,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,o,s,a,u):u(i,o,s,a)}),[Kl.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};ho.DocumentRangeFormattingFeature=Dg;var Ig=class extends Fi.TextDocumentLanguageFeature{constructor(e){super(e,di.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Fi.ensure)((0,Fi.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentOnTypeFormattingProvider);n&&this.register({id:Og.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,p=(f,m,g,y,b)=>{let x={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(f),position:l.code2ProtocolConverter.asPosition(m),ch:g,options:l.code2ProtocolConverter.asFormattingOptions(y,ia.fromConfiguration(f))};return l.sendRequest(di.DocumentOnTypeFormattingRequest.type,x,b).then(w=>b.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(w,b),w=>l.handleFailedRequest(di.DocumentOnTypeFormattingRequest.type,b,w,null))},d=l.middleware;return d.provideOnTypeFormattingEdits?d.provideOnTypeFormattingEdits(o,s,a,c,u,p):p(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[Kl.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n,e.firstTriggerCharacter,...i),n]}};ho.DocumentOnTypeFormattingFeature=Ig});var gT=$(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.RenameFeature=void 0;var EF=require("vscode"),zo=nt(),SF=ur(),hT=Kn(),Ag=Pt(),kg=class extends Ag.TextDocumentLanguageFeature{constructor(e){super(e,zo.RenameRequest.type)}fillClientCapabilities(e){let r=(0,Ag.ensure)((0,Ag.ensure)(e,"textDocument"),"rename");r.dynamicRegistration=!0,r.prepareSupport=!0,r.prepareSupportDefaultBehavior=zo.PrepareSupportDefaultBehavior.Identifier,r.honorsChangeAnnotations=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.renameProvider);n&&(hT.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:SF.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let r=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(p,d,f,m)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),position:c.code2ProtocolConverter.asPosition(d),newName:f};return c.sendRequest(zo.RenameRequest.type,g,m).then(y=>m.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(y,m),y=>c.handleFailedRequest(zo.RenameRequest.type,m,y,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,p,d)=>{let f={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(p)};return a.sendRequest(zo.PrepareRenameRequest.type,f,d).then(m=>d.isCancellationRequested?null:zo.Range.is(m)?a.protocol2CodeConverter.asRange(m):this.isDefaultBehavior(m)?m.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):m&&zo.Range.is(m.range)?{range:a.protocol2CodeConverter.asRange(m.range),placeholder:m.placeholder}:Promise.reject(new Error("The element can't be renamed.")),m=>{throw typeof m.message=="string"?new Error(m.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(r,n),n]}registerProvider(e,r){return EF.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}isDefaultBehavior(e){let r=e;return r&&hT.boolean(r.defaultBehavior)}};Xl.RenameFeature=kg});var vT=$(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.DocumentLinkFeature=void 0;var TF=require("vscode"),Dc=nt(),Ng=Pt(),RF=ur(),Mg=class extends Ng.TextDocumentLanguageFeature{constructor(e){super(e,Dc.DocumentLinkRequest.type)}fillClientCapabilities(e){let r=(0,Ng.ensure)((0,Ng.ensure)(e,"textDocument"),"documentLink");r.dynamicRegistration=!0,r.tooltipSupport=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.documentLinkProvider);n&&this.register({id:RF.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(Dc.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(p=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(p,l),p=>s.handleFailedRequest(Dc.DocumentLinkRequest.type,l,p,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(Dc.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(p=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(p),p=>s.handleFailedRequest(Dc.DocumentLinkResolveRequest.type,l,p,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[TF.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};Ql.DocumentLinkFeature=Mg});var bT=$(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.ExecuteCommandFeature=void 0;var PF=require("vscode"),qg=nt(),DF=ur(),yT=Pt(),Lg=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return qg.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,yT.ensure)((0,yT.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:DF.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let r=this._client,n=r.middleware,i=(o,s)=>{let a={command:o,arguments:s};return r.sendRequest(qg.ExecuteCommandRequest.type,a).then(void 0,c=>r.handleFailedRequest(qg.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(PF.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let r=this._commands.get(e);r&&r.forEach(n=>n.dispose())}clear(){this._commands.forEach(e=>{e.forEach(r=>r.dispose())}),this._commands.clear()}};Yl.ExecuteCommandFeature=Lg});var _T=$(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.FileSystemWatcherFeature=void 0;var IF=require("vscode"),Vo=nt(),Zl=Pt(),jg=class{constructor(e,r){this._client=e,this._notifyFileEvent=r,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Vo.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Zl.ensure)((0,Zl.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Zl.ensure)((0,Zl.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,r){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let r=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&Vo.WatchKind.Create)!==0,s=(n.kind&Vo.WatchKind.Change)!==0,a=(n.kind&Vo.WatchKind.Delete)!==0);let c=IF.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,r),r.push(c)}this._watchers.set(e.id,r)}registerRaw(e,r){let n=[];for(let i of r)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,r,n,i,o){r&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Vo.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Vo.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:Vo.FileChangeType.Deleted}),null,o)}unregister(e){let r=this._watchers.get(e);if(r)for(let n of r)n.dispose()}clear(){this._watchers.forEach(e=>{for(let r of e)r.dispose()}),this._watchers.clear()}};Jl.FileSystemWatcherFeature=jg});var xT=$(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.ColorProviderFeature=void 0;var OF=require("vscode"),Ic=nt(),Fg=Pt(),Ug=class extends Fg.TextDocumentLanguageFeature{constructor(e){super(e,Ic.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Fg.ensure)((0,Fg.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,p,d)=>{let f={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(p.document),range:a.code2ProtocolConverter.asRange(p.range)};return a.sendRequest(Ic.ColorPresentationRequest.type,f,d).then(m=>d.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(m,d),m=>a.handleFailedRequest(Ic.ColorPresentationRequest.type,d,m,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let p={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(Ic.DocumentColorRequest.type,p,l).then(d=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(d,l),d=>s.handleFailedRequest(Ic.DocumentColorRequest.type,l,d,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[OF.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};ep.ColorProviderFeature=Ug});var wT=$(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.ImplementationFeature=void 0;var AF=require("vscode"),$g=nt(),Hg=Pt(),Bg=class extends Hg.TextDocumentLanguageFeature{constructor(e){super(e,$g.ImplementationRequest.type)}fillClientCapabilities(e){let r=(0,Hg.ensure)((0,Hg.ensure)(e,"textDocument"),"implementation");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,p,d)=>a.sendRequest($g.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(f,d),f=>a.handleFailedRequest($g.ImplementationRequest.type,d,f,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return AF.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};tp.ImplementationFeature=Bg});var CT=$(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.TypeDefinitionFeature=void 0;var kF=require("vscode"),zg=nt(),Oc=Pt(),Vg=class extends Oc.TextDocumentLanguageFeature{constructor(e){super(e,zg.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,Oc.ensure)((0,Oc.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let r=(0,Oc.ensure)((0,Oc.ensure)(e,"textDocument"),"typeDefinition");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,p,d)=>a.sendRequest(zg.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(f,d),f=>a.handleFailedRequest(zg.TypeDefinitionRequest.type,d,f,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return kF.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};rp.TypeDefinitionFeature=Vg});var ET=$(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.WorkspaceFoldersFeature=oa.arrayDiff=void 0;var NF=ur(),np=require("vscode"),Ac=nt();function Wg(t,e){if(t!=null)return t[e]}function Gg(t,e){return t.filter(r=>e.indexOf(r)<0)}oa.arrayDiff=Gg;var Kg=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Ac.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let r=np.workspace.workspaceFolders;this.initializeWithFolders(r),r===void 0?e.workspaceFolders=null:e.workspaceFolders=r.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let r=this._client;r.onRequest(Ac.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=np.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=r.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=Wg(Wg(Wg(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=NF.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let r;if(this._initialFolders&&e){let n=Gg(this._initialFolders,e),i=Gg(e,this._initialFolders);(i.length>0||n.length>0)&&(r=this.doSendEvent(i,n))}else this._initialFolders?r=this.doSendEvent([],this._initialFolders):e&&(r=this.doSendEvent(e,[]));r!==void 0&&r.catch(n=>{this._client.error(`Sending notification ${Ac.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,r){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:r.map(i=>this.asProtocol(i))}};return this._client.sendNotification(Ac.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let r=e.id,n=this._client,i=np.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${Ac.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(r,i),this.sendInitialEvent(np.workspace.workspaceFolders)}unregister(e){let r=this._listeners.get(e);r!==void 0&&(this._listeners.delete(e),r.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};oa.WorkspaceFoldersFeature=Kg});var TT=$(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.FoldingRangeFeature=void 0;var ST=require("vscode"),Wo=nt(),kc=Pt(),Xg=class extends kc.TextDocumentLanguageFeature{constructor(e){super(e,Wo.FoldingRangeRequest.type)}fillClientCapabilities(e){let r=(0,kc.ensure)((0,kc.ensure)(e,"textDocument"),"foldingRange");r.dynamicRegistration=!0,r.rangeLimit=5e3,r.lineFoldingOnly=!0,r.foldingRangeKind={valueSet:[Wo.FoldingRangeKind.Comment,Wo.FoldingRangeKind.Imports,Wo.FoldingRangeKind.Region]},r.foldingRange={collapsedText:!1},(0,kc.ensure)((0,kc.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,r){this._client.onRequest(Wo.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(r,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new ST.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,u=(p,d,f)=>{let m={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p)};return c.sendRequest(Wo.FoldingRangeRequest.type,m,f).then(g=>f.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(g,f),g=>c.handleFailedRequest(Wo.FoldingRangeRequest.type,f,g,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(o,s,a,u):u(o,s,a)}};return[ST.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),i),{provider:i,onDidChangeFoldingRange:n}]}};ip.FoldingRangeFeature=Xg});var RT=$(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.DeclarationFeature=void 0;var MF=require("vscode"),Qg=nt(),Yg=Pt(),Zg=class extends Yg.TextDocumentLanguageFeature{constructor(e){super(e,Qg.DeclarationRequest.type)}fillClientCapabilities(e){let r=(0,Yg.ensure)((0,Yg.ensure)(e,"textDocument"),"declaration");r.dynamicRegistration=!0,r.linkSupport=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,p,d)=>a.sendRequest(Qg.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(f,d),f=>a.handleFailedRequest(Qg.DeclarationRequest.type,d,f,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return MF.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};op.DeclarationFeature=Zg});var PT=$(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.SelectionRangeFeature=void 0;var qF=require("vscode"),Jg=nt(),ev=Pt(),tv=class extends ev.TextDocumentLanguageFeature{constructor(e){super(e,Jg.SelectionRangeRequest.type)}fillClientCapabilities(e){let r=(0,ev.ensure)((0,ev.ensure)(e,"textDocument"),"selectionRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,p,d)=>{let f={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(p,d)};return a.sendRequest(Jg.SelectionRangeRequest.type,f,d).then(m=>d.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(m,d),m=>a.handleFailedRequest(Jg.SelectionRangeRequest.type,d,m,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return qF.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};sp.SelectionRangeFeature=tv});var IT=$(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.ProgressFeature=void 0;var DT=nt(),LF=Ph();function jF(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var rv=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:DT.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){jF(e,"window").workDoneProgress=!0}initialize(){let e=this._client,r=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new LF.ProgressPart(this._client,i.token,r))};e.onRequest(DT.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};ap.ProgressFeature=rv});var OT=$(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.CallHierarchyFeature=void 0;var FF=require("vscode"),Go=nt(),nv=Pt(),iv=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,r,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Go.CallHierarchyPrepareRequest.type,l,u).then(p=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(p,u),p=>i.handleFailedRequest(Go.CallHierarchyPrepareRequest.type,u,p,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,r,n,s):s(e,r,n)}provideCallHierarchyIncomingCalls(e,r){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(Go.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(Go.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,r,o):o(e,r)}provideCallHierarchyOutgoingCalls(e,r){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(Go.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(Go.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,r,o):o(e,r)}},ov=class extends nv.TextDocumentLanguageFeature{constructor(e){super(e,Go.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=e,n=(0,nv.ensure)((0,nv.ensure)(r,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=this._client,n=new iv(r);return[FF.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};cp.CallHierarchyFeature=ov});var AT=$(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.SemanticTokensFeature=void 0;var up=require("vscode"),dt=nt(),Nc=Pt(),UF=Kn(),sv=class extends Nc.TextDocumentLanguageFeature{constructor(e){super(e,dt.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let r=(0,Nc.ensure)((0,Nc.ensure)(e,"textDocument"),"semanticTokens");r.dynamicRegistration=!0,r.tokenTypes=[dt.SemanticTokenTypes.namespace,dt.SemanticTokenTypes.type,dt.SemanticTokenTypes.class,dt.SemanticTokenTypes.enum,dt.SemanticTokenTypes.interface,dt.SemanticTokenTypes.struct,dt.SemanticTokenTypes.typeParameter,dt.SemanticTokenTypes.parameter,dt.SemanticTokenTypes.variable,dt.SemanticTokenTypes.property,dt.SemanticTokenTypes.enumMember,dt.SemanticTokenTypes.event,dt.SemanticTokenTypes.function,dt.SemanticTokenTypes.method,dt.SemanticTokenTypes.macro,dt.SemanticTokenTypes.keyword,dt.SemanticTokenTypes.modifier,dt.SemanticTokenTypes.comment,dt.SemanticTokenTypes.string,dt.SemanticTokenTypes.number,dt.SemanticTokenTypes.regexp,dt.SemanticTokenTypes.operator,dt.SemanticTokenTypes.decorator],r.tokenModifiers=[dt.SemanticTokenModifiers.declaration,dt.SemanticTokenModifiers.definition,dt.SemanticTokenModifiers.readonly,dt.SemanticTokenModifiers.static,dt.SemanticTokenModifiers.deprecated,dt.SemanticTokenModifiers.abstract,dt.SemanticTokenModifiers.async,dt.SemanticTokenModifiers.modification,dt.SemanticTokenModifiers.documentation,dt.SemanticTokenModifiers.defaultLibrary],r.formats=[dt.TokenFormat.Relative],r.requests={range:!0,full:{delta:!0}},r.multilineTokenSupport=!1,r.overlappingTokenSupport=!1,r.serverCancelSupport=!0,r.augmentsSyntaxTokens=!0,(0,Nc.ensure)((0,Nc.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,r){this._client.onRequest(dt.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(r,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let r=e.documentSelector,n=UF.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new up.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(f,m)=>{let g=this._client,y=g.middleware,b=(x,w)=>{let C={textDocument:g.code2ProtocolConverter.asTextDocumentIdentifier(x)};return g.sendRequest(dt.SemanticTokensRequest.type,C,w).then(D=>w.isCancellationRequested?null:g.protocol2CodeConverter.asSemanticTokens(D,w),D=>g.handleFailedRequest(dt.SemanticTokensRequest.type,w,D,null))};return y.provideDocumentSemanticTokens?y.provideDocumentSemanticTokens(f,m,b):b(f,m)},provideDocumentSemanticTokensEdits:i?(f,m,g)=>{let y=this._client,b=y.middleware,x=(w,C,D)=>{let N={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(w),previousResultId:C};return y.sendRequest(dt.SemanticTokensDeltaRequest.type,N,D).then(async M=>D.isCancellationRequested?null:dt.SemanticTokens.is(M)?await y.protocol2CodeConverter.asSemanticTokens(M,D):await y.protocol2CodeConverter.asSemanticTokensEdits(M,D),M=>y.handleFailedRequest(dt.SemanticTokensDeltaRequest.type,D,M,null))};return b.provideDocumentSemanticTokensEdits?b.provideDocumentSemanticTokensEdits(f,m,g,x):x(f,m,g)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(f,m,g)=>{let y=this._client,b=y.middleware,x=(w,C,D)=>{let N={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(w),range:y.code2ProtocolConverter.asRange(C)};return y.sendRequest(dt.SemanticTokensRangeRequest.type,N,D).then(M=>D.isCancellationRequested?null:y.protocol2CodeConverter.asSemanticTokens(M,D),M=>y.handleFailedRequest(dt.SemanticTokensRangeRequest.type,D,M,null))};return b.provideDocumentRangeSemanticTokens?b.provideDocumentRangeSemanticTokens(f,m,g,x):x(f,m,g)}}:void 0,u=[],l=this._client,p=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),d=l.protocol2CodeConverter.asDocumentSelector(r);return s!==void 0&&u.push(up.languages.registerDocumentSemanticTokensProvider(d,s,p)),c!==void 0&&u.push(up.languages.registerDocumentRangeSemanticTokensProvider(d,c,p)),[new up.Disposable(()=>u.forEach(f=>f.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};lp.SemanticTokensFeature=sv});var MT=$(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.WillDeleteFilesFeature=Tn.WillRenameFilesFeature=Tn.WillCreateFilesFeature=Tn.DidDeleteFilesFeature=Tn.DidRenameFilesFeature=Tn.DidCreateFilesFeature=void 0;var ei=require("vscode"),$F=Al(),Ui=nt(),HF=ur();function kT(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function BF(t,e){return t[e]}function NT(t,e,r){t[e]=r}var Mc=class t{constructor(e,r,n,i,o){this._client=e,this._event=r,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let r=kT(kT(e,"workspace"),"fileOperations");NT(r,"dynamicRegistration",!0),NT(r,this._clientCapability,!0)}initialize(e){let r=e.workspace?.fileOperations,n=r!==void 0?BF(r,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:HF.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let r=e.registerOptions.filters.map(n=>{let i=new $F.Minimatch(n.pattern.glob,t.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,r)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,r){let n=await Promise.all(e.files.map(async o=>{let s=r(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(l===ei.FileType.File&&u.kind===Ui.FileOperationPatternKind.file||l===ei.FileType.Directory&&u.kind===Ui.FileOperationPatternKind.folder)return!0}else if(u.kind===Ui.FileOperationPatternKind.folder&&await t.getFileType(s)===ei.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await ei.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let r={dot:!0};return e?.ignoreCase===!0&&(r.nocase=!0),r}},pp=class extends Mc{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(r,n)}}},dp=class extends pp{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let r=e.fsPath;if(this._fsPathFileTypes.has(r))return this._fsPathFileTypes.get(r);let n=await Mc.getFileType(e);return n&&this._fsPathFileTypes.set(r,n),n}async cacheFileTypes(e,r){await this.filter(e,r)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},av=class extends pp{constructor(e){super(e,ei.workspace.onDidCreateFiles,Ui.DidCreateFilesNotification.type,"didCreate","didCreate",r=>r,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,r):r(e)}};Tn.DidCreateFilesFeature=av;var cv=class extends dp{constructor(e){super(e,ei.workspace.onDidRenameFiles,Ui.DidRenameFilesNotification.type,"didRename","didRename",r=>r.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=ei.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,r=>r.oldUri))}doSend(e,r){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,r):r(e)}};Tn.DidRenameFilesFeature=cv;var uv=class extends dp{constructor(e){super(e,ei.workspace.onDidDeleteFiles,Ui.DidDeleteFilesNotification.type,"didDelete","didDelete",r=>r,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=ei.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,r=>r))}doSend(e,r){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,r):r(e)}};Tn.DidDeleteFilesFeature=uv;var qc=class extends Mc{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let r=this.waitUntil(e);e.waitUntil(r)}async waitUntil(e){let r=await this.filter(e,this._accessUri);if(r.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(r,n)}else return}},lv=class extends qc{constructor(e){super(e,ei.workspace.onWillCreateFiles,Ui.WillCreateFilesRequest.type,"willCreate","willCreate",r=>r,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,r):r(e)}};Tn.WillCreateFilesFeature=lv;var pv=class extends qc{constructor(e){super(e,ei.workspace.onWillRenameFiles,Ui.WillRenameFilesRequest.type,"willRename","willRename",r=>r.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,r):r(e)}};Tn.WillRenameFilesFeature=pv;var dv=class extends qc{constructor(e){super(e,ei.workspace.onWillDeleteFiles,Ui.WillDeleteFilesRequest.type,"willDelete","willDelete",r=>r,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,r){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,r):r(e)}};Tn.WillDeleteFilesFeature=dv});var qT=$(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.LinkedEditingFeature=void 0;var zF=require("vscode"),fv=nt(),mv=Pt(),hv=class extends mv.TextDocumentLanguageFeature{constructor(e){super(e,fv.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let r=(0,mv.ensure)((0,mv.ensure)(e,"textDocument"),"linkedEditingRange");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,p,d)=>a.sendRequest(fv.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(f,d),f=>a.handleFailedRequest(fv.LinkedEditingRangeRequest.type,d,f,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(r,n),n]}registerProvider(e,r){return zF.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};fp.LinkedEditingFeature=hv});var LT=$(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.TypeHierarchyFeature=void 0;var VF=require("vscode"),Ko=nt(),gv=Pt(),vv=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,r,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Ko.TypeHierarchyPrepareRequest.type,l,u).then(p=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(p,u),p=>i.handleFailedRequest(Ko.TypeHierarchyPrepareRequest.type,u,p,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,r,n,s):s(e,r,n)}provideTypeHierarchySupertypes(e,r){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(Ko.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(Ko.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,r,o):o(e,r)}provideTypeHierarchySubtypes(e,r){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(Ko.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(Ko.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,r,o):o(e,r)}},yv=class extends gv.TextDocumentLanguageFeature{constructor(e){super(e,Ko.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=(0,gv.ensure)((0,gv.ensure)(e,"textDocument"),"typeHierarchy");r.dynamicRegistration=!0}initialize(e,r){let[n,i]=this.getRegistration(r,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=this._client,n=new vv(r);return[VF.languages.registerTypeHierarchyProvider(r.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};mp.TypeHierarchyFeature=yv});var FT=$(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.InlineValueFeature=void 0;var jT=require("vscode"),hp=nt(),Lc=Pt(),bv=class extends Lc.TextDocumentLanguageFeature{constructor(e){super(e,hp.InlineValueRequest.type)}fillClientCapabilities(e){(0,Lc.ensure)((0,Lc.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,Lc.ensure)((0,Lc.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,r){this._client.onRequest(hp.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(r,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new jT.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(d,f,m,g)=>{let y={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(d),range:u.code2ProtocolConverter.asRange(f),context:u.code2ProtocolConverter.asInlineValueContext(m)};return u.sendRequest(hp.InlineValueRequest.type,y,g).then(b=>g.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(b,g),b=>u.handleFailedRequest(hp.InlineValueRequest.type,g,b,null))},p=u.middleware;return p.provideInlineValues?p.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(r,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,r){return jT.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};gp.InlineValueFeature=bv});var $T=$(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.InlayHintsFeature=void 0;var UT=require("vscode"),sa=nt(),jc=Pt(),_v=class extends jc.TextDocumentLanguageFeature{constructor(e){super(e,sa.InlayHintRequest.type)}fillClientCapabilities(e){let r=(0,jc.ensure)((0,jc.ensure)(e,"textDocument"),"inlayHint");r.dynamicRegistration=!0,r.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,jc.ensure)((0,jc.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,r){this._client.onRequest(sa.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(r,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let r=e.documentSelector,n=new UT.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(p,d,f)=>{let m={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),range:c.code2ProtocolConverter.asRange(d)};try{let g=await c.sendRequest(sa.InlayHintRequest.type,m,f);return f.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(g,f)}catch(g){return c.handleFailedRequest(sa.InlayHintRequest.type,f,g,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,p)=>{try{let d=await a.sendRequest(sa.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),p);if(p.isCancellationRequested)return null;let f=a.protocol2CodeConverter.asInlayHint(d,p);return p.isCancellationRequested?null:f}catch(d){return a.handleFailedRequest(sa.InlayHintResolveRequest.type,p,d,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(r,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,r){return UT.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),r)}};vp.InlayHintsFeature=_v});var HT=$(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.InlineCompletionItemFeature=void 0;var WF=require("vscode"),xv=nt(),wv=Pt(),GF=ur(),Cv=class extends wv.TextDocumentLanguageFeature{constructor(e){super(e,xv.InlineCompletionRequest.type)}fillClientCapabilities(e){let r=(0,wv.ensure)((0,wv.ensure)(e,"textDocument"),"inlineCompletion");r.dynamicRegistration=!0}initialize(e,r){let n=this.getRegistrationOptions(r,e.inlineCompletionProvider);n&&this.register({id:GF.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let r=e.documentSelector,n={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,u=this._client.middleware,l=(p,d,f,m)=>c.sendRequest(xv.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(p,d,f),m).then(g=>m.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(g,m),g=>c.handleFailedRequest(xv.InlineCompletionRequest.type,m,g,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,o,s,a,l):l(i,o,s,a)}};return[WF.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(r),n),n]}};yp.InlineCompletionItemFeature=Cv});var Dv=$($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.ProposedFeatures=$r.BaseLanguageClient=$r.MessageTransports=$r.SuspendMode=$r.State=$r.CloseAction=$r.ErrorAction=$r.RevealOutputChannelOn=void 0;var Vt=require("vscode"),ge=nt(),KF=yS(),XF=xS(),mi=Kn(),bp=Sl(),BT=ur(),QF=Ph(),fi=Pt(),YF=Kh(),zT=ZS(),VT=eT(),aa=tT(),ZF=rT(),JF=nT(),eU=iT(),tU=sT(),rU=aT(),nU=bg(),iU=uT(),oU=lT(),sU=pT(),aU=fT(),Ev=mT(),cU=gT(),uU=vT(),lU=bT(),pU=_T(),dU=xT(),fU=wT(),mU=CT(),hU=ET(),gU=TT(),vU=RT(),yU=PT(),bU=IT(),_U=OT(),xU=AT(),ca=MT(),wU=qT(),CU=LT(),EU=FT(),SU=$T(),TU=HT(),Xo;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Xo||($r.RevealOutputChannelOn=Xo={}));var Uc;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(Uc||($r.ErrorAction=Uc={}));var go;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(go||($r.CloseAction=go={}));var Fc;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(Fc||($r.State=Fc={}));var WT;(function(t){t.off="off",t.on="on"})(WT||($r.SuspendMode=WT={}));var Sv;(function(t){function e(r){return r==null?!1:typeof r=="boolean"||typeof r=="object"&&r!==null&&mi.stringArray(r.enabledCommands)?r:!1}t.sanitizeIsTrusted=e})(Sv||(Sv={}));var Tv=class{constructor(e,r){this.client=e,this.maxRestartCount=r,this.restarts=[]}error(e,r,n){return n&&n<=3?{action:Uc.Continue}:{action:Uc.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:go.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:go.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:go.Restart})}},_t;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(_t||(_t={}));var GT;(function(t){function e(r){return r&&ge.MessageReader.is(r.reader)&&ge.MessageWriter.is(r.writer)}t.is=e})(GT||($r.MessageTransports=GT={}));var $c=class t{constructor(e,r,n){this._traceFormat=ge.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new bp.Semaphore(1),this._id=e,this._name=r,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=Sv.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??Xo.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=_t.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new bp.Semaphore(1),this._pendingChangeDelayer=new bp.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new bp.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new ge.Emitter,this._stateChangeEmitter=new ge.Emitter,this._trace=ge.Trace.Off,this._tracer={log:(o,s)=>{mi.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=KF.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=XF.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Vt.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let r=this.getPublicState();this._state=e;let n=this.getPublicState();n!==r&&this._stateChangeEmitter.fire({oldState:r,newState:n})}getPublicState(){switch(this.$state){case _t.Starting:return Fc.Starting;case _t.Running:return Fc.Running;default:return Fc.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...r){if(this.$state===_t.StartFailed||this.$state===_t.Stopping||this.$state===_t.Stopped)return Promise.reject(new ge.ResponseError(ge.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();this._didChangeTextDocumentFeature.syncKind===ge.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i=this._clientOptions.middleware?.sendRequest;if(i!==void 0){let o,s;return r.length===1?ge.CancellationToken.is(r[0])?s=r[0]:o=r[0]:r.length===2&&(o=r[0],s=r[1]),i(e,o,s,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),n.sendRequest(a,...l)})}else return n.sendRequest(e,...r)}onRequest(e,r){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,r);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,r)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,r),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,r){if(this.$state===_t.StartFailed||this.$state===_t.Stopping||this.$state===_t.Stopped)return Promise.reject(new ge.ResponseError(ge.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===ge.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===ge.DidOpenTextDocumentNotification.method&&(i=r?.textDocument.uri,this._pendingOpenNotifications.add(i));let o=await this.$start();n&&await this.sendPendingFullTextDocumentChanges(o),i!==void 0&&this._pendingOpenNotifications.delete(i);let s=this._clientOptions.middleware?.sendNotification;return s?s(e,o.sendNotification.bind(o),r):o.sendNotification(e,r)}onNotification(e,r){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,r);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,r)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,r),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,r,n){if(this.$state===_t.StartFailed||this.$state===_t.Stopping||this.$state===_t.Stopped)return Promise.reject(new ge.ResponseError(ge.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,r,n)}catch(i){throw this.error(`Sending progress for token ${r} failed.`,i),i}}onProgress(e,r,n){this._progressHandlers.set(r,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=ge.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(r,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(r,i.onProgress(e,r,a)),o={dispose:()=>{let c=this._progressDisposables.get(r);c!==void 0&&(c.dispose(),this._progressDisposables.delete(r))}}):(this._pendingProgressHandlers.set(r,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(r);let c=this._progressDisposables.get(r);c!==void 0&&(c.dispose(),this._progressDisposables.delete(r))}}),{dispose:()=>{this._progressHandlers.delete(r),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Tv(this,e??4)}async setTrace(e){this._trace=e;let r=this.activeConnection();r!==void 0&&await r.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof ge.ResponseError){let r=e;return`  Message: ${r.message}
  Code: ${r.code} ${r.data?`
`+r.data.toString():""}`}return e instanceof Error?mi.string(e.stack)?e.stack:e.message:mi.string(e)?e:e.toString()}debug(e,r,n=!0){this.logOutputMessage(ge.MessageType.Debug,Xo.Debug,"Debug",e,r,n)}info(e,r,n=!0){this.logOutputMessage(ge.MessageType.Info,Xo.Info,"Info",e,r,n)}warn(e,r,n=!0){this.logOutputMessage(ge.MessageType.Warning,Xo.Warn,"Warn",e,r,n)}error(e,r,n=!0){this.logOutputMessage(ge.MessageType.Error,Xo.Error,"Error",e,r,n)}logOutputMessage(e,r,n,i,o,s){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),o!=null&&this.outputChannel.appendLine(this.data2String(o)),(s==="force"||s&&this._clientOptions.revealOutputChannelOn<=r)&&this.showNotificationMessage(e,i)}showNotificationMessage(e,r){r=r??"A request has failed. See the output for more information.",(e===ge.MessageType.Error?Vt.window.showErrorMessage:e===ge.MessageType.Warning?Vt.window.showWarningMessage:Vt.window.showInformationMessage)(r,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,r){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),r&&this.traceOutputChannel.appendLine(this.data2String(r))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===_t.Initial||this.$state===_t.Stopping||this.$state===_t.Stopped}needsStop(){return this.$state===_t.Starting||this.$state===_t.Running}activeConnection(){return this.$state===_t.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===_t.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===_t.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,r,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?Vt.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):Vt.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=_t.Starting;try{let i=await this.createConnection();i.onNotification(ge.LogMessageNotification.type,o=>{switch(o.type){case ge.MessageType.Error:this.error(o.message,void 0,!1);break;case ge.MessageType.Warning:this.warn(o.message,void 0,!1);break;case ge.MessageType.Info:this.info(o.message,void 0,!1);break;case ge.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(ge.ShowMessageNotification.type,o=>{switch(o.type){case ge.MessageType.Error:Vt.window.showErrorMessage(o.message);break;case ge.MessageType.Warning:Vt.window.showWarningMessage(o.message);break;case ge.MessageType.Info:Vt.window.showInformationMessage(o.message);break;default:Vt.window.showInformationMessage(o.message)}}),i.onRequest(ge.ShowMessageRequest.type,o=>{let s;switch(o.type){case ge.MessageType.Error:s=Vt.window.showErrorMessage;break;case ge.MessageType.Warning:s=Vt.window.showWarningMessage;break;case ge.MessageType.Info:s=Vt.window.showInformationMessage;break;default:s=Vt.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(ge.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(ge.ShowDocumentRequest.type,async o=>{let s=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await Vt.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await Vt.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),r()}catch(i){this.$state=_t.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,r;return[new Promise((i,o)=>{e=i,r=o}),e,r]}async initialize(e){this.refreshTrace(e,!1);let r=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Vt.env.appName,version:Vt.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Vt.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:mi.func(r)?r():r,trace:ge.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=BT.generateUuid(),a=new QF.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,r){try{let n=await e.initialize(r);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==ge.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=_t.Running;let i;mi.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===ge.TextDocumentSyncKind.None?i={openClose:!1,change:ge.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(ge.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(ge.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(ge.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(ge.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(ge.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof ge.ResponseError&&n.data&&n.data.retry?Vt.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Vt.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Vt.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,r){if(this.$state===_t.Stopped||this.$state===_t.Initial)return;if(this.$state===_t.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==_t.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=_t.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,ge.RAL)().timer.setTimeout(s,r)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=_t.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let r=this._listeners.splice(0,this._listeners.length);for(let n of r)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let r=this;async function n(o){return r._fileEvents.push(o),r._fileEventDelayer.trigger(async()=>{await r.sendNotification(ge.DidChangeWatchedFilesNotification.type,{changes:r._fileEvents}),r._fileEvents=[]})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{r.error("Notify file events failed.",o)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let r=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(r.length===0)return;for(let n of r){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(ge.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,ge.DidChangeTextDocumentNotification.type,i)}}catch(r){throw this.error("Sending pending changes failed",r,!1),r}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let r=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===r&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,ge.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[r,n]=e.value;this._diagnosticQueue.delete(r);let i=new Vt.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:r,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(r),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,r){this._diagnostics&&this._diagnostics.set(e,r)}getLocale(){return Vt.env.language}async $start(){if(this.$state===_t.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},r=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=RU(n.reader,n.writer,e,r,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===_t.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:go.DoNotRestart};if(this.$state!==_t.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===go.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===_t.Starting?this.$state=_t.StartFailed:this.$state=_t.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===go.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=_t.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(r=>this.error("Restarting server failed",r,"force")))}async handleConnectionError(e,r,n){let i=await this._clientOptions.errorHandler.error(e,r,n);i.action===Uc.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Vt.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,r=!1){let n=Vt.workspace.getConfiguration(this._id),i=ge.Trace.Off,o=ge.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=ge.Trace.fromString(s):(i=ge.Trace.fromString(n.get("trace.server.verbosity","off")),o=ge.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:r,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let r=this._clientOptions.synchronize.fileEvents;if(!r)return;let n;mi.array(r)?n=r:n=[r],n&&this._dynamicFeatures.get(ge.DidChangeWatchedFilesNotification.type.method).registerRaw(BT.generateUuid(),n)}registerFeatures(e){for(let r of e)this.registerFeature(r)}registerFeature(e){if(this._features.push(e),fi.DynamicFeature.is(e)){let r=e.registrationType;this._dynamicFeatures.set(r.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let r=this.getFeature(ge.NotebookDocumentSyncRegistrationType.method);return r===void 0||!(r instanceof zT.NotebookDocumentSyncFeature)?!1:r.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new VT.ConfigurationFeature(this)),this.registerFeature(new aa.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new aa.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new aa.WillSaveFeature(this)),this.registerFeature(new aa.WillSaveWaitUntilFeature(this)),this.registerFeature(new aa.DidSaveTextDocumentFeature(this)),this.registerFeature(new aa.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new pU.FileSystemWatcherFeature(this,r=>this.notifyFileEvent(r))),this.registerFeature(new ZF.CompletionItemFeature(this)),this.registerFeature(new JF.HoverFeature(this)),this.registerFeature(new tU.SignatureHelpFeature(this)),this.registerFeature(new eU.DefinitionFeature(this)),this.registerFeature(new oU.ReferencesFeature(this)),this.registerFeature(new rU.DocumentHighlightFeature(this)),this.registerFeature(new nU.DocumentSymbolFeature(this)),this.registerFeature(new iU.WorkspaceSymbolFeature(this)),this.registerFeature(new sU.CodeActionFeature(this)),this.registerFeature(new aU.CodeLensFeature(this)),this.registerFeature(new Ev.DocumentFormattingFeature(this)),this.registerFeature(new Ev.DocumentRangeFormattingFeature(this)),this.registerFeature(new Ev.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new cU.RenameFeature(this)),this.registerFeature(new uU.DocumentLinkFeature(this)),this.registerFeature(new lU.ExecuteCommandFeature(this)),this.registerFeature(new VT.SyncConfigurationFeature(this)),this.registerFeature(new mU.TypeDefinitionFeature(this)),this.registerFeature(new fU.ImplementationFeature(this)),this.registerFeature(new dU.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new hU.WorkspaceFoldersFeature(this)),this.registerFeature(new gU.FoldingRangeFeature(this)),this.registerFeature(new vU.DeclarationFeature(this)),this.registerFeature(new yU.SelectionRangeFeature(this)),this.registerFeature(new bU.ProgressFeature(this)),this.registerFeature(new _U.CallHierarchyFeature(this)),this.registerFeature(new xU.SemanticTokensFeature(this)),this.registerFeature(new wU.LinkedEditingFeature(this)),this.registerFeature(new ca.DidCreateFilesFeature(this)),this.registerFeature(new ca.DidRenameFilesFeature(this)),this.registerFeature(new ca.DidDeleteFilesFeature(this)),this.registerFeature(new ca.WillCreateFilesFeature(this)),this.registerFeature(new ca.WillRenameFilesFeature(this)),this.registerFeature(new ca.WillDeleteFilesFeature(this)),this.registerFeature(new CU.TypeHierarchyFeature(this)),this.registerFeature(new EU.InlineValueFeature(this)),this.registerFeature(new SU.InlayHintsFeature(this)),this.registerFeature(new YF.DiagnosticFeature(this)),this.registerFeature(new zT.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Pv.createAll(this))}fillInitializeParams(e){for(let r of this._features)mi.func(r.fillInitializeParams)&&r.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,fi.ensure)(e,"workspace").applyEdit=!0;let r=(0,fi.ensure)((0,fi.ensure)(e,"workspace"),"workspaceEdit");r.documentChanges=!0,r.resourceOperations=[ge.ResourceOperationKind.Create,ge.ResourceOperationKind.Rename,ge.ResourceOperationKind.Delete],r.failureHandling=ge.FailureHandlingKind.TextOnlyTransactional,r.normalizesLineEndings=!0,r.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,fi.ensure)((0,fi.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[ge.DiagnosticTag.Unnecessary,ge.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,fi.ensure)(e,"window"),o=(0,fi.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,fi.ensure)(i,"showDocument");s.support=!0;let a=(0,fi.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let r=this._clientOptions.documentSelector;for(let n of this._features)mi.func(n.preInitialize)&&n.preInitialize(this._capabilities,r);for(let n of this._features)n.initialize(this._capabilities,r)}async handleRegistrationRequest(e){let r=this.clientOptions.middleware?.handleRegisterCapability;return r?r(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let r of e.registrations)this._ignoredRegistrations.add(r.id);return}for(let r of e.registrations){let n=this._dynamicFeatures.get(r.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${r.method} found. Registration failed.`));let i=r.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:r.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){let r=this.clientOptions.middleware?.handleUnregisterCapability;return r?r(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let r of e.unregisterations){if(this._ignoredRegistrations.has(r.id))continue;let n=this._dynamicFeatures.get(r.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${r.method} found. Unregistration failed.`));n.unregister(r.id)}}async handleApplyWorkspaceEdit(e){let r=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(r)),i=new Map;Vt.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(r.documentChanges){for(let s of r.documentChanges)if(ge.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):mi.asPromise(Vt.workspace.applyEdit(n).then(s=>({applied:s})))}handleFailedRequest(e,r,n,i,o=!0){if(n instanceof ge.ResponseError){if(n.code===ge.ErrorCodes.PendingResponseRejected||n.code===ge.ErrorCodes.ConnectionInactive)return i;if(n.code===ge.LSPErrorCodes.RequestCancelled||n.code===ge.LSPErrorCodes.ServerCancelled){if(r!==void 0&&r.isCancellationRequested)return i;throw n.data!==void 0?new fi.LSPCancellationError(n.data):new Vt.CancellationError}else if(n.code===ge.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new Vt.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};$r.BaseLanguageClient=$c;$c.RequestsToCancelOnContentModified=new Set([ge.SemanticTokensRequest.method,ge.SemanticTokensRangeRequest.method,ge.SemanticTokensDeltaRequest.method]);$c.CancellableResolveCalls=new Set([ge.CompletionResolveRequest.method,ge.CodeLensResolveRequest.method,ge.CodeActionResolveRequest.method,ge.InlayHintResolveRequest.method,ge.DocumentLinkResolveRequest.method,ge.WorkspaceSymbolResolveRequest.method]);var Rv=class{error(e){(0,ge.RAL)().console.error(e)}warn(e){(0,ge.RAL)().console.warn(e)}info(e){(0,ge.RAL)().console.info(e)}log(e){(0,ge.RAL)().console.log(e)}};function RU(t,e,r,n,i){let o=new Rv,s=(0,ge.createProtocolConnection)(t,e,o,i);return s.onError(c=>{r(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,u,l)=>{let p={sendNotification:!1,traceFormat:ge.TraceFormat.Text};return l===void 0?s.trace(c,u,p):(mi.boolean(l),s.trace(c,u,l))},initialize:c=>s.sendRequest(ge.InitializeRequest.type,c),shutdown:()=>s.sendRequest(ge.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(ge.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var Pv;(function(t){function e(r){return[new TU.InlineCompletionItemFeature(r)]}t.createAll=e})(Pv||($r.ProposedFeatures=Pv={}))});var XT=$(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.terminate=void 0;var KT=require("child_process"),PU=require("path"),DU=process.platform==="win32",IU=process.platform==="darwin",OU=process.platform==="linux";function AU(t,e){if(DU)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),KT.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(OU||IU)try{var r=(0,PU.join)(__dirname,"terminateProcess.sh"),n=KT.spawnSync(r,[t.pid.toString()]);return!n.error}catch{return!1}else return t.kill("SIGKILL"),!0}_p.terminate=AU});var Iv=$((b8,QT)=>{"use strict";QT.exports=nt()});var Hc=$((_8,YT)=>{var kU=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};YT.exports=kU});var Bc=$((x8,ZT)=>{var NU="2.0.0",MU=Number.MAX_SAFE_INTEGER||9007199254740991,qU=16,LU=250,jU=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ZT.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:qU,MAX_SAFE_BUILD_LENGTH:LU,MAX_SAFE_INTEGER:MU,RELEASE_TYPES:jU,SEMVER_SPEC_VERSION:NU,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ua=$(($i,JT)=>{var{MAX_SAFE_COMPONENT_LENGTH:Ov,MAX_SAFE_BUILD_LENGTH:FU,MAX_LENGTH:UU}=Bc(),$U=Hc();$i=JT.exports={};var HU=$i.re=[],BU=$i.safeRe=[],Ie=$i.src=[],Oe=$i.t={},zU=0,Av="[a-zA-Z0-9-]",VU=[["\\s",1],["\\d",UU],[Av,FU]],WU=t=>{for(let[e,r]of VU)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ft=(t,e,r)=>{let n=WU(e),i=zU++;$U(t,i,e),Oe[t]=i,Ie[i]=e,HU[i]=new RegExp(e,r?"g":void 0),BU[i]=new RegExp(n,r?"g":void 0)};ft("NUMERICIDENTIFIER","0|[1-9]\\d*");ft("NUMERICIDENTIFIERLOOSE","\\d+");ft("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Av}*`);ft("MAINVERSION",`(${Ie[Oe.NUMERICIDENTIFIER]})\\.(${Ie[Oe.NUMERICIDENTIFIER]})\\.(${Ie[Oe.NUMERICIDENTIFIER]})`);ft("MAINVERSIONLOOSE",`(${Ie[Oe.NUMERICIDENTIFIERLOOSE]})\\.(${Ie[Oe.NUMERICIDENTIFIERLOOSE]})\\.(${Ie[Oe.NUMERICIDENTIFIERLOOSE]})`);ft("PRERELEASEIDENTIFIER",`(?:${Ie[Oe.NUMERICIDENTIFIER]}|${Ie[Oe.NONNUMERICIDENTIFIER]})`);ft("PRERELEASEIDENTIFIERLOOSE",`(?:${Ie[Oe.NUMERICIDENTIFIERLOOSE]}|${Ie[Oe.NONNUMERICIDENTIFIER]})`);ft("PRERELEASE",`(?:-(${Ie[Oe.PRERELEASEIDENTIFIER]}(?:\\.${Ie[Oe.PRERELEASEIDENTIFIER]})*))`);ft("PRERELEASELOOSE",`(?:-?(${Ie[Oe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ie[Oe.PRERELEASEIDENTIFIERLOOSE]})*))`);ft("BUILDIDENTIFIER",`${Av}+`);ft("BUILD",`(?:\\+(${Ie[Oe.BUILDIDENTIFIER]}(?:\\.${Ie[Oe.BUILDIDENTIFIER]})*))`);ft("FULLPLAIN",`v?${Ie[Oe.MAINVERSION]}${Ie[Oe.PRERELEASE]}?${Ie[Oe.BUILD]}?`);ft("FULL",`^${Ie[Oe.FULLPLAIN]}$`);ft("LOOSEPLAIN",`[v=\\s]*${Ie[Oe.MAINVERSIONLOOSE]}${Ie[Oe.PRERELEASELOOSE]}?${Ie[Oe.BUILD]}?`);ft("LOOSE",`^${Ie[Oe.LOOSEPLAIN]}$`);ft("GTLT","((?:<|>)?=?)");ft("XRANGEIDENTIFIERLOOSE",`${Ie[Oe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ft("XRANGEIDENTIFIER",`${Ie[Oe.NUMERICIDENTIFIER]}|x|X|\\*`);ft("XRANGEPLAIN",`[v=\\s]*(${Ie[Oe.XRANGEIDENTIFIER]})(?:\\.(${Ie[Oe.XRANGEIDENTIFIER]})(?:\\.(${Ie[Oe.XRANGEIDENTIFIER]})(?:${Ie[Oe.PRERELEASE]})?${Ie[Oe.BUILD]}?)?)?`);ft("XRANGEPLAINLOOSE",`[v=\\s]*(${Ie[Oe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ie[Oe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ie[Oe.XRANGEIDENTIFIERLOOSE]})(?:${Ie[Oe.PRERELEASELOOSE]})?${Ie[Oe.BUILD]}?)?)?`);ft("XRANGE",`^${Ie[Oe.GTLT]}\\s*${Ie[Oe.XRANGEPLAIN]}$`);ft("XRANGELOOSE",`^${Ie[Oe.GTLT]}\\s*${Ie[Oe.XRANGEPLAINLOOSE]}$`);ft("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Ov}})(?:\\.(\\d{1,${Ov}}))?(?:\\.(\\d{1,${Ov}}))?`);ft("COERCE",`${Ie[Oe.COERCEPLAIN]}(?:$|[^\\d])`);ft("COERCEFULL",Ie[Oe.COERCEPLAIN]+`(?:${Ie[Oe.PRERELEASE]})?(?:${Ie[Oe.BUILD]})?(?:$|[^\\d])`);ft("COERCERTL",Ie[Oe.COERCE],!0);ft("COERCERTLFULL",Ie[Oe.COERCEFULL],!0);ft("LONETILDE","(?:~>?)");ft("TILDETRIM",`(\\s*)${Ie[Oe.LONETILDE]}\\s+`,!0);$i.tildeTrimReplace="$1~";ft("TILDE",`^${Ie[Oe.LONETILDE]}${Ie[Oe.XRANGEPLAIN]}$`);ft("TILDELOOSE",`^${Ie[Oe.LONETILDE]}${Ie[Oe.XRANGEPLAINLOOSE]}$`);ft("LONECARET","(?:\\^)");ft("CARETTRIM",`(\\s*)${Ie[Oe.LONECARET]}\\s+`,!0);$i.caretTrimReplace="$1^";ft("CARET",`^${Ie[Oe.LONECARET]}${Ie[Oe.XRANGEPLAIN]}$`);ft("CARETLOOSE",`^${Ie[Oe.LONECARET]}${Ie[Oe.XRANGEPLAINLOOSE]}$`);ft("COMPARATORLOOSE",`^${Ie[Oe.GTLT]}\\s*(${Ie[Oe.LOOSEPLAIN]})$|^$`);ft("COMPARATOR",`^${Ie[Oe.GTLT]}\\s*(${Ie[Oe.FULLPLAIN]})$|^$`);ft("COMPARATORTRIM",`(\\s*)${Ie[Oe.GTLT]}\\s*(${Ie[Oe.LOOSEPLAIN]}|${Ie[Oe.XRANGEPLAIN]})`,!0);$i.comparatorTrimReplace="$1$2$3";ft("HYPHENRANGE",`^\\s*(${Ie[Oe.XRANGEPLAIN]})\\s+-\\s+(${Ie[Oe.XRANGEPLAIN]})\\s*$`);ft("HYPHENRANGELOOSE",`^\\s*(${Ie[Oe.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ie[Oe.XRANGEPLAINLOOSE]})\\s*$`);ft("STAR","(<|>)?=?\\s*\\*");ft("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ft("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var xp=$((w8,e0)=>{var GU=Object.freeze({loose:!0}),KU=Object.freeze({}),XU=t=>t?typeof t!="object"?GU:t:KU;e0.exports=XU});var kv=$((C8,n0)=>{var t0=/^[0-9]+$/,r0=(t,e)=>{let r=t0.test(t),n=t0.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},QU=(t,e)=>r0(e,t);n0.exports={compareIdentifiers:r0,rcompareIdentifiers:QU}});var an=$((E8,a0)=>{var wp=Hc(),{MAX_LENGTH:i0,MAX_SAFE_INTEGER:Cp}=Bc(),{safeRe:o0,t:s0}=ua(),YU=xp(),{compareIdentifiers:la}=kv(),Nv=class t{constructor(e,r){if(r=YU(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i0)throw new TypeError(`version is longer than ${i0} characters`);wp("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?o0[s0.LOOSE]:o0[s0.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Cp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Cp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Cp||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Cp)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(wp("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),la(this.major,e.major)||la(this.minor,e.minor)||la(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(wp("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return la(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(wp("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return la(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),la(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};a0.exports=Nv});var vo=$((S8,u0)=>{var c0=an(),ZU=(t,e,r=!1)=>{if(t instanceof c0)return t;try{return new c0(t,e)}catch(n){if(!r)return null;throw n}};u0.exports=ZU});var p0=$((T8,l0)=>{"use strict";l0.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var f0=$((R8,d0)=>{"use strict";d0.exports=qt;qt.Node=Qo;qt.create=qt;function qt(t){var e=this;if(e instanceof qt||(e=new qt),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}qt.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};qt.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};qt.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};qt.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)e$(this,arguments[t]);return this.length};qt.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)t$(this,arguments[t]);return this.length};qt.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};qt.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};qt.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};qt.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};qt.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};qt.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};qt.prototype.map=function(t,e){e=e||this;for(var r=new qt,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};qt.prototype.mapReverse=function(t,e){e=e||this;for(var r=new qt,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};qt.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};qt.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};qt.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};qt.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};qt.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new qt;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};qt.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new qt;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};qt.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=JU(this,i,r[n]);return o};qt.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function JU(t,e,r){var n=e===t.head?new Qo(r,null,e,t):new Qo(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function e$(t,e){t.tail=new Qo(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function t$(t,e){t.head=new Qo(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Qo(t,e,r,n){if(!(this instanceof Qo))return new Qo(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{p0()(qt)}catch{}});var y0=$((P8,v0)=>{"use strict";var r$=f0(),Yo=Symbol("max"),Bi=Symbol("length"),pa=Symbol("lengthCalculator"),Vc=Symbol("allowStale"),Zo=Symbol("maxAge"),Hi=Symbol("dispose"),m0=Symbol("noDisposeOnSet"),Hr=Symbol("lruList"),hi=Symbol("cache"),g0=Symbol("updateAgeOnGet"),Mv=()=>1,Lv=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Yo]=e.max||1/0,n=e.length||Mv;if(this[pa]=typeof n!="function"?Mv:n,this[Vc]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Zo]=e.maxAge||0,this[Hi]=e.dispose,this[m0]=e.noDisposeOnSet||!1,this[g0]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Yo]=e||1/0,zc(this)}get max(){return this[Yo]}set allowStale(e){this[Vc]=!!e}get allowStale(){return this[Vc]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Zo]=e,zc(this)}get maxAge(){return this[Zo]}set lengthCalculator(e){typeof e!="function"&&(e=Mv),e!==this[pa]&&(this[pa]=e,this[Bi]=0,this[Hr].forEach(r=>{r.length=this[pa](r.value,r.key),this[Bi]+=r.length})),zc(this)}get lengthCalculator(){return this[pa]}get length(){return this[Bi]}get itemCount(){return this[Hr].length}rforEach(e,r){r=r||this;for(let n=this[Hr].tail;n!==null;){let i=n.prev;h0(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Hr].head;n!==null;){let i=n.next;h0(this,e,n,r),n=i}}keys(){return this[Hr].toArray().map(e=>e.key)}values(){return this[Hr].toArray().map(e=>e.value)}reset(){this[Hi]&&this[Hr]&&this[Hr].length&&this[Hr].forEach(e=>this[Hi](e.key,e.value)),this[hi]=new Map,this[Hr]=new r$,this[Bi]=0}dump(){return this[Hr].map(e=>Ep(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Hr]}set(e,r,n){if(n=n||this[Zo],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[pa](r,e);if(this[hi].has(e)){if(o>this[Yo])return da(this,this[hi].get(e)),!1;let c=this[hi].get(e).value;return this[Hi]&&(this[m0]||this[Hi](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Bi]+=o-c.length,c.length=o,this.get(e),zc(this),!0}let s=new jv(e,r,o,i,n);return s.length>this[Yo]?(this[Hi]&&this[Hi](e,r),!1):(this[Bi]+=s.length,this[Hr].unshift(s),this[hi].set(e,this[Hr].head),zc(this),!0)}has(e){if(!this[hi].has(e))return!1;let r=this[hi].get(e).value;return!Ep(this,r)}get(e){return qv(this,e,!0)}peek(e){return qv(this,e,!1)}pop(){let e=this[Hr].tail;return e?(da(this,e),e.value):null}del(e){da(this,this[hi].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[hi].forEach((e,r)=>qv(this,r,!1))}},qv=(t,e,r)=>{let n=t[hi].get(e);if(n){let i=n.value;if(Ep(t,i)){if(da(t,n),!t[Vc])return}else r&&(t[g0]&&(n.value.now=Date.now()),t[Hr].unshiftNode(n));return i.value}},Ep=(t,e)=>{if(!e||!e.maxAge&&!t[Zo])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Zo]&&r>t[Zo]},zc=t=>{if(t[Bi]>t[Yo])for(let e=t[Hr].tail;t[Bi]>t[Yo]&&e!==null;){let r=e.prev;da(t,e),e=r}},da=(t,e)=>{if(e){let r=e.value;t[Hi]&&t[Hi](r.key,r.value),t[Bi]-=r.length,t[hi].delete(r.key),t[Hr].removeNode(e)}},jv=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},h0=(t,e,r,n)=>{let i=r.value;Ep(t,i)&&(da(t,r),t[Vc]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};v0.exports=Lv});var ti=$((D8,_0)=>{var b0=an(),n$=(t,e,r)=>new b0(t,r).compare(new b0(e,r));_0.exports=n$});var Fv=$((I8,x0)=>{var i$=ti(),o$=(t,e,r)=>i$(t,e,r)===0;x0.exports=o$});var Uv=$((O8,w0)=>{var s$=ti(),a$=(t,e,r)=>s$(t,e,r)!==0;w0.exports=a$});var Wc=$((A8,C0)=>{var c$=ti(),u$=(t,e,r)=>c$(t,e,r)>0;C0.exports=u$});var Sp=$((k8,E0)=>{var l$=ti(),p$=(t,e,r)=>l$(t,e,r)>=0;E0.exports=p$});var Tp=$((N8,S0)=>{var d$=ti(),f$=(t,e,r)=>d$(t,e,r)<0;S0.exports=f$});var Rp=$((M8,T0)=>{var m$=ti(),h$=(t,e,r)=>m$(t,e,r)<=0;T0.exports=h$});var $v=$((q8,R0)=>{var g$=Fv(),v$=Uv(),y$=Wc(),b$=Sp(),_$=Tp(),x$=Rp(),w$=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return g$(t,r,n);case"!=":return v$(t,r,n);case">":return y$(t,r,n);case">=":return b$(t,r,n);case"<":return _$(t,r,n);case"<=":return x$(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};R0.exports=w$});var Kc=$((L8,k0)=>{var Gc=Symbol("SemVer ANY"),zv=class t{static get ANY(){return Gc}constructor(e,r){if(r=P0(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Bv("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Gc?this.value="":this.value=this.operator+this.semver.version,Bv("comp",this)}parse(e){let r=this.options.loose?D0[I0.COMPARATORLOOSE]:D0[I0.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new O0(n[2],this.options.loose):this.semver=Gc}toString(){return this.value}test(e){if(Bv("Comparator.test",e,this.options.loose),this.semver===Gc||e===Gc)return!0;if(typeof e=="string")try{e=new O0(e,this.options)}catch{return!1}return Hv(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new A0(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new A0(this.value,r).test(e.semver):(r=P0(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Hv(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Hv(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};k0.exports=zv;var P0=xp(),{safeRe:D0,t:I0}=ua(),Hv=$v(),Bv=Hc(),O0=an(),A0=ri()});var ri=$((j8,L0)=>{var Vv=class t{constructor(e,r){if(r=E$(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Wv)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!M0(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&O$(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&D$)|(this.options.loose&&I$))+":"+e,i=N0.get(n);if(i)return i;let o=this.options.loose,s=o?Rn[gn.HYPHENRANGELOOSE]:Rn[gn.HYPHENRANGE];e=e.replace(s,$$(this.options.includePrerelease)),rr("hyphen replace",e),e=e.replace(Rn[gn.COMPARATORTRIM],T$),rr("comparator trim",e),e=e.replace(Rn[gn.TILDETRIM],R$),rr("tilde trim",e),e=e.replace(Rn[gn.CARETTRIM],P$),rr("caret trim",e);let a=e.split(" ").map(p=>A$(p,this.options)).join(" ").split(/\s+/).map(p=>U$(p,this.options));o&&(a=a.filter(p=>(rr("loose invalid filter",p,this.options),!!p.match(Rn[gn.COMPARATORLOOSE])))),rr("range list",a);let c=new Map,u=a.map(p=>new Wv(p,this.options));for(let p of u){if(M0(p))return[p];c.set(p.value,p)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return N0.set(n,l),l}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>q0(n,r)&&e.set.some(i=>q0(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new S$(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(H$(this.set[r],e,this.options))return!0;return!1}};L0.exports=Vv;var C$=y0(),N0=new C$({max:1e3}),E$=xp(),Wv=Kc(),rr=Hc(),S$=an(),{safeRe:Rn,t:gn,comparatorTrimReplace:T$,tildeTrimReplace:R$,caretTrimReplace:P$}=ua(),{FLAG_INCLUDE_PRERELEASE:D$,FLAG_LOOSE:I$}=Bc(),M0=t=>t.value==="<0.0.0-0",O$=t=>t.value==="",q0=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},A$=(t,e)=>(rr("comp",t,e),t=M$(t,e),rr("caret",t),t=k$(t,e),rr("tildes",t),t=L$(t,e),rr("xrange",t),t=F$(t,e),rr("stars",t),t),vn=t=>!t||t.toLowerCase()==="x"||t==="*",k$=(t,e)=>t.trim().split(/\s+/).map(r=>N$(r,e)).join(" "),N$=(t,e)=>{let r=e.loose?Rn[gn.TILDELOOSE]:Rn[gn.TILDE];return t.replace(r,(n,i,o,s,a)=>{rr("tilde",t,n,i,o,s,a);let c;return vn(i)?c="":vn(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:vn(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(rr("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,rr("tilde return",c),c})},M$=(t,e)=>t.trim().split(/\s+/).map(r=>q$(r,e)).join(" "),q$=(t,e)=>{rr("caret",t,e);let r=e.loose?Rn[gn.CARETLOOSE]:Rn[gn.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,c)=>{rr("caret",t,i,o,s,a,c);let u;return vn(o)?u="":vn(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:vn(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(rr("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(rr("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),rr("caret return",u),u})},L$=(t,e)=>(rr("replaceXRanges",t,e),t.split(/\s+/).map(r=>j$(r,e)).join(" ")),j$=(t,e)=>{t=t.trim();let r=e.loose?Rn[gn.XRANGELOOSE]:Rn[gn.XRANGE];return t.replace(r,(n,i,o,s,a,c)=>{rr("xRange",t,n,i,o,s,a,c);let u=vn(o),l=u||vn(s),p=l||vn(a),d=p;return i==="="&&d&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&d?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:p&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),rr("xRange return",n),n})},F$=(t,e)=>(rr("replaceStars",t,e),t.trim().replace(Rn[gn.STAR],"")),U$=(t,e)=>(rr("replaceGTE0",t,e),t.trim().replace(Rn[e.includePrerelease?gn.GTE0PRE:gn.GTE0],"")),$$=t=>(e,r,n,i,o,s,a,c,u,l,p,d,f)=>(vn(n)?r="":vn(i)?r=`>=${n}.0.0${t?"-0":""}`:vn(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,vn(u)?c="":vn(l)?c=`<${+u+1}.0.0-0`:vn(p)?c=`<${u}.${+l+1}.0-0`:d?c=`<=${u}.${l}.${p}-${d}`:t?c=`<${u}.${l}.${+p+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),H$=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(rr(t[n].semver),t[n].semver!==Wv.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var fa=$((F8,j0)=>{var B$=ri(),z$=(t,e,r)=>{try{e=new B$(e,r)}catch{return!1}return e.test(t)};j0.exports=z$});var U0=$(Un=>{"use strict";var V$=Un&&Un.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gv=Un&&Un.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&V$(e,t,r)};Object.defineProperty(Un,"__esModule",{value:!0});Un.DiagnosticPullMode=Un.vsdiag=void 0;Gv(nt(),Un);Gv(Pt(),Un);var F0=Kh();Object.defineProperty(Un,"vsdiag",{enumerable:!0,get:function(){return F0.vsdiag}});Object.defineProperty(Un,"DiagnosticPullMode",{enumerable:!0,get:function(){return F0.DiagnosticPullMode}});Gv(Dv(),Un)});var ry=$(Pn=>{"use strict";var W$=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B0=Pn&&Pn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&W$(e,t,r)};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.SettingMonitor=Pn.LanguageClient=Pn.TransportKind=void 0;var zi=require("child_process"),Kv=require("fs"),Xv=require("path"),bo=require("vscode"),lr=Kn(),$0=Dv(),G$=XT(),fr=Iv(),K$=vo(),X$=fa();B0(Iv(),Pn);B0(U0(),Pn);var H0="^1.82.0",mr;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(mr||(Pn.TransportKind=mr={}));var yo;(function(t){function e(r){let n=r;return n&&n.kind===mr.socket&&lr.number(n.port)}t.isSocket=e})(yo||(yo={}));var Qv;(function(t){function e(r){return lr.string(r.command)}t.is=e})(Qv||(Qv={}));var Yv;(function(t){function e(r){return lr.string(r.module)}t.is=e})(Yv||(Yv={}));var Zv;(function(t){function e(r){let n=r;return n&&n.writer!==void 0&&n.reader!==void 0}t.is=e})(Zv||(Zv={}));var Jv;(function(t){function e(r){let n=r;return n&&n.process!==void 0&&typeof n.detached=="boolean"}t.is=e})(Jv||(Jv={}));var ey=class extends $0.BaseLanguageClient{constructor(e,r,n,i,o){let s,a,c,u,l;lr.string(r)?(s=e,a=r,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=r,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(p){throw lr.string(p.message)&&this.outputChannel.appendLine(p.message),p}}checkVersion(){let e=K$(bo.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${bo.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!X$(e,H0))throw new Error(`The language client requires VS Code version ${H0} but received version ${bo.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let r=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(r),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,G$.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function r(l,p){if(!l&&!p)return;let d=Object.create(null);return Object.keys(process.env).forEach(f=>d[f]=process.env[f]),p&&(d.ELECTRON_RUN_AS_NODE="1",d.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(f=>d[f]=l[f]),d}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(p=>n.some(d=>p.startsWith(d))||i.some(d=>p===d)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(lr.func(a))return a().then(l=>{if($0.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(Zv.is(l))return this._isDetached=!!l.detached,{reader:new fr.StreamMessageReader(l.reader),writer:new fr.StreamMessageWriter(l.writer)};{let p;return Jv.is(l)?(p=l.process,this._isDetached=l.detached):(p=l,this._isDetached=!1),p.stderr.on("data",d=>this.outputChannel.append(lr.string(d)?d:d.toString(e))),{reader:new fr.StreamMessageReader(p.stdout),writer:new fr.StreamMessageWriter(p.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(Yv.is(c)&&c.module){let p=c,d=p.transport||mr.stdio;if(p.runtime){let f=[],m=p.options??Object.create(null);m.execArgv&&m.execArgv.forEach(x=>f.push(x)),f.push(p.module),p.args&&p.args.forEach(x=>f.push(x));let g=Object.create(null);g.cwd=l,g.env=r(m.env,!1);let y=this._getRuntimePath(p.runtime,l),b;if(d===mr.ipc?(g.stdio=[null,null,null,"ipc"],f.push("--node-ipc")):d===mr.stdio?f.push("--stdio"):d===mr.pipe?(b=(0,fr.generateRandomPipeName)(),f.push(`--pipe=${b}`)):yo.isSocket(d)&&f.push(`--socket=${d.port}`),f.push(`--clientProcessId=${process.pid.toString()}`),d===mr.ipc||d===mr.stdio){let x=zi.spawn(y,f,g);return!x||!x.pid?ma(x,`Launching server using runtime ${y} failed.`):(this._serverProcess=x,x.stderr.on("data",w=>this.outputChannel.append(lr.string(w)?w:w.toString(e))),d===mr.ipc?(x.stdout.on("data",w=>this.outputChannel.append(lr.string(w)?w:w.toString(e))),Promise.resolve({reader:new fr.IPCMessageReader(x),writer:new fr.IPCMessageWriter(x)})):Promise.resolve({reader:new fr.StreamMessageReader(x.stdout),writer:new fr.StreamMessageWriter(x.stdin)}))}else{if(d===mr.pipe)return(0,fr.createClientPipeTransport)(b).then(x=>{let w=zi.spawn(y,f,g);return!w||!w.pid?ma(w,`Launching server using runtime ${y} failed.`):(this._serverProcess=w,w.stderr.on("data",C=>this.outputChannel.append(lr.string(C)?C:C.toString(e))),w.stdout.on("data",C=>this.outputChannel.append(lr.string(C)?C:C.toString(e))),x.onConnected().then(C=>({reader:C[0],writer:C[1]})))});if(yo.isSocket(d))return(0,fr.createClientSocketTransport)(d.port).then(x=>{let w=zi.spawn(y,f,g);return!w||!w.pid?ma(w,`Launching server using runtime ${y} failed.`):(this._serverProcess=w,w.stderr.on("data",C=>this.outputChannel.append(lr.string(C)?C:C.toString(e))),w.stdout.on("data",C=>this.outputChannel.append(lr.string(C)?C:C.toString(e))),x.onConnected().then(C=>({reader:C[0],writer:C[1]})))})}}else{let f;return new Promise((m,g)=>{let y=(p.args&&p.args.slice())??[];d===mr.ipc?y.push("--node-ipc"):d===mr.stdio?y.push("--stdio"):d===mr.pipe?(f=(0,fr.generateRandomPipeName)(),y.push(`--pipe=${f}`)):yo.isSocket(d)&&y.push(`--socket=${d.port}`),y.push(`--clientProcessId=${process.pid.toString()}`);let b=p.options??Object.create(null);if(b.env=r(b.env,!0),b.execArgv=b.execArgv||[],b.cwd=l,b.silent=!0,d===mr.ipc||d===mr.stdio){let x=zi.fork(p.module,y||[],b);s(x),this._serverProcess=x,x.stderr.on("data",w=>this.outputChannel.append(lr.string(w)?w:w.toString(e))),d===mr.ipc?(x.stdout.on("data",w=>this.outputChannel.append(lr.string(w)?w:w.toString(e))),m({reader:new fr.IPCMessageReader(this._serverProcess),writer:new fr.IPCMessageWriter(this._serverProcess)})):m({reader:new fr.StreamMessageReader(x.stdout),writer:new fr.StreamMessageWriter(x.stdin)})}else d===mr.pipe?(0,fr.createClientPipeTransport)(f).then(x=>{let w=zi.fork(p.module,y||[],b);s(w),this._serverProcess=w,w.stderr.on("data",C=>this.outputChannel.append(lr.string(C)?C:C.toString(e))),w.stdout.on("data",C=>this.outputChannel.append(lr.string(C)?C:C.toString(e))),x.onConnected().then(C=>{m({reader:C[0],writer:C[1]})},g)},g):yo.isSocket(d)&&(0,fr.createClientSocketTransport)(d.port).then(x=>{let w=zi.fork(p.module,y||[],b);s(w),this._serverProcess=w,w.stderr.on("data",C=>this.outputChannel.append(lr.string(C)?C:C.toString(e))),w.stdout.on("data",C=>this.outputChannel.append(lr.string(C)?C:C.toString(e))),x.onConnected().then(C=>{m({reader:C[0],writer:C[1]})},g)},g)})}}else if(Qv.is(c)&&c.command){let p=c,d=c.args!==void 0?c.args.slice(0):[],f,m=c.transport;if(m===mr.stdio)d.push("--stdio");else if(m===mr.pipe)f=(0,fr.generateRandomPipeName)(),d.push(`--pipe=${f}`);else if(yo.isSocket(m))d.push(`--socket=${m.port}`);else if(m===mr.ipc)throw new Error("Transport kind ipc is not support for command executable");let g=Object.assign({},p.options);if(g.cwd=g.cwd||l,m===void 0||m===mr.stdio){let y=zi.spawn(p.command,d,g);return!y||!y.pid?ma(y,`Launching server using command ${p.command} failed.`):(y.stderr.on("data",b=>this.outputChannel.append(lr.string(b)?b:b.toString(e))),this._serverProcess=y,this._isDetached=!!g.detached,Promise.resolve({reader:new fr.StreamMessageReader(y.stdout),writer:new fr.StreamMessageWriter(y.stdin)}))}else{if(m===mr.pipe)return(0,fr.createClientPipeTransport)(f).then(y=>{let b=zi.spawn(p.command,d,g);return!b||!b.pid?ma(b,`Launching server using command ${p.command} failed.`):(this._serverProcess=b,this._isDetached=!!g.detached,b.stderr.on("data",x=>this.outputChannel.append(lr.string(x)?x:x.toString(e))),b.stdout.on("data",x=>this.outputChannel.append(lr.string(x)?x:x.toString(e))),y.onConnected().then(x=>({reader:x[0],writer:x[1]})))});if(yo.isSocket(m))return(0,fr.createClientSocketTransport)(m.port).then(y=>{let b=zi.spawn(p.command,d,g);return!b||!b.pid?ma(b,`Launching server using command ${p.command} failed.`):(this._serverProcess=b,this._isDetached=!!g.detached,b.stderr.on("data",x=>this.outputChannel.append(lr.string(x)?x:x.toString(e))),b.stdout.on("data",x=>this.outputChannel.append(lr.string(x)?x:x.toString(e))),y.onConnected().then(x=>({reader:x[0],writer:x[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(l,p)=>{l!==null&&this.error(`Server process exited with code ${l}.`,void 0,!1),p!==null&&this.error(`Server process exited with signal ${p}.`,void 0,!1)})})}_getRuntimePath(e,r){if(Xv.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=Xv.join(n,e);if(Kv.existsSync(i))return i}if(r!==void 0){let i=Xv.join(r,e);if(Kv.existsSync(i))return i}return e}_mainGetRootPath(){let e=bo.workspace.workspaceFolders;if(!e||e.length===0)return;let r=e[0];if(r.uri.scheme==="file")return r.uri.fsPath}_getServerWorkingDir(e){let r=e&&e.cwd;return r||(r=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),r?new Promise(n=>{Kv.lstat(r,(i,o)=>{n(!i&&o.isDirectory()?r:void 0)})}):Promise.resolve(void 0)}};Pn.LanguageClient=ey;var ty=class{constructor(e,r){this._client=e,this._setting=r,this._listeners=[]}start(){return bo.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new bo.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),r=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?bo.workspace.getConfiguration(r).get(n,!1):bo.workspace.getConfiguration(r);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};Pn.SettingMonitor=ty;function ma(t,e){return t===null?Promise.reject(e):new Promise((r,n)=>{t.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var ny=$((H8,z0)=>{"use strict";z0.exports=ry()});var cR=$((s9,aR)=>{aR.exports=sR;sR.sync=tH;var iR=require("fs");function eH(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function oR(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:eH(e,r)}function sR(t,e,r){iR.stat(t,function(n,i){r(n,n?!1:oR(i,t,e))})}function tH(t,e){return oR(iR.statSync(t),t,e)}});var fR=$((a9,dR)=>{dR.exports=lR;lR.sync=rH;var uR=require("fs");function lR(t,e,r){uR.stat(t,function(n,i){r(n,n?!1:pR(i,e))})}function rH(t,e){return pR(uR.statSync(t),e)}function pR(t,e){return t.isFile()&&nH(t,e)}function nH(t,e){var r=t.mode,n=t.uid,i=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,p=r&u||r&c&&i===s||r&a&&n===o||r&l&&o===0;return p}});var hR=$((u9,mR)=>{var c9=require("fs"),Mp;process.platform==="win32"||global.TESTING_WINDOWS?Mp=cR():Mp=fR();mR.exports=ay;ay.sync=iH;function ay(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){ay(t,e||{},function(o,s){o?i(o):n(s)})})}Mp(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function iH(t,e){try{return Mp.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var TR=$((l9,SR)=>{var bR=hR(),{join:oH,delimiter:sH,sep:gR,posix:vR}=require("path"),yR=process.platform==="win32",_R=new RegExp(`[${vR.sep}${gR===vR.sep?"":gR}]`.replace(/(\\)/g,"\\$1")),aH=new RegExp(`^\\.${_R.source}`),xR=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),wR=(t,{path:e=process.env.PATH,pathExt:r=process.env.PATHEXT,delimiter:n=sH})=>{let i=t.match(_R)?[""]:[...yR?[process.cwd()]:[],...(e||"").split(n)];if(yR){let o=r||[".EXE",".CMD",".BAT",".COM"].join(n),s=o.split(n).reduce((a,c)=>(a.push(c),a.push(c.toLowerCase()),a),[]);return t.includes(".")&&s[0]!==""&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:o}}return{pathEnv:i,pathExt:[""]}},CR=(t,e)=>{let r=/^".*"$/.test(t)?t.slice(1,-1):t;return(!r&&aH.test(e)?e.slice(0,2):"")+oH(r,e)},ER=async(t,e={})=>{let{pathEnv:r,pathExt:n,pathExtExe:i}=wR(t,e),o=[];for(let s of r){let a=CR(s,t);for(let c of n){let u=a+c;if(await bR(u,{pathExt:i,ignoreErrors:!0})){if(!e.all)return u;o.push(u)}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw xR(t)},cH=(t,e={})=>{let{pathEnv:r,pathExt:n,pathExtExe:i}=wR(t,e),o=[];for(let s of r){let a=CR(s,t);for(let c of n){let u=a+c;if(bR.sync(u,{pathExt:i,ignoreErrors:!0})){if(!e.all)return u;o.push(u)}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw xR(t)};SR.exports=ER;ER.sync=cH});var iP=$((F9,nP)=>{var rP=require("stream").Stream,ZH=require("util");nP.exports=bi;function bi(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}ZH.inherits(bi,rP);bi.create=function(t,e){var r=new this;e=e||{};for(var n in e)r[n]=e[n];r.source=t;var i=t.emit;return t.emit=function(){return r._handleEmit(arguments),i.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(bi.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});bi.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};bi.prototype.resume=function(){this._released||this.release(),this.source.resume()};bi.prototype.pause=function(){this.source.pause()};bi.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};bi.prototype.pipe=function(){var t=rP.prototype.pipe.apply(this,arguments);return this.resume(),t};bi.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};bi.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var cP=$((U9,aP)=>{var JH=require("util"),sP=require("stream").Stream,oP=iP();aP.exports=Cr;function Cr(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}JH.inherits(Cr,sP);Cr.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};Cr.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Cr.prototype.append=function(t){var e=Cr.isStreamLike(t);if(e){if(!(t instanceof oP)){var r=oP.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Cr.prototype.pipe=function(t,e){return sP.prototype.pipe.call(this,t,e),this.resume(),t};Cr.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Cr.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var n=Cr.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Cr.prototype._pipeNext=function(t){this._currentStream=t;var e=Cr.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};Cr.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};Cr.prototype.write=function(t){this.emit("data",t)};Cr.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Cr.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Cr.prototype.end=function(){this._reset(),this.emit("end")};Cr.prototype.destroy=function(){this._reset(),this.emit("close")};Cr.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Cr.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Cr.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Cr.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var uP=$(($9,e2)=>{e2.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var pP=$((H9,lP)=>{lP.exports=uP()});var mP=$(Dn=>{"use strict";var Yp=pP(),t2=require("path").extname,dP=/^\s*([^;\s]*)(?:;|\s|$)/,r2=/^text\//i;Dn.charset=fP;Dn.charsets={lookup:fP};Dn.contentType=n2;Dn.extension=i2;Dn.extensions=Object.create(null);Dn.lookup=o2;Dn.types=Object.create(null);s2(Dn.extensions,Dn.types);function fP(t){if(!t||typeof t!="string")return!1;var e=dP.exec(t),r=e&&Yp[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&r2.test(e[1])?"UTF-8":!1}function n2(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Dn.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=Dn.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function i2(t){if(!t||typeof t!="string")return!1;var e=dP.exec(t),r=e&&Dn.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function o2(t){if(!t||typeof t!="string")return!1;var e=t2("x."+t).toLowerCase().substr(1);return e&&Dn.types[e]||!1}function s2(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(Yp).forEach(function(i){var o=Yp[i],s=o.extensions;if(!(!s||!s.length)){t[i]=s;for(var a=0;a<s.length;a++){var c=s[a];if(e[c]){var u=r.indexOf(Yp[e[c]].source),l=r.indexOf(o.source);if(e[c]!=="application/octet-stream"&&(u>l||u===l&&e[c].substr(0,12)==="application/"))continue}e[c]=i}}})}});var gP=$((z9,hP)=>{hP.exports=a2;function a2(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var hy=$((V9,yP)=>{var vP=gP();yP.exports=c2;function c2(t){var e=!1;return vP(function(){e=!0}),function(n,i){e?t(n,i):vP(function(){t(n,i)})}}});var gy=$((W9,bP)=>{bP.exports=u2;function u2(t){Object.keys(t.jobs).forEach(l2.bind(t)),t.jobs={}}function l2(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var vy=$((G9,xP)=>{var _P=hy(),p2=gy();xP.exports=d2;function d2(t,e,r,n){var i=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[i]=f2(e,i,t[i],function(o,s){i in r.jobs&&(delete r.jobs[i],o?p2(r):r.results[i]=s,n(o,r.results))})}function f2(t,e,r,n){var i;return t.length==2?i=t(r,_P(n)):i=t(r,e,_P(n)),i}});var yy=$((K9,wP)=>{wP.exports=m2;function m2(t,e){var r=!Array.isArray(t),n={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&n.keyedList.sort(r?e:function(i,o){return e(t[i],t[o])}),n}});var by=$((X9,CP)=>{var h2=gy(),g2=hy();CP.exports=v2;function v2(t){Object.keys(this.jobs).length&&(this.index=this.size,h2(this),g2(t)(null,this.results))}});var SP=$((Q9,EP)=>{var y2=vy(),b2=yy(),_2=by();EP.exports=x2;function x2(t,e,r){for(var n=b2(t);n.index<(n.keyedList||t).length;)y2(t,e,n,function(i,o){if(i){r(i,o);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return _2.bind(n,r)}});var _y=$((Y9,Zp)=>{var TP=vy(),w2=yy(),C2=by();Zp.exports=E2;Zp.exports.ascending=RP;Zp.exports.descending=S2;function E2(t,e,r,n){var i=w2(t,r);return TP(t,e,i,function o(s,a){if(s){n(s,a);return}if(i.index++,i.index<(i.keyedList||t).length){TP(t,e,i,o);return}n(null,i.results)}),C2.bind(i,n)}function RP(t,e){return t<e?-1:t>e?1:0}function S2(t,e){return-1*RP(t,e)}});var DP=$((Z9,PP)=>{var T2=_y();PP.exports=R2;function R2(t,e,r){return T2(t,e,null,r)}});var OP=$((J9,IP)=>{IP.exports={parallel:SP(),serial:DP(),serialOrdered:_y()}});var kP=$((eX,AP)=>{AP.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var qP=$((tX,MP)=>{var Ey=cP(),NP=require("util"),xy=require("path"),P2=require("http"),D2=require("https"),I2=require("url").parse,O2=require("fs"),A2=require("stream").Stream,wy=mP(),k2=OP(),Cy=kP();MP.exports=kt;NP.inherits(kt,Ey);function kt(t){if(!(this instanceof kt))return new kt(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Ey.call(this),t=t||{};for(var e in t)this[e]=t[e]}kt.LINE_BREAK=`\r
`;kt.DEFAULT_CONTENT_TYPE="application/octet-stream";kt.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=Ey.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),NP.isArray(e)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(t,e,r),o=this._multiPartFooter();n(i),n(e),n(o),this._trackLength(i,e,r)};kt.prototype._trackLength=function(t,e,r){var n=0;r.knownLength!=null?n+=+r.knownLength:Buffer.isBuffer(e)?n=e.length:typeof e=="string"&&(n=Buffer.byteLength(e)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(t)+kt.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof A2))&&(r.knownLength||this._valuesToMeasure.push(e))};kt.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):O2.stat(t.path,function(r,n){var i;if(r){e(r);return}i=n.size-(t.start?t.start:0),e(null,i)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};kt.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(e,r),i=this._getContentType(e,r),o="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(n||[]),"Content-Type":[].concat(i||[])};typeof r.header=="object"&&Cy(s,r.header);var a;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=c+": "+a.join("; ")+kt.LINE_BREAK)));return"--"+this.getBoundary()+kt.LINE_BREAK+o+kt.LINE_BREAK};kt.prototype._getContentDisposition=function(t,e){var r,n;return typeof e.filepath=="string"?r=xy.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=xy.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(r=xy.basename(t.client._httpMessage.path||"")),r&&(n='filename="'+r+'"'),n};kt.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=wy.lookup(t.name)),!r&&t.path&&(r=wy.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty("httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=wy.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=kt.DEFAULT_CONTENT_TYPE),r};kt.prototype._multiPartFooter=function(){return function(t){var e=kt.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};kt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+kt.LINE_BREAK};kt.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r};kt.prototype.setBoundary=function(t){this._boundary=t};kt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};kt.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(kt.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};kt.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};kt.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};kt.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};kt.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}k2.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){t(r);return}n.forEach(function(i){e+=i}),t(null,e)})};kt.prototype.submit=function(t,e){var r,n,i={method:"post"};return typeof t=="string"?(t=I2(t),n=Cy({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},i)):(n=Cy(t,i),n.port||(n.port=n.protocol=="https:"?443:80)),n.headers=this.getHeaders(t.headers),n.protocol=="https:"?r=D2.request(n):r=P2.request(n),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&r.setHeader("Content-Length",s),this.pipe(r),e){var a,c=function(u,l){return r.removeListener("error",c),r.removeListener("response",a),e.call(this,u,l)};a=c.bind(this,null),r.on("error",c),r.on("response",a)}}.bind(this)),r};kt.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};kt.prototype.toString=function(){return"[object FormData]"}});var YP=$(QP=>{"use strict";var Q2=require("url").parse,Y2={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Z2=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function J2(t){var e=typeof t=="string"?Q2(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||Y2[r]||0,!eB(n,i)))return"";var o=Ca("npm_config_"+r+"_proxy")||Ca(r+"_proxy")||Ca("npm_config_proxy")||Ca("all_proxy");return o&&o.indexOf("://")===-1&&(o=r+"://"+o),o}function eB(t,e){var r=(Ca("npm_config_no_proxy")||Ca("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),o=i?i[1]:n,s=i?parseInt(i[2]):0;return s&&s!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!Z2.call(t,o)):t!==o}):!0}function Ca(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}QP.getProxyForUrl=J2});var JP=$((rQ,ZP)=>{var Ea=1e3,Sa=Ea*60,Ta=Sa*60,rs=Ta*24,tB=rs*7,rB=rs*365.25;ZP.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return nB(t);if(r==="number"&&isFinite(t))return e.long?oB(t):iB(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function nB(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*rB;case"weeks":case"week":case"w":return r*tB;case"days":case"day":case"d":return r*rs;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ta;case"minutes":case"minute":case"mins":case"min":case"m":return r*Sa;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ea;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function iB(t){var e=Math.abs(t);return e>=rs?Math.round(t/rs)+"d":e>=Ta?Math.round(t/Ta)+"h":e>=Sa?Math.round(t/Sa)+"m":e>=Ea?Math.round(t/Ea)+"s":t+"ms"}function oB(t){var e=Math.abs(t);return e>=rs?rd(t,e,rs,"day"):e>=Ta?rd(t,e,Ta,"hour"):e>=Sa?rd(t,e,Sa,"minute"):e>=Ea?rd(t,e,Ea,"second"):t+" ms"}function rd(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var My=$((nQ,eD)=>{function sB(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=JP(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let p=0;for(let d=0;d<l.length;d++)p=(p<<5)-p+l.charCodeAt(d),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(l){let p,d=null,f,m;function g(...y){if(!g.enabled)return;let b=g,x=Number(new Date),w=x-(p||x);b.diff=w,b.prev=p,b.curr=x,p=x,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(N,M)=>{if(N==="%%")return"%";C++;let F=r.formatters[M];if(typeof F=="function"){let Q=y[C];N=F.call(b,Q),y.splice(C,1),C--}return N}),r.formatArgs.call(b,y),(b.log||r.log).apply(b,y)}return g.namespace=l,g.useColors=r.useColors(),g.color=r.selectColor(l),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(f!==r.namespaces&&(f=r.namespaces,m=r.enabled(l)),m),set:y=>{d=y}}),typeof r.init=="function"&&r.init(g),g}function n(l,p){let d=r(this.namespace+(typeof p>"u"?":":p)+l);return d.log=this.log,d}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let p,d=(typeof l=="string"?l:"").split(/[\s,]+/),f=d.length;for(p=0;p<f;p++)d[p]&&(l=d[p].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let p,d;for(p=0,d=r.skips.length;p<d;p++)if(r.skips[p].test(l))return!1;for(p=0,d=r.names.length;p<d;p++)if(r.names[p].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}eD.exports=sB});var tD=$((Bn,nd)=>{Bn.formatArgs=cB;Bn.save=uB;Bn.load=lB;Bn.useColors=aB;Bn.storage=pB();Bn.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Bn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function aB(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function cB(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+nd.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Bn.log=console.debug||console.log||(()=>{});function uB(t){try{t?Bn.storage.setItem("debug",t):Bn.storage.removeItem("debug")}catch{}}function lB(){let t;try{t=Bn.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function pB(){try{return localStorage}catch{}}nd.exports=My()(Bn);var{formatters:dB}=nd.exports;dB.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var nD=$((iQ,rD)=>{"use strict";rD.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var oD=$((oQ,iD)=>{"use strict";var fB=require("os"),_i=nD(),cn=process.env,Ra;_i("no-color")||_i("no-colors")||_i("color=false")?Ra=!1:(_i("color")||_i("colors")||_i("color=true")||_i("color=always"))&&(Ra=!0);"FORCE_COLOR"in cn&&(Ra=cn.FORCE_COLOR.length===0||parseInt(cn.FORCE_COLOR,10)!==0);function mB(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function hB(t){if(Ra===!1)return 0;if(_i("color=16m")||_i("color=full")||_i("color=truecolor"))return 3;if(_i("color=256"))return 2;if(t&&!t.isTTY&&Ra!==!0)return 0;let e=Ra?1:0;if(process.platform==="win32"){let r=fB.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in cn)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in cn)||cn.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in cn)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(cn.TEAMCITY_VERSION)?1:0;if(cn.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in cn){let r=parseInt((cn.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(cn.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(cn.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(cn.TERM)||"COLORTERM"in cn?1:(cn.TERM==="dumb",e)}function qy(t){let e=hB(t);return mB(e)}iD.exports={supportsColor:qy,stdout:qy(process.stdout),stderr:qy(process.stderr)}});var aD=$((Yr,od)=>{var gB=require("tty"),id=require("util");Yr.init=CB;Yr.log=_B;Yr.formatArgs=yB;Yr.save=xB;Yr.load=wB;Yr.useColors=vB;Yr.destroy=id.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Yr.colors=[6,2,3,4,5,1];try{let t=oD();t&&(t.stderr||t).level>=2&&(Yr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Yr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function vB(){return"colors"in Yr.inspectOpts?!!Yr.inspectOpts.colors:gB.isatty(process.stderr.fd)}function yB(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+od.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=bB()+e+" "+t[0]}function bB(){return Yr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function _B(...t){return process.stderr.write(id.format(...t)+`
`)}function xB(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function wB(){return process.env.DEBUG}function CB(t){t.inspectOpts={};let e=Object.keys(Yr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Yr.inspectOpts[e[r]]}od.exports=My()(Yr);var{formatters:sD}=od.exports;sD.o=function(t){return this.inspectOpts.colors=this.useColors,id.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};sD.O=function(t){return this.inspectOpts.colors=this.useColors,id.inspect(t,this.inspectOpts)}});var cD=$((sQ,Ly)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ly.exports=tD():Ly.exports=aD()});var lD=$((aQ,uD)=>{var au;uD.exports=function(){if(!au){try{au=cD()("follow-redirects")}catch{}typeof au!="function"&&(au=function(){})}au.apply(null,arguments)}});var hD=$((cQ,Xy)=>{var lu=require("url"),cu=lu.URL,EB=require("http"),SB=require("https"),Hy=require("stream").Writable,By=require("assert"),pD=lD(),zy=!1;try{By(new cu)}catch(t){zy=t.code==="ERR_INVALID_URL"}var TB=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Vy=["abort","aborted","connect","error","socket","timeout"],Wy=Object.create(null);Vy.forEach(function(t){Wy[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Fy=pu("ERR_INVALID_URL","Invalid URL",TypeError),Uy=pu("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),RB=pu("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Uy),PB=pu("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),DB=pu("ERR_STREAM_WRITE_AFTER_END","write after end"),IB=Hy.prototype.destroy||fD;function In(t,e){Hy.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(i){r.emit("error",i instanceof Uy?i:new Uy({cause:i}))}},this._performRequest()}In.prototype=Object.create(Hy.prototype);In.prototype.abort=function(){Ky(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};In.prototype.destroy=function(t){return Ky(this._currentRequest,t),IB.call(this,t),this};In.prototype.write=function(t,e,r){if(this._ending)throw new DB;if(!ns(t)&&!kB(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(uu(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new PB),this.abort())};In.prototype.end=function(t,e,r){if(uu(t)?(r=t,t=e=null):uu(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};In.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};In.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};In.prototype.setTimeout=function(t,e){var r=this;function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),r.removeListener("close",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this.on("close",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){In.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(In.prototype,t,{get:function(){return this._currentRequest[t]}})});In.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};In.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of Vy)n.on(i,Wy[i]);if(this._currentUrl=/^\//.test(this._options.path)?lu.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(u){if(n===s._currentRequest)if(u)s.emit("error",u);else if(o<a.length){var l=a[o++];n.finished||n.write(l.data,l.encoding,c)}else s._ended&&n.end()})()}};In.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(Ky(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new RB;var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],jy(/^content-/i,this._options.headers));var s=jy(/^host$/i,this._options.headers),a=Gy(this._currentUrl),c=s||a.host,u=/^\w+:/.test(r)?this._currentUrl:lu.format(Object.assign(a,{host:c})),l=OB(r,u);if(pD("redirecting to",l.href),this._isRedirect=!0,$y(l,this._options),(l.protocol!==a.protocol&&l.protocol!=="https:"||l.host!==c&&!AB(l.host,c))&&jy(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),uu(i)){var p={headers:t.headers,statusCode:e},d={url:u,method:o,headers:n};i(this._options,p,d),this._sanitizeOptions(this._options)}this._performRequest()};function dD(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(u,l,p){return NB(u)?u=$y(u):ns(u)?u=$y(Gy(u)):(p=l,l=mD(u),u={protocol:i}),uu(l)&&(p=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=r,!ns(l.host)&&!ns(l.hostname)&&(l.hostname="::1"),By.equal(l.protocol,i,"protocol mismatch"),pD("options",l),new In(l,p)}function c(u,l,p){var d=s.request(u,l,p);return d.end(),d}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function fD(){}function Gy(t){var e;if(zy)e=new cu(t);else if(e=mD(lu.parse(t)),!ns(e.protocol))throw new Fy({input:t});return e}function OB(t,e){return zy?new cu(t,e):Gy(lu.resolve(e,t))}function mD(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new Fy({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new Fy({input:t.href||t});return t}function $y(t,e){var r=e||{};for(var n of TB)r[n]=t[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function jy(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function pu(t,e,r){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),n}function Ky(t,e){for(var r of Vy)t.removeListener(r,Wy[r]);t.on("error",fD),t.destroy(e)}function AB(t,e){By(ns(t)&&ns(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function ns(t){return typeof t=="string"||t instanceof String}function uu(t){return typeof t=="function"}function kB(t){return typeof t=="object"&&"length"in t}function NB(t){return cu&&t instanceof cu}Xy.exports=dD({http:EB,https:SB});Xy.exports.wrap=dD});var vI=$((rZ,gI)=>{"use strict";gI.exports=Error});var bI=$((nZ,yI)=>{"use strict";yI.exports=EvalError});var xI=$((iZ,_I)=>{"use strict";_I.exports=RangeError});var CI=$((oZ,wI)=>{"use strict";wI.exports=ReferenceError});var vb=$((sZ,EI)=>{"use strict";EI.exports=SyntaxError});var bu=$((aZ,SI)=>{"use strict";SI.exports=TypeError});var RI=$((cZ,TI)=>{"use strict";TI.exports=URIError});var DI=$((uZ,PI)=>{"use strict";PI.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var AI=$((lZ,OI)=>{"use strict";var II=typeof Symbol<"u"&&Symbol,bV=DI();OI.exports=function(){return typeof II!="function"||typeof Symbol!="function"||typeof II("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:bV()}});var NI=$((pZ,kI)=>{"use strict";var yb={__proto__:null,foo:{}},_V=Object;kI.exports=function(){return{__proto__:yb}.foo===yb.foo&&!(yb instanceof _V)}});var LI=$((dZ,qI)=>{"use strict";var xV="Function.prototype.bind called on incompatible ",wV=Object.prototype.toString,CV=Math.max,EV="[object Function]",MI=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},SV=function(e,r){for(var n=[],i=r||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},TV=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};qI.exports=function(e){var r=this;if(typeof r!="function"||wV.apply(r)!==EV)throw new TypeError(xV+r);for(var n=SV(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,MI(n,arguments));return Object(l)===l?l:this}return r.apply(e,MI(n,arguments))},s=CV(0,r.length-n.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+TV(a,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var xd=$((fZ,jI)=>{"use strict";var RV=LI();jI.exports=Function.prototype.bind||RV});var UI=$((mZ,FI)=>{"use strict";var PV=Function.prototype.call,DV=Object.prototype.hasOwnProperty,IV=xd();FI.exports=IV.call(PV,DV)});var xs=$((hZ,VI)=>{"use strict";var Et,OV=vI(),AV=bI(),kV=xI(),NV=CI(),Ha=vb(),$a=bu(),MV=RI(),zI=Function,bb=function(t){try{return zI('"use strict"; return ('+t+").constructor;")()}catch{}},bs=Object.getOwnPropertyDescriptor;if(bs)try{bs({},"")}catch{bs=null}var _b=function(){throw new $a},qV=bs?function(){try{return arguments.callee,_b}catch{try{return bs(arguments,"callee").get}catch{return _b}}}():_b,Fa=AI()(),LV=NI()(),zr=Object.getPrototypeOf||(LV?function(t){return t.__proto__}:null),Ua={},jV=typeof Uint8Array>"u"||!zr?Et:zr(Uint8Array),_s={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Et:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Et:ArrayBuffer,"%ArrayIteratorPrototype%":Fa&&zr?zr([][Symbol.iterator]()):Et,"%AsyncFromSyncIteratorPrototype%":Et,"%AsyncFunction%":Ua,"%AsyncGenerator%":Ua,"%AsyncGeneratorFunction%":Ua,"%AsyncIteratorPrototype%":Ua,"%Atomics%":typeof Atomics>"u"?Et:Atomics,"%BigInt%":typeof BigInt>"u"?Et:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Et:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Et:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Et:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":OV,"%eval%":eval,"%EvalError%":AV,"%Float32Array%":typeof Float32Array>"u"?Et:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Et:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Et:FinalizationRegistry,"%Function%":zI,"%GeneratorFunction%":Ua,"%Int8Array%":typeof Int8Array>"u"?Et:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Et:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Et:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fa&&zr?zr(zr([][Symbol.iterator]())):Et,"%JSON%":typeof JSON=="object"?JSON:Et,"%Map%":typeof Map>"u"?Et:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Fa||!zr?Et:zr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Et:Promise,"%Proxy%":typeof Proxy>"u"?Et:Proxy,"%RangeError%":kV,"%ReferenceError%":NV,"%Reflect%":typeof Reflect>"u"?Et:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Et:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Fa||!zr?Et:zr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Et:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fa&&zr?zr(""[Symbol.iterator]()):Et,"%Symbol%":Fa?Symbol:Et,"%SyntaxError%":Ha,"%ThrowTypeError%":qV,"%TypedArray%":jV,"%TypeError%":$a,"%Uint8Array%":typeof Uint8Array>"u"?Et:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Et:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Et:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Et:Uint32Array,"%URIError%":MV,"%WeakMap%":typeof WeakMap>"u"?Et:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Et:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Et:WeakSet};if(zr)try{null.error}catch(t){$I=zr(zr(t)),_s["%Error.prototype%"]=$I}var $I,FV=function t(e){var r;if(e==="%AsyncFunction%")r=bb("async function () {}");else if(e==="%GeneratorFunction%")r=bb("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bb("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&zr&&(r=zr(i.prototype))}return _s[e]=r,r},HI={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_u=xd(),wd=UI(),UV=_u.call(Function.call,Array.prototype.concat),$V=_u.call(Function.apply,Array.prototype.splice),BI=_u.call(Function.call,String.prototype.replace),Cd=_u.call(Function.call,String.prototype.slice),HV=_u.call(Function.call,RegExp.prototype.exec),BV=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zV=/\\(\\)?/g,VV=function(e){var r=Cd(e,0,1),n=Cd(e,-1);if(r==="%"&&n!=="%")throw new Ha("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ha("invalid intrinsic syntax, expected opening `%`");var i=[];return BI(e,BV,function(o,s,a,c){i[i.length]=a?BI(c,zV,"$1"):s||o}),i},WV=function(e,r){var n=e,i;if(wd(HI,n)&&(i=HI[n],n="%"+i[0]+"%"),wd(_s,n)){var o=_s[n];if(o===Ua&&(o=FV(n)),typeof o>"u"&&!r)throw new $a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Ha("intrinsic "+e+" does not exist!")};VI.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new $a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $a('"allowMissing" argument must be a boolean');if(HV(/^%?[^%]*%?$/,e)===null)throw new Ha("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=VV(e),i=n.length>0?n[0]:"",o=WV("%"+i+"%",r),s=o.name,a=o.value,c=!1,u=o.alias;u&&(i=u[0],$V(n,UV([0,1],u)));for(var l=1,p=!0;l<n.length;l+=1){var d=n[l],f=Cd(d,0,1),m=Cd(d,-1);if((f==='"'||f==="'"||f==="`"||m==='"'||m==="'"||m==="`")&&f!==m)throw new Ha("property names with quotes must have matching quotes");if((d==="constructor"||!p)&&(c=!0),i+="."+d,s="%"+i+"%",wd(_s,s))a=_s[s];else if(a!=null){if(!(d in a)){if(!r)throw new $a("base intrinsic for "+e+" exists, but the property is not available.");return}if(bs&&l+1>=n.length){var g=bs(a,d);p=!!g,p&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[d]}else p=wd(a,d),a=a[d];p&&!c&&(_s[s]=a)}}return a}});var Sd=$((gZ,WI)=>{"use strict";var GV=xs(),Ed=GV("%Object.defineProperty%",!0)||!1;if(Ed)try{Ed({},"a",{value:1})}catch{Ed=!1}WI.exports=Ed});var xb=$((vZ,GI)=>{"use strict";var KV=xs(),Td=KV("%Object.getOwnPropertyDescriptor%",!0);if(Td)try{Td([],"length")}catch{Td=null}GI.exports=Td});var YI=$((yZ,QI)=>{"use strict";var KI=Sd(),XV=vb(),Ba=bu(),XI=xb();QI.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ba("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ba("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ba("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ba("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ba("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ba("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!XI&&XI(e,r);if(KI)KI(e,r,{configurable:s===null&&c?c.configurable:!s,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:o===null&&c?c.writable:!o});else if(a||!i&&!o&&!s)e[r]=n;else throw new XV("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var eO=$((bZ,JI)=>{"use strict";var wb=Sd(),ZI=function(){return!!wb};ZI.hasArrayLengthDefineBug=function(){if(!wb)return null;try{return wb([],"length",{value:1}).length!==1}catch{return!0}};JI.exports=ZI});var oO=$((_Z,iO)=>{"use strict";var QV=xs(),tO=YI(),YV=eO()(),rO=xb(),nO=bu(),ZV=QV("%Math.floor%");iO.exports=function(e,r){if(typeof e!="function")throw new nO("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||ZV(r)!==r)throw new nO("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&rO){var s=rO(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(YV?tO(e,"length",r,!0,!0):tO(e,"length",r)),e}});var pO=$((xZ,Rd)=>{"use strict";var Cb=xd(),Pd=xs(),JV=oO(),e3=bu(),cO=Pd("%Function.prototype.apply%"),uO=Pd("%Function.prototype.call%"),lO=Pd("%Reflect.apply%",!0)||Cb.call(uO,cO),sO=Sd(),t3=Pd("%Math.max%");Rd.exports=function(e){if(typeof e!="function")throw new e3("a function is required");var r=lO(Cb,uO,arguments);return JV(r,1+t3(0,e.length-(arguments.length-1)),!0)};var aO=function(){return lO(Cb,cO,arguments)};sO?sO(Rd.exports,"apply",{value:aO}):Rd.exports.apply=aO});var hO=$((wZ,mO)=>{"use strict";var dO=xs(),fO=pO(),r3=fO(dO("String.prototype.indexOf"));mO.exports=function(e,r){var n=dO(e,!!r);return typeof n=="function"&&r3(e,".prototype.")>-1?fO(n):n}});var vO=$((CZ,gO)=>{gO.exports=require("util").inspect});var LO=$((EZ,qO)=>{var kb=typeof Map=="function"&&Map.prototype,Eb=Object.getOwnPropertyDescriptor&&kb?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Id=kb&&Eb&&typeof Eb.get=="function"?Eb.get:null,yO=kb&&Map.prototype.forEach,Nb=typeof Set=="function"&&Set.prototype,Sb=Object.getOwnPropertyDescriptor&&Nb?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Od=Nb&&Sb&&typeof Sb.get=="function"?Sb.get:null,bO=Nb&&Set.prototype.forEach,n3=typeof WeakMap=="function"&&WeakMap.prototype,wu=n3?WeakMap.prototype.has:null,i3=typeof WeakSet=="function"&&WeakSet.prototype,Cu=i3?WeakSet.prototype.has:null,o3=typeof WeakRef=="function"&&WeakRef.prototype,_O=o3?WeakRef.prototype.deref:null,s3=Boolean.prototype.valueOf,a3=Object.prototype.toString,c3=Function.prototype.toString,u3=String.prototype.match,Mb=String.prototype.slice,Oo=String.prototype.replace,l3=String.prototype.toUpperCase,xO=String.prototype.toLowerCase,IO=RegExp.prototype.test,wO=Array.prototype.concat,Ai=Array.prototype.join,p3=Array.prototype.slice,CO=Math.floor,Pb=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Tb=Object.getOwnPropertySymbols,Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,za=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ln=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===za||!0)?Symbol.toStringTag:null,OO=Object.prototype.propertyIsEnumerable,EO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function SO(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||IO.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-CO(-t):CO(t);if(n!==t){var i=String(n),o=Mb.call(e,i.length+1);return Oo.call(i,r,"$&_")+"."+Oo.call(Oo.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Oo.call(e,r,"$&_")}var Ib=vO(),TO=Ib.custom,RO=kO(TO)?TO:null;qO.exports=function t(e,r,n,i){var o=r||{};if(Io(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Io(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Io(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Io(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Io(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return MO(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?SO(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?SO(e,u):u}var l=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return Ob(e)?"[Array]":"[Object]";var p=D3(o,n);if(typeof i>"u")i=[];else if(NO(i,e)>=0)return"[Circular]";function d(ae,ee,xe){if(ee&&(i=p3.call(i),i.push(ee)),xe){var pe={depth:o.depth};return Io(o,"quoteStyle")&&(pe.quoteStyle=o.quoteStyle),t(ae,pe,n+1,i)}return t(ae,o,n+1,i)}if(typeof e=="function"&&!PO(e)){var f=_3(e),m=Dd(e,d);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(m.length>0?" { "+Ai.call(m,", ")+" }":"")}if(kO(e)){var g=za?Oo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Db.call(e);return typeof e=="object"&&!za?xu(g):g}if(T3(e)){for(var y="<"+xO.call(String(e.nodeName)),b=e.attributes||[],x=0;x<b.length;x++)y+=" "+b[x].name+"="+AO(d3(b[x].value),"double",o);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+xO.call(String(e.nodeName))+">",y}if(Ob(e)){if(e.length===0)return"[]";var w=Dd(e,d);return p&&!P3(w)?"["+Ab(w,p)+"]":"[ "+Ai.call(w,", ")+" ]"}if(m3(e)){var C=Dd(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!OO.call(e,"cause")?"{ ["+String(e)+"] "+Ai.call(wO.call("[cause]: "+d(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ai.call(C,", ")+" }"}if(typeof e=="object"&&s){if(RO&&typeof e[RO]=="function"&&Ib)return Ib(e,{depth:l-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(x3(e)){var D=[];return yO&&yO.call(e,function(ae,ee){D.push(d(ee,e,!0)+" => "+d(ae,e))}),DO("Map",Id.call(e),D,p)}if(E3(e)){var N=[];return bO&&bO.call(e,function(ae){N.push(d(ae,e))}),DO("Set",Od.call(e),N,p)}if(w3(e))return Rb("WeakMap");if(S3(e))return Rb("WeakSet");if(C3(e))return Rb("WeakRef");if(g3(e))return xu(d(Number(e)));if(y3(e))return xu(d(Pb.call(e)));if(v3(e))return xu(s3.call(e));if(h3(e))return xu(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===global)return"{ [object globalThis] }";if(!f3(e)&&!PO(e)){var M=Dd(e,d),F=EO?EO(e)===Object.prototype:e instanceof Object||e.constructor===Object,Q=e instanceof Object?"":"null prototype",ne=!F&&ln&&Object(e)===e&&ln in e?Mb.call(Ao(e),8,-1):Q?"Object":"",X=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=X+(ne||Q?"["+Ai.call(wO.call([],ne||[],Q||[]),": ")+"] ":"");return M.length===0?H+"{}":p?H+"{"+Ab(M,p)+"}":H+"{ "+Ai.call(M,", ")+" }"}return String(e)};function AO(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function d3(t){return Oo.call(String(t),/"/g,"&quot;")}function Ob(t){return Ao(t)==="[object Array]"&&(!ln||!(typeof t=="object"&&ln in t))}function f3(t){return Ao(t)==="[object Date]"&&(!ln||!(typeof t=="object"&&ln in t))}function PO(t){return Ao(t)==="[object RegExp]"&&(!ln||!(typeof t=="object"&&ln in t))}function m3(t){return Ao(t)==="[object Error]"&&(!ln||!(typeof t=="object"&&ln in t))}function h3(t){return Ao(t)==="[object String]"&&(!ln||!(typeof t=="object"&&ln in t))}function g3(t){return Ao(t)==="[object Number]"&&(!ln||!(typeof t=="object"&&ln in t))}function v3(t){return Ao(t)==="[object Boolean]"&&(!ln||!(typeof t=="object"&&ln in t))}function kO(t){if(za)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Db)return!1;try{return Db.call(t),!0}catch{}return!1}function y3(t){if(!t||typeof t!="object"||!Pb)return!1;try{return Pb.call(t),!0}catch{}return!1}var b3=Object.prototype.hasOwnProperty||function(t){return t in this};function Io(t,e){return b3.call(t,e)}function Ao(t){return a3.call(t)}function _3(t){if(t.name)return t.name;var e=u3.call(c3.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function NO(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function x3(t){if(!Id||!t||typeof t!="object")return!1;try{Id.call(t);try{Od.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function w3(t){if(!wu||!t||typeof t!="object")return!1;try{wu.call(t,wu);try{Cu.call(t,Cu)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function C3(t){if(!_O||!t||typeof t!="object")return!1;try{return _O.call(t),!0}catch{}return!1}function E3(t){if(!Od||!t||typeof t!="object")return!1;try{Od.call(t);try{Id.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function S3(t){if(!Cu||!t||typeof t!="object")return!1;try{Cu.call(t,Cu);try{wu.call(t,wu)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function T3(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function MO(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return MO(Mb.call(t,0,e.maxStringLength),e)+n}var i=Oo.call(Oo.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,R3);return AO(i,"single",e)}function R3(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+l3.call(e.toString(16))}function xu(t){return"Object("+t+")"}function Rb(t){return t+" { ? }"}function DO(t,e,r,n){var i=n?Ab(r,n):Ai.call(r,", ");return t+" ("+e+") {"+i+"}"}function P3(t){for(var e=0;e<t.length;e++)if(NO(t[e],`
`)>=0)return!1;return!0}function D3(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ai.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ai.call(Array(e+1),r)}}function Ab(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ai.call(t,","+r)+`
`+e.prev}function Dd(t,e){var r=Ob(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Io(t,i)?e(t[i],t):""}var o=typeof Tb=="function"?Tb(t):[],s;if(za){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var c in t)Io(t,c)&&(r&&String(Number(c))===c&&c<t.length||za&&s["$"+c]instanceof Symbol||(IO.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Tb=="function")for(var u=0;u<o.length;u++)OO.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}});var FO=$((SZ,jO)=>{"use strict";var qb=xs(),Va=hO(),I3=LO(),O3=qb("%TypeError%"),Ad=qb("%WeakMap%",!0),kd=qb("%Map%",!0),A3=Va("WeakMap.prototype.get",!0),k3=Va("WeakMap.prototype.set",!0),N3=Va("WeakMap.prototype.has",!0),M3=Va("Map.prototype.get",!0),q3=Va("Map.prototype.set",!0),L3=Va("Map.prototype.has",!0),Lb=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},j3=function(t,e){var r=Lb(t,e);return r&&r.value},F3=function(t,e,r){var n=Lb(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},U3=function(t,e){return!!Lb(t,e)};jO.exports=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new O3("Side channel does not contain "+I3(o))},get:function(o){if(Ad&&o&&(typeof o=="object"||typeof o=="function")){if(e)return A3(e,o)}else if(kd){if(r)return M3(r,o)}else if(n)return j3(n,o)},has:function(o){if(Ad&&o&&(typeof o=="object"||typeof o=="function")){if(e)return N3(e,o)}else if(kd){if(r)return L3(r,o)}else if(n)return U3(n,o);return!1},set:function(o,s){Ad&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Ad),k3(e,o,s)):kd?(r||(r=new kd),q3(r,o,s)):(n||(n={key:{},next:null}),F3(n,o,s))}};return i}});var Nd=$((TZ,UO)=>{"use strict";var $3=String.prototype.replace,H3=/%20/g,jb={RFC1738:"RFC1738",RFC3986:"RFC3986"};UO.exports={default:jb.RFC3986,formatters:{RFC1738:function(t){return $3.call(t,H3,"+")},RFC3986:function(t){return String(t)}},RFC1738:jb.RFC1738,RFC3986:jb.RFC3986}});var Ub=$((RZ,HO)=>{"use strict";var B3=Nd(),Fb=Object.prototype.hasOwnProperty,ws=Array.isArray,ki=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),z3=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ws(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]<"u"&&i.push(n[o]);r.obj[r.prop]=i}}},$O=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},V3=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(ws(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Fb.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ws(e)&&!ws(r)&&(i=$O(e,n)),ws(e)&&ws(r)?(r.forEach(function(o,s){if(Fb.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return Fb.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},W3=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},G3=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},K3=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<s.length;++c){var u=s.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===B3.RFC1738&&(u===40||u===41)){a+=s.charAt(c);continue}if(u<128){a=a+ki[u];continue}if(u<2048){a=a+(ki[192|u>>6]+ki[128|u&63]);continue}if(u<55296||u>=57344){a=a+(ki[224|u>>12]+ki[128|u>>6&63]+ki[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|s.charCodeAt(c)&1023),a+=ki[240|u>>18]+ki[128|u>>12&63]+ki[128|u>>6&63]+ki[128|u&63]}return a},X3=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:u}),n.push(l))}return z3(r),e},Q3=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Y3=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Z3=function(e,r){return[].concat(e,r)},J3=function(e,r){if(ws(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};HO.exports={arrayToObject:$O,assign:W3,combine:Z3,compact:X3,decode:G3,encode:K3,isBuffer:Y3,isRegExp:Q3,maybeMap:J3,merge:V3}});var KO=$((PZ,GO)=>{"use strict";var VO=FO(),Md=Ub(),Eu=Nd(),eW=Object.prototype.hasOwnProperty,BO={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Yi=Array.isArray,tW=Array.prototype.push,WO=function(t,e){tW.apply(t,Yi(e)?e:[e])},rW=Date.prototype.toISOString,zO=Eu.default,pn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Md.encode,encodeValuesOnly:!1,format:zO,formatter:Eu.formatters[zO],indices:!1,serializeDate:function(e){return rW.call(e)},skipNulls:!1,strictNullHandling:!1},nW=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},$b={},iW=function t(e,r,n,i,o,s,a,c,u,l,p,d,f,m,g,y){for(var b=e,x=y,w=0,C=!1;(x=x.get($b))!==void 0&&!C;){var D=x.get(e);if(w+=1,typeof D<"u"){if(D===w)throw new RangeError("Cyclic object value");C=!0}typeof x.get($b)>"u"&&(w=0)}if(typeof c=="function"?b=c(r,b):b instanceof Date?b=p(b):n==="comma"&&Yi(b)&&(b=Md.maybeMap(b,function(pe){return pe instanceof Date?p(pe):pe})),b===null){if(o)return a&&!m?a(r,pn.encoder,g,"key",d):r;b=""}if(nW(b)||Md.isBuffer(b)){if(a){var N=m?r:a(r,pn.encoder,g,"key",d);return[f(N)+"="+f(a(b,pn.encoder,g,"value",d))]}return[f(r)+"="+f(String(b))]}var M=[];if(typeof b>"u")return M;var F;if(n==="comma"&&Yi(b))m&&a&&(b=Md.maybeMap(b,a)),F=[{value:b.length>0?b.join(",")||null:void 0}];else if(Yi(c))F=c;else{var Q=Object.keys(b);F=u?Q.sort(u):Q}for(var ne=i&&Yi(b)&&b.length===1?r+"[]":r,X=0;X<F.length;++X){var H=F[X],ae=typeof H=="object"&&typeof H.value<"u"?H.value:b[H];if(!(s&&ae===null)){var ee=Yi(b)?typeof n=="function"?n(ne,H):ne:ne+(l?"."+H:"["+H+"]");y.set(e,w);var xe=VO();xe.set($b,y),WO(M,t(ae,ee,n,i,o,s,n==="comma"&&m&&Yi(b)?null:a,c,u,l,p,d,f,m,g,xe))}}return M},oW=function(e){if(!e)return pn;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||pn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Eu.default;if(typeof e.format<"u"){if(!eW.call(Eu.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Eu.formatters[n],o=pn.filter;return(typeof e.filter=="function"||Yi(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:pn.addQueryPrefix,allowDots:typeof e.allowDots>"u"?pn.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pn.charsetSentinel,delimiter:typeof e.delimiter>"u"?pn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:pn.encode,encoder:typeof e.encoder=="function"?e.encoder:pn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:pn.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:pn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:pn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pn.strictNullHandling}};GO.exports=function(t,e){var r=t,n=oW(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Yi(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in BO?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=BO[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=VO(),p=0;p<i.length;++p){var d=i[p];n.skipNulls&&r[d]===null||WO(s,iW(r[d],d,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var f=s.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""}});var YO=$((DZ,QO)=>{"use strict";var Wa=Ub(),Hb=Object.prototype.hasOwnProperty,sW=Array.isArray,Vr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Wa.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},aW=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},XO=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},cW="utf8=%26%2310003%3B",uW="utf8=%E2%9C%93",lW=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,o),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<s.length;++c)s[c].indexOf("utf8=")===0&&(s[c]===uW?u="utf-8":s[c]===cW&&(u="iso-8859-1"),a=c,c=s.length);for(c=0;c<s.length;++c)if(c!==a){var l=s[c],p=l.indexOf("]="),d=p===-1?l.indexOf("="):p+1,f,m;d===-1?(f=r.decoder(l,Vr.decoder,u,"key"),m=r.strictNullHandling?null:""):(f=r.decoder(l.slice(0,d),Vr.decoder,u,"key"),m=Wa.maybeMap(XO(l.slice(d+1),r),function(g){return r.decoder(g,Vr.decoder,u,"value")})),m&&r.interpretNumericEntities&&u==="iso-8859-1"&&(m=aW(m)),l.indexOf("[]=")>-1&&(m=sW(m)?[m]:m),Hb.call(n,f)?n[f]=Wa.combine(n[f],m):n[f]=m}return n},pW=function(t,e,r,n){for(var i=n?e:XO(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?s={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(s=[],s[u]=i):c!=="__proto__"&&(s[c]=i)}i=s}return i},dW=function(e,r,n,i){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&s.exec(o),u=c?o.slice(0,c.index):o,l=[];if(u){if(!n.plainObjects&&Hb.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var p=0;n.depth>0&&(c=a.exec(o))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Hb.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+o.slice(c.index)+"]"),pW(l,r,n,i)}},fW=function(e){if(!e)return Vr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Vr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Vr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Vr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Vr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Vr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Vr.comma,decoder:typeof e.decoder=="function"?e.decoder:Vr.decoder,delimiter:typeof e.delimiter=="string"||Wa.isRegExp(e.delimiter)?e.delimiter:Vr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Vr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Vr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Vr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Vr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vr.strictNullHandling}};QO.exports=function(t,e){var r=fW(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?lW(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],c=dW(a,n[a],r,typeof t=="string");i=Wa.merge(i,c,r)}return r.allowSparse===!0?i:Wa.compact(i)}});var JO=$((IZ,ZO)=>{"use strict";var mW=KO(),hW=YO(),gW=Nd();ZO.exports={formats:gW,parse:hW,stringify:mW}});var _A=$((qJ,bA)=>{var iG=vo(),oG=(t,e)=>{let r=iG(t,e);return r?r.version:null};bA.exports=oG});var wA=$((LJ,xA)=>{var sG=vo(),aG=(t,e)=>{let r=sG(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};xA.exports=aG});var SA=$((jJ,EA)=>{var CA=an(),cG=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new CA(t instanceof CA?t.version:t,r).inc(e,n,i).version}catch{return null}};EA.exports=cG});var PA=$((FJ,RA)=>{var TA=vo(),uG=(t,e)=>{let r=TA(t,null,!0),n=TA(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,a=o?n:r,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};RA.exports=uG});var IA=$((UJ,DA)=>{var lG=an(),pG=(t,e)=>new lG(t,e).major;DA.exports=pG});var AA=$(($J,OA)=>{var dG=an(),fG=(t,e)=>new dG(t,e).minor;OA.exports=fG});var NA=$((HJ,kA)=>{var mG=an(),hG=(t,e)=>new mG(t,e).patch;kA.exports=hG});var qA=$((BJ,MA)=>{var gG=vo(),vG=(t,e)=>{let r=gG(t,e);return r&&r.prerelease.length?r.prerelease:null};MA.exports=vG});var jA=$((zJ,LA)=>{var yG=ti(),bG=(t,e,r)=>yG(e,t,r);LA.exports=bG});var UA=$((VJ,FA)=>{var _G=ti(),xG=(t,e)=>_G(t,e,!0);FA.exports=xG});var Bd=$((WJ,HA)=>{var $A=an(),wG=(t,e,r)=>{let n=new $A(t,r),i=new $A(e,r);return n.compare(i)||n.compareBuild(i)};HA.exports=wG});var zA=$((GJ,BA)=>{var CG=Bd(),EG=(t,e)=>t.sort((r,n)=>CG(r,n,e));BA.exports=EG});var WA=$((KJ,VA)=>{var SG=Bd(),TG=(t,e)=>t.sort((r,n)=>SG(n,r,e));VA.exports=TG});var KA=$((XJ,GA)=>{var RG=an(),PG=vo(),{safeRe:zd,t:Vd}=ua(),DG=(t,e)=>{if(t instanceof RG)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?zd[Vd.COERCEFULL]:zd[Vd.COERCE]);else{let c=e.includePrerelease?zd[Vd.COERCERTLFULL]:zd[Vd.COERCERTL],u;for(;(u=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",s=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return PG(`${n}.${i}.${o}${s}${a}`,e)};GA.exports=DG});var QA=$((QJ,XA)=>{var IG=ri(),OG=(t,e)=>new IG(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));XA.exports=OG});var ZA=$((YJ,YA)=>{var AG=an(),kG=ri(),NG=(t,e,r)=>{let n=null,i=null,o=null;try{o=new kG(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new AG(n,r))}),n};YA.exports=NG});var ek=$((ZJ,JA)=>{var MG=an(),qG=ri(),LG=(t,e,r)=>{let n=null,i=null,o=null;try{o=new qG(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new MG(n,r))}),n};JA.exports=LG});var nk=$((JJ,rk)=>{var d_=an(),jG=ri(),tk=Wc(),FG=(t,e)=>{t=new jG(t,e);let r=new d_("0.0.0");if(t.test(r)||(r=new d_("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new d_(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||tk(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||tk(r,o))&&(r=o)}return r&&t.test(r)?r:null};rk.exports=FG});var ok=$((eee,ik)=>{var UG=ri(),$G=(t,e)=>{try{return new UG(t,e).range||"*"}catch{return null}};ik.exports=$G});var Wd=$((tee,uk)=>{var HG=an(),ck=Kc(),{ANY:BG}=ck,zG=ri(),VG=fa(),sk=Wc(),ak=Tp(),WG=Rp(),GG=Sp(),KG=(t,e,r,n)=>{t=new HG(t,n),e=new zG(e,n);let i,o,s,a,c;switch(r){case">":i=sk,o=WG,s=ak,a=">",c=">=";break;case"<":i=ak,o=GG,s=sk,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(VG(t,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],p=null,d=null;if(l.forEach(f=>{f.semver===BG&&(f=new ck(">=0.0.0")),p=p||f,d=d||f,i(f.semver,p.semver,n)?p=f:s(f.semver,d.semver,n)&&(d=f)}),p.operator===a||p.operator===c||(!d.operator||d.operator===a)&&o(t,d.semver))return!1;if(d.operator===c&&s(t,d.semver))return!1}return!0};uk.exports=KG});var pk=$((ree,lk)=>{var XG=Wd(),QG=(t,e,r)=>XG(t,e,">",r);lk.exports=QG});var fk=$((nee,dk)=>{var YG=Wd(),ZG=(t,e,r)=>YG(t,e,"<",r);dk.exports=ZG});var gk=$((iee,hk)=>{var mk=ri(),JG=(t,e,r)=>(t=new mk(t,r),e=new mk(e,r),t.intersects(e,r));hk.exports=JG});var yk=$((oee,vk)=>{var eK=fa(),tK=ti();vk.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((l,p)=>tK(l,p,r));for(let l of s)eK(l,e,r)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,p]of n)l===p?a.push(l):!p&&l===s[0]?a.push("*"):p?l===s[0]?a.push(`<=${p}`):a.push(`${l} - ${p}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var Ek=$((see,Ck)=>{var bk=ri(),m_=Kc(),{ANY:f_}=m_,Pu=fa(),h_=ti(),rK=(t,e,r={})=>{if(t===e)return!0;t=new bk(t,r),e=new bk(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=iK(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},nK=[new m_(">=0.0.0-0")],_k=[new m_(">=0.0.0")],iK=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===f_){if(e.length===1&&e[0].semver===f_)return!0;r.includePrerelease?t=nK:t=_k}if(e.length===1&&e[0].semver===f_){if(r.includePrerelease)return!0;e=_k}let n=new Set,i,o;for(let f of t)f.operator===">"||f.operator===">="?i=xk(i,f,r):f.operator==="<"||f.operator==="<="?o=wk(o,f,r):n.add(f.semver);if(n.size>1)return null;let s;if(i&&o){if(s=h_(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let f of n){if(i&&!Pu(f,String(i),r)||o&&!Pu(f,String(o),r))return null;for(let m of e)if(!Pu(f,String(m),r))return!1;return!0}let a,c,u,l,p=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&o.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let f of e){if(l=l||f.operator===">"||f.operator===">=",u=u||f.operator==="<"||f.operator==="<=",i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator===">"||f.operator===">="){if(a=xk(i,f,r),a===f&&a!==i)return!1}else if(i.operator===">="&&!Pu(i.semver,String(f),r))return!1}if(o){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator==="<"||f.operator==="<="){if(c=wk(o,f,r),c===f&&c!==o)return!1}else if(o.operator==="<="&&!Pu(o.semver,String(f),r))return!1}if(!f.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||d||p)},xk=(t,e,r)=>{if(!t)return e;let n=h_(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},wk=(t,e,r)=>{if(!t)return e;let n=h_(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Ck.exports=rK});var Pk=$((aee,Rk)=>{var g_=ua(),Sk=Bc(),oK=an(),Tk=kv(),sK=vo(),aK=_A(),cK=wA(),uK=SA(),lK=PA(),pK=IA(),dK=AA(),fK=NA(),mK=qA(),hK=ti(),gK=jA(),vK=UA(),yK=Bd(),bK=zA(),_K=WA(),xK=Wc(),wK=Tp(),CK=Fv(),EK=Uv(),SK=Sp(),TK=Rp(),RK=$v(),PK=KA(),DK=Kc(),IK=ri(),OK=fa(),AK=QA(),kK=ZA(),NK=ek(),MK=nk(),qK=ok(),LK=Wd(),jK=pk(),FK=fk(),UK=gk(),$K=yk(),HK=Ek();Rk.exports={parse:sK,valid:aK,clean:cK,inc:uK,diff:lK,major:pK,minor:dK,patch:fK,prerelease:mK,compare:hK,rcompare:gK,compareLoose:vK,compareBuild:yK,sort:bK,rsort:_K,gt:xK,lt:wK,eq:CK,neq:EK,gte:SK,lte:TK,cmp:RK,coerce:PK,Comparator:DK,Range:IK,satisfies:OK,toComparators:AK,maxSatisfying:kK,minSatisfying:NK,minVersion:MK,validRange:qK,outside:LK,gtr:jK,ltr:FK,intersects:UK,simplifyRange:$K,subset:HK,SemVer:oK,re:g_.re,src:g_.src,tokens:g_.t,SEMVER_SPEC_VERSION:Sk.SEMVER_SPEC_VERSION,RELEASE_TYPES:Sk.RELEASE_TYPES,compareIdentifiers:Tk.compareIdentifiers,rcompareIdentifiers:Tk.rcompareIdentifiers}});var QK={};j_(QK,{activate:()=>KK,deactivate:()=>XK});module.exports=mN(QK);var Dr=$e(require("vscode")),Mk=$e(kx()),mn=$e(ny());var W0=$e(require("net")),Dp=$e(require("vscode"));var Xr=$e(require("vscode"));function wr(t,e){return Xr.workspace.getConfiguration(t,e)}function iy(t,e){let r=Xr.ConfigurationTarget.Global,n=Xr.workspace.getConfiguration(t).inspect(e);return n===void 0||(n.globalValue&&(r=Xr.ConfigurationTarget.Global),n.workspaceFolderValue&&(r=Xr.ConfigurationTarget.WorkspaceFolder),n.workspaceValue&&(r=Xr.ConfigurationTarget.Workspace)),r}function _o(){return Xr.window.visibleTextEditors.find(t=>!!t.viewColumn)}function Pp(t){return t===void 0||t.isUntitled?!1:!!t.fileName.endsWith("tf")}function Q$(t){return t.data?.retry!==void 0}async function V0(t,e,r){let n="Unknown Error";if(!Q$(t))if(t instanceof Error?(n=t.message,r.sendTelemetryException(t)):typeof t=="string"&&(n=t,r.sendTelemetryException(new Error(t))),n==="INVALID_URI_WSL"){if(e.globalState.get("terraform.disableWSLNotification")===!0)return;let i="It looks like you opened a WSL url using a Windows UNC path outside of the [Remote WSL extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl). The HashiCorp Terraform Extension works seamlessly with the Remote WSL Extension, but cannot work with this URL. Would you like to reopen this folder in the WSL Extension?",o=await Xr.window.showErrorMessage(i,{detail:i,modal:!1},{title:"Reopen Folder in WSL"},{title:"More Info"},{title:"Supress"});if(o===void 0)return;switch(o.title){case"Suppress":r.sendTelemetryEvent("disableWSLNotification"),e.globalState.update("terraform.disableWSLNotification",!0);break;case"Reopen Folder in WSL":r.sendTelemetryEvent("reopenInWSL"),await Xr.commands.executeCommand("remote-wsl.reopenInWSL");break;case"More Info":r.sendTelemetryEvent("wslMoreInfo"),await Xr.commands.executeCommand("vscode.open",Xr.Uri.parse("https://github.com/hashicorp/vscode-terraform/blob/v2.24.0/README.md#remote-extension-support"))}}else await Xr.window.showErrorMessage(n)}async function G0(t,e){let r,n=wr("terraform").get("languageServer.tcp.port");if(n){let a=Dp.workspace.getConfiguration("terraform").inspect("languageServer.path");return a!==void 0&&(a.globalValue||a.workspaceFolderValue||a.workspaceValue)&&Dp.window.showWarningMessage("You cannot use terraform.languageServer.tcp.port with terraform.languageServer.path. Ignoring terraform.languageServer.path and proceeding to connect via TCP"),r=async()=>{let c=new W0.Socket;return c.connect({port:n,host:"localhost"}),{writer:c,reader:c}},e.appendLine(`Connecting to language server via TCP at localhost:${n}`),r}let i=await t.resolvedPathToBinary(),o=wr("terraform").get("languageServer.args",[]);e.appendLine(`Launching language server: ${i} ${o.join(" ")}`);let s={command:i,args:o,options:{}};return r={run:s,debug:s},r}function K0(t,e){return t?t.capabilities.executeCommandProvider?.commands.includes(e)??!1:!1}var ha=$e(require("os")),gi=$e(require("vscode")),Y$=require("child_process"),Ip=class{constructor(e){this.ctx=e;this.ctx.subscriptions.push(gi.commands.registerCommand("terraform.generateBugReport",async()=>{let r=await gi.window.showInputBox({title:"Generate a Bug Report",prompt:"Enter a short description of the problem or hit enter to submit now",placeHolder:"For example: I'm having trouble getting autocomplete to work when I..."}),n=this.getExtensions(),i=await this.generateBody(n,r),s=`https://github.com/hashicorp/vscode-terraform/issues/new?body=${encodeURIComponent(i)}`;gi.commands.executeCommand("vscode.open",gi.Uri.parse(s))}))}dispose(){}async generateBody(e,r){return r||(r=`Steps To Reproduce
=====

Steps to reproduce the behavior:

1. Go to '...'
2. Type '...'
3. See error

Include any relevant Terraform configuration or project structure:

\`\`\`terraform
resource "github_repository" "test" {
  name = "vscode-terraform"
}
\`\`\`


You can use 'tree' to output ASCII-based hierarchy of your project.

If applicable, add screenshots to help explain your problem.

Expected Behavior
-----

<!-- What should have happened? -->

Actual Behavior
-----

<!-- What actually happened? -->

Additional context
-----

<!--
Add any other context about the problem here.
Note whether you use any tools for managing Terraform version/execution (e.g. 'tfenv')
any credentials helpers, or whether you have any other Terraform extensions installed.
-->
`),`Issue Description
=====

${r}

Environment Information
=====

Terraform Information
-----

${this.generateRuntimeMarkdown(await this.getRuntimeInfo())}

Visual Studio Code
-----

| Name | Version |
| --- | --- |
| Operating System | ${ha.type()} ${ha.arch()} ${ha.release()} |
| VSCode | ${gi.version}|

Visual Studio Code Extensions
-----

<details><summary>Visual Studio Code Extensions(Click to Expand)</summary>

${this.generateExtesnionMarkdown(e)}
</details>

Extension Logs
-----

> Find this from the first few lines of the relevant Output pane:
View -> Output -> 'HashiCorp Terraform'

`}generateExtesnionMarkdown(e){if(!e.length)return"none";let r=`|Extension|Author|Version|
|---|---|---|`,n=e.map(o=>`|${o.name}|${o.publisher}|${o.version}|`).join(`
`);return`${r}
${n}`}generateRuntimeMarkdown(e){return`
Version:	${e.version}
Platform:	${e.platform}
Outdated:	${e.outdated}
    `}getExtensions(){return gi.extensions.all.filter(r=>r.packageJSON.isBuiltin===!1).sort((r,n)=>r.packageJSON.name.toLowerCase()<n.packageJSON.name.toLowerCase()?-1:r.packageJSON.name.toLowerCase()>n.packageJSON.name.toLowerCase()?1:0).map(r=>({name:r.packageJSON.name,publisher:r.packageJSON.publisher,version:r.packageJSON.version}))}async getRuntimeInfo(){let e="terraform",r=Y$.spawnSync,n=r(e,["version","-json"]);if(n.error===void 0)try{let o=n.stdout.toString(),s=JSON.parse(o);return{version:s.terraform_version,platform:s.platform,outdated:s.terraform_outdated}}catch{}let i=r(e,["version"]);if(i.error===void 0)try{let o=i.stdout.toString()||i.stderr.toString(),a=new RegExp("v?(?<version>[0-9]+(?:.[0-9]+)*(?:-[A-Za-z0-9.]+)?)").exec(o),c=a&&a.length>1?a[1]:"Not found",u=o.split(`
`)[1].replace("on ","");return{version:c,platform:u,outdated:!0}}catch{}return{version:"Not found",platform:"Not found",outdated:!1}}};var nR=$e(require("path"));var Qr=$e(require("vscode")),Q0=$e(ny());var X0;(()=>{"use strict";var t={470:i=>{function o(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,u){for(var l,p="",d=0,f=-1,m=0,g=0;g<=c.length;++g){if(g<c.length)l=c.charCodeAt(g);else{if(l===47)break;l=47}if(l===47){if(!(f===g-1||m===1))if(f!==g-1&&m===2){if(p.length<2||d!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var y=p.lastIndexOf("/");if(y!==p.length-1){y===-1?(p="",d=0):d=(p=p.slice(0,y)).length-1-p.lastIndexOf("/"),f=g,m=0;continue}}else if(p.length===2||p.length===1){p="",d=0,f=g,m=0;continue}}u&&(p.length>0?p+="/..":p="..",d=2)}else p.length>0?p+="/"+c.slice(f+1,g):p=c.slice(f+1,g),d=g-f-1;f=g,m=0}else l===46&&m!==-1?++m:m=-1}return p}var a={resolve:function(){for(var c,u="",l=!1,p=arguments.length-1;p>=-1&&!l;p--){var d;p>=0?d=arguments[p]:(c===void 0&&(c=process.cwd()),d=c),o(d),d.length!==0&&(u=d+"/"+u,l=d.charCodeAt(0)===47)}return u=s(u,!l),l?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(o(c),c.length===0)return".";var u=c.charCodeAt(0)===47,l=c.charCodeAt(c.length-1)===47;return(c=s(c,!u)).length!==0||u||(c="."),c.length>0&&l&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return o(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var l=arguments[u];o(l),l.length>0&&(c===void 0?c=l:c+="/"+l)}return c===void 0?".":a.normalize(c)},relative:function(c,u){if(o(c),o(u),c===u||(c=a.resolve(c))===(u=a.resolve(u)))return"";for(var l=1;l<c.length&&c.charCodeAt(l)===47;++l);for(var p=c.length,d=p-l,f=1;f<u.length&&u.charCodeAt(f)===47;++f);for(var m=u.length-f,g=d<m?d:m,y=-1,b=0;b<=g;++b){if(b===g){if(m>g){if(u.charCodeAt(f+b)===47)return u.slice(f+b+1);if(b===0)return u.slice(f+b)}else d>g&&(c.charCodeAt(l+b)===47?y=b:b===0&&(y=0));break}var x=c.charCodeAt(l+b);if(x!==u.charCodeAt(f+b))break;x===47&&(y=b)}var w="";for(b=l+y+1;b<=p;++b)b!==p&&c.charCodeAt(b)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+u.slice(f+y):(f+=y,u.charCodeAt(f)===47&&++f,u.slice(f))},_makeLong:function(c){return c},dirname:function(c){if(o(c),c.length===0)return".";for(var u=c.charCodeAt(0),l=u===47,p=-1,d=!0,f=c.length-1;f>=1;--f)if((u=c.charCodeAt(f))===47){if(!d){p=f;break}}else d=!1;return p===-1?l?"/":".":l&&p===1?"//":c.slice(0,p)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');o(c);var l,p=0,d=-1,f=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var m=u.length-1,g=-1;for(l=c.length-1;l>=0;--l){var y=c.charCodeAt(l);if(y===47){if(!f){p=l+1;break}}else g===-1&&(f=!1,g=l+1),m>=0&&(y===u.charCodeAt(m)?--m==-1&&(d=l):(m=-1,d=g))}return p===d?d=g:d===-1&&(d=c.length),c.slice(p,d)}for(l=c.length-1;l>=0;--l)if(c.charCodeAt(l)===47){if(!f){p=l+1;break}}else d===-1&&(f=!1,d=l+1);return d===-1?"":c.slice(p,d)},extname:function(c){o(c);for(var u=-1,l=0,p=-1,d=!0,f=0,m=c.length-1;m>=0;--m){var g=c.charCodeAt(m);if(g!==47)p===-1&&(d=!1,p=m+1),g===46?u===-1?u=m:f!==1&&(f=1):u!==-1&&(f=-1);else if(!d){l=m+1;break}}return u===-1||p===-1||f===0||f===1&&u===p-1&&u===l+1?"":c.slice(u,p)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,l){var p=l.dir||l.root,d=l.base||(l.name||"")+(l.ext||"");return p?p===l.root?p+d:p+"/"+d:d}(0,c)},parse:function(c){o(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var l,p=c.charCodeAt(0),d=p===47;d?(u.root="/",l=1):l=0;for(var f=-1,m=0,g=-1,y=!0,b=c.length-1,x=0;b>=l;--b)if((p=c.charCodeAt(b))!==47)g===-1&&(y=!1,g=b+1),p===46?f===-1?f=b:x!==1&&(x=1):f!==-1&&(x=-1);else if(!y){m=b+1;break}return f===-1||g===-1||x===0||x===1&&f===g-1&&f===m+1?g!==-1&&(u.base=u.name=m===0&&d?c.slice(1,g):c.slice(m,g)):(m===0&&d?(u.name=c.slice(1,f),u.base=c.slice(1,g)):(u.name=c.slice(m,f),u.base=c.slice(m,g)),u.ext=c.slice(f,g)),m>0?u.dir=c.slice(0,m-1):d&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},e={};function r(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.d=(i,o)=>{for(var s in o)r.o(o,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},r.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>d,Utils:()=>ne}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(X,H){if(!X.scheme&&H)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${X.authority}", path: "${X.path}", query: "${X.query}", fragment: "${X.fragment}"}`);if(X.scheme&&!o.test(X.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(X.path){if(X.authority){if(!s.test(X.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(X.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{static isUri(H){return H instanceof d||!!H&&typeof H.authority=="string"&&typeof H.fragment=="string"&&typeof H.path=="string"&&typeof H.query=="string"&&typeof H.scheme=="string"&&typeof H.fsPath=="string"&&typeof H.with=="function"&&typeof H.toString=="function"}scheme;authority;path;query;fragment;constructor(H,ae,ee,xe,pe,z=!1){typeof H=="object"?(this.scheme=H.scheme||u,this.authority=H.authority||u,this.path=H.path||u,this.query=H.query||u,this.fragment=H.fragment||u):(this.scheme=function(Z,te){return Z||te?Z:"file"}(H,z),this.authority=ae||u,this.path=function(Z,te){switch(Z){case"https":case"http":case"file":te?te[0]!==l&&(te=l+te):te=l}return te}(this.scheme,ee||u),this.query=xe||u,this.fragment=pe||u,c(this,z))}get fsPath(){return x(this,!1)}with(H){if(!H)return this;let{scheme:ae,authority:ee,path:xe,query:pe,fragment:z}=H;return ae===void 0?ae=this.scheme:ae===null&&(ae=u),ee===void 0?ee=this.authority:ee===null&&(ee=u),xe===void 0?xe=this.path:xe===null&&(xe=u),pe===void 0?pe=this.query:pe===null&&(pe=u),z===void 0?z=this.fragment:z===null&&(z=u),ae===this.scheme&&ee===this.authority&&xe===this.path&&pe===this.query&&z===this.fragment?this:new m(ae,ee,xe,pe,z)}static parse(H,ae=!1){let ee=p.exec(H);return ee?new m(ee[2]||u,N(ee[4]||u),N(ee[5]||u),N(ee[7]||u),N(ee[9]||u),ae):new m(u,u,u,u,u)}static file(H){let ae=u;if(i&&(H=H.replace(/\\/g,l)),H[0]===l&&H[1]===l){let ee=H.indexOf(l,2);ee===-1?(ae=H.substring(2),H=l):(ae=H.substring(2,ee),H=H.substring(ee)||l)}return new m("file",ae,H,u,u)}static from(H){let ae=new m(H.scheme,H.authority,H.path,H.query,H.fragment);return c(ae,!0),ae}toString(H=!1){return w(this,H)}toJSON(){return this}static revive(H){if(H){if(H instanceof d)return H;{let ae=new m(H);return ae._formatted=H.external,ae._fsPath=H._sep===f?H.fsPath:null,ae}}return H}}let f=i?1:void 0;class m extends d{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(H=!1){return H?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let H={$mid:1};return this._fsPath&&(H.fsPath=this._fsPath,H._sep=f),this._formatted&&(H.external=this._formatted),this.path&&(H.path=this.path),this.scheme&&(H.scheme=this.scheme),this.authority&&(H.authority=this.authority),this.query&&(H.query=this.query),this.fragment&&(H.fragment=this.fragment),H}}let g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function y(X,H,ae){let ee,xe=-1;for(let pe=0;pe<X.length;pe++){let z=X.charCodeAt(pe);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===45||z===46||z===95||z===126||H&&z===47||ae&&z===91||ae&&z===93||ae&&z===58)xe!==-1&&(ee+=encodeURIComponent(X.substring(xe,pe)),xe=-1),ee!==void 0&&(ee+=X.charAt(pe));else{ee===void 0&&(ee=X.substr(0,pe));let Z=g[z];Z!==void 0?(xe!==-1&&(ee+=encodeURIComponent(X.substring(xe,pe)),xe=-1),ee+=Z):xe===-1&&(xe=pe)}}return xe!==-1&&(ee+=encodeURIComponent(X.substring(xe))),ee!==void 0?ee:X}function b(X){let H;for(let ae=0;ae<X.length;ae++){let ee=X.charCodeAt(ae);ee===35||ee===63?(H===void 0&&(H=X.substr(0,ae)),H+=g[ee]):H!==void 0&&(H+=X[ae])}return H!==void 0?H:X}function x(X,H){let ae;return ae=X.authority&&X.path.length>1&&X.scheme==="file"?`//${X.authority}${X.path}`:X.path.charCodeAt(0)===47&&(X.path.charCodeAt(1)>=65&&X.path.charCodeAt(1)<=90||X.path.charCodeAt(1)>=97&&X.path.charCodeAt(1)<=122)&&X.path.charCodeAt(2)===58?H?X.path.substr(1):X.path[1].toLowerCase()+X.path.substr(2):X.path,i&&(ae=ae.replace(/\//g,"\\")),ae}function w(X,H){let ae=H?b:y,ee="",{scheme:xe,authority:pe,path:z,query:Z,fragment:te}=X;if(xe&&(ee+=xe,ee+=":"),(pe||xe==="file")&&(ee+=l,ee+=l),pe){let de=pe.indexOf("@");if(de!==-1){let he=pe.substr(0,de);pe=pe.substr(de+1),de=he.lastIndexOf(":"),de===-1?ee+=ae(he,!1,!1):(ee+=ae(he.substr(0,de),!1,!1),ee+=":",ee+=ae(he.substr(de+1),!1,!0)),ee+="@"}pe=pe.toLowerCase(),de=pe.lastIndexOf(":"),de===-1?ee+=ae(pe,!1,!0):(ee+=ae(pe.substr(0,de),!1,!0),ee+=pe.substr(de))}if(z){if(z.length>=3&&z.charCodeAt(0)===47&&z.charCodeAt(2)===58){let de=z.charCodeAt(1);de>=65&&de<=90&&(z=`/${String.fromCharCode(de+32)}:${z.substr(3)}`)}else if(z.length>=2&&z.charCodeAt(1)===58){let de=z.charCodeAt(0);de>=65&&de<=90&&(z=`${String.fromCharCode(de+32)}:${z.substr(2)}`)}ee+=ae(z,!0,!1)}return Z&&(ee+="?",ee+=ae(Z,!1,!1)),te&&(ee+="#",ee+=H?te:y(te,!1,!1)),ee}function C(X){try{return decodeURIComponent(X)}catch{return X.length>3?X.substr(0,3)+C(X.substr(3)):X}}let D=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(X){return X.match(D)?X.replace(D,H=>C(H)):X}var M=r(470);let F=M.posix||M,Q="/";var ne;(function(X){X.joinPath=function(H,...ae){return H.with({path:F.join(H.path,...ae)})},X.resolvePath=function(H,...ae){let ee=H.path,xe=!1;ee[0]!==Q&&(ee=Q+ee,xe=!0);let pe=F.resolve(ee,...ae);return xe&&pe[0]===Q&&!H.authority&&(pe=pe.substring(1)),H.with({path:pe})},X.dirname=function(H){if(H.path.length===0||H.path===Q)return H;let ae=F.dirname(H.path);return ae.length===1&&ae.charCodeAt(0)===46&&(ae=""),H.with({path:ae})},X.basename=function(H){return F.basename(H.path)},X.extname=function(H){return F.extname(H.path)}})(ne||(ne={}))})(),X0=n})();var{URI:G8,Utils:xo}=X0;async function Y0(t,e,r){return await ga("terraform-ls.module.terraform",t,e,r)}async function Z$(t,e,r){return await ga("terraform-ls.module.callers",t,e,r)}async function Z0(t,e,r){return await ga("terraform-ls.module.calls",t,e,r)}async function J0(t,e,r){return await ga("terraform-ls.module.providers",t,e,r)}async function eR(t,e){try{let r=Qr.workspace.workspaceFolders,n=await Qr.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,title:"Choose which workspace to initialize with terraform init",defaultUri:r?r[0]?.uri:void 0,openLabel:"Initialize"});if(n===void 0)return;let i=n[0];return ga("terraform-ls.terraform.init",i.toString(),t,e)}catch(r){r instanceof Error?Qr.window.showErrorMessage(r.message):typeof r=="string"&&Qr.window.showErrorMessage(r)}}async function tR(t,e){try{await rR("initCurrent",t,e)}catch(r){r instanceof Error?Qr.window.showErrorMessage(r.message):typeof r=="string"&&Qr.window.showErrorMessage(r)}}async function Op(t,e,r,n=!1){try{await rR(t,e,r,n)}catch(i){i instanceof Error?Qr.window.showErrorMessage(i.message):typeof i=="string"&&Qr.window.showErrorMessage(i)}}async function rR(t,e,r,n=!1){let i=_o();if(i===void 0){Qr.window.showErrorMessage(`Open a Terraform module file and then run terraform ${t} again`);return}let o=xo.dirname(i.document.uri),s=await Z$(o.toString(),e,r),a=await J$(o,s.callers);if(a===void 0)return;if(n){let u=`Terraform ${a}`,l=Qr.Uri.parse(a),p=await Qr.window.showInputBox({value:`terraform ${t}`,prompt:`Run in ${a}`});if(p===void 0)return;let d=Qr.window.terminals.find(f=>f.name===u)||Qr.window.createTerminal({name:`Terraform ${a}`,cwd:l});d.sendText(p),d.show(),r.sendTelemetryEvent("execShellCommand",{command:t});return}let c=`terraform-ls.terraform.${t}`;return ga(c,a,e,r)}async function ga(t,e,r,n){if(t==="terraform-ls.terraform.initCurrent"&&(n.sendTelemetryEvent("execWorkspaceCommand",{command:t}),t="terraform-ls.terraform.init"),!K0(r.initializeResult,t))throw new Error(`${t} not supported by this terraform-ls version`);let o={command:t,arguments:[`uri=${e}`]};return r.sendRequest(Q0.ExecuteCommandRequest.type,o)}async function J$(t,e){let r;if(e===void 0)return t.toString();if(e.length>1){let n=await Qr.window.showQuickPick(e.map(i=>i.uri),{canPickMany:!1,title:"Choose which workspace to initialize with terraform init"});if(n===void 0)return n;r=n}else e.length===1?r=e[0].uri:r=t.toString();return r}var At=$e(require("vscode"));var oy=class extends At.TreeItem{constructor(r,n,i,o,s,a,c){super(r,c.length>=1?At.TreeItemCollapsibleState.Collapsed:At.TreeItemCollapsibleState.None);this.label=r;this.sourceAddr=n;this.version=i;this.sourceType=o;this.docsLink=s;this.terraformIcon=a;this.children=c;this.description=this.version?`${this.version}`:"",this.version===void 0?this.tooltip=`${this.sourceAddr}`:this.tooltip=`${this.sourceAddr}@${this.version}`,this.iconPath=this.getIcon(this.sourceType)}getIcon(r){switch(r){case"tfregistry":return{light:this.terraformIcon,dark:this.terraformIcon};case"local":return new At.ThemeIcon("symbol-folder");case"github":return new At.ThemeIcon("github");case"git":return new At.ThemeIcon("git-branch");default:return new At.ThemeIcon("extensions-view-icon")}}},kp=class{constructor(e,r,n){this.client=r;this.reporter=n;this.svg=e.asAbsolutePath(nR.join("assets","icons","terraform.svg")),e.subscriptions.push(At.commands.registerCommand("terraform.modules.refreshList",()=>this.refresh()),At.commands.registerCommand("terraform.modules.openDocumentation",i=>{i.docsLink&&At.env.openExternal(At.Uri.parse(i.docsLink))}),At.window.onDidChangeActiveTextEditor(async()=>{this.refresh()}))}_onDidChangeTreeData=new At.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;svg="";refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){if(e)return Promise.resolve(e.children);{let r=this.getModules();return Promise.resolve(r)}}async getModules(){let e=_o();if(await At.commands.executeCommand("setContext","terraform.modules.documentOpened",!0),await At.commands.executeCommand("setContext","terraform.modules.documentIsTerraform",!0),await At.commands.executeCommand("setContext","terraform.modules.lspConnected",!0),await At.commands.executeCommand("setContext","terraform.modules.noResponse",!1),await At.commands.executeCommand("setContext","terraform.modules.noModules",!1),e?.document===void 0)return await At.commands.executeCommand("setContext","terraform.modules.documentOpened",!1),[];if(!Pp(e.document))return await At.commands.executeCommand("setContext","terraform.modules.documentIsTerraform",!1),[];if(this.client===void 0)return await At.commands.executeCommand("setContext","terraform.modules.lspConnected",!1),[];let r=e.document.uri,n=xo.dirname(r),i;try{if(i=await Z0(n.toString(),this.client,this.reporter),i===null)return await At.commands.executeCommand("setContext","terraform.modules.noResponse",!0),[]}catch{return await At.commands.executeCommand("setContext","terraform.modules.noResponse",!0),[]}try{let o=i.module_calls.map(s=>this.toModuleCall(s.name,s.source_addr,s.version,s.source_type,s.docs_link,this.svg,s.dependent_modules));return o.length===0&&await At.commands.executeCommand("setContext","terraform.modules.noModules",!0),o}catch{return await At.commands.executeCommand("setContext","terraform.modules.noResponse",!0),[]}}toModuleCall(e,r,n,i,o,s,a){let c=[];return a.length!==0&&(c=a.map(u=>this.toModuleCall(u.name,u.source_addr,u.version,u.source_type,u.docs_link,s,u.dependent_modules))),new oy(e,r,n,i,o,s,c)}};var Gt=$e(require("vscode"));var sy=class extends Gt.TreeItem{constructor(r,n,i,o,s){super(n,Gt.TreeItemCollapsibleState.None);this.fullName=r;this.displayName=n;this.requiredVersion=i;this.installedVersion=o;this.docsLink=s;this.description=o??"",this.iconPath=new Gt.ThemeIcon("package"),this.tooltip=`${r} ${i??""}`,s&&(this.contextValue="moduleProviderHasDocs")}},Np=class{constructor(e,r,n){this.client=r;this.reporter=n;e.subscriptions.push(Gt.commands.registerCommand("terraform.providers.refreshList",()=>this.refresh()),Gt.window.onDidChangeActiveTextEditor(async()=>{this.refresh()}),Gt.commands.registerCommand("terraform.providers.openDocumentation",i=>{i.docsLink&&Gt.env.openExternal(Gt.Uri.parse(i.docsLink))}))}didChangeTreeData=new Gt.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;refresh(){this.didChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){return e?[]:this.getProvider()}async getProvider(){let e=_o();if(await Gt.commands.executeCommand("setContext","terraform.providers.documentOpened",!0),await Gt.commands.executeCommand("setContext","terraform.providers.documentIsTerraform",!0),await Gt.commands.executeCommand("setContext","terraform.providers.lspConnected",!0),await Gt.commands.executeCommand("setContext","terraform.providers.noResponse",!1),await Gt.commands.executeCommand("setContext","terraform.providers.noProviders",!1),e?.document===void 0)return await Gt.commands.executeCommand("setContext","terraform.providers.documentOpened",!1),[];if(!Pp(e.document))return await Gt.commands.executeCommand("setContext","terraform.providers.documentIsTerraform",!1),[];if(this.client===void 0)return await Gt.commands.executeCommand("setContext","terraform.providers.lspConnected",!1),[];let r=e.document.uri,n=xo.dirname(r),i;try{if(i=await J0(n.toString(),this.client,this.reporter),i===null)return await Gt.commands.executeCommand("setContext","terraform.providers.noResponse",!0),[]}catch{return await Gt.commands.executeCommand("setContext","terraform.providers.noResponse",!0),[]}try{let o=Object.entries(i.provider_requirements).map(([s,a])=>new sy(s,a.display_name,a.version_constraint,i.installed_providers[s],a.docs_link));return o.length===0&&await Gt.commands.executeCommand("setContext","terraform.providers.noProviders",!0),o}catch{return await Gt.commands.executeCommand("setContext","terraform.providers.noResponse",!0),[]}}};var wo=$e(require("path")),Lp=$e(require("vscode")),RR=$e(TR());var uH="bin",qp=class{constructor(e){this.context=e;this.customBinPath=wr("terraform").get("languageServer.path")}customBinPath;installPath(){return wo.join(this.context.extensionPath,uH)}hasCustomBinPath(){return!!this.customBinPath}binPath(){return this.customBinPath?this.customBinPath:wo.resolve(this.installPath(),this.binName())}binName(){return this.customBinPath?wo.basename(this.customBinPath):process.platform==="win32"?"terraform-ls.exe":"terraform-ls"}async resolvedPathToBinary(){let e=this.binPath(),r;try{wo.isAbsolute(e)?(await Lp.workspace.fs.stat(Lp.Uri.file(e)),r=e):r=RR.sync(e),console.log(`Found server at ${r}`)}catch(n){let i="";throw this.customBinPath&&(i='. Check "terraform.languageServer.path" in your settings.'),new Error(`Unable to launch language server: ${n instanceof Error?n.message:n}${i}`)}return r}};var DR=$e(require("vscode")),PR=1,jp=class{constructor(e,r){this.client=e;this.reporter=r}disposables=[];clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental||(e.experimental={}),e.experimental.telemetryVersion=PR}initialize(){DR.env.isTelemetryEnabled!==!1&&this.disposables.push(this.client.onTelemetry(e=>{if(e.v!==PR){console.log(`unsupported telemetry event: ${e}`);return}this.reporter.sendRawTelemetryEvent(e.name,e.properties)}))}dispose(){this.disposables.forEach(e=>e.dispose())}};var Vi=$e(require("vscode")),OR=$e(ry());var IR="client.showReferences",lH="editor.action.showReferences",Fp=class{constructor(e){this._client=e}registeredCommands=[];isEnabled=wr("terraform").get("codelens.referenceCount",!1);clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){this.isEnabled!==!1&&(e.experimental||(e.experimental={}),e.experimental.showReferencesCommandId=IR)}initialize(e){if(!e.experimental?.referenceCountCodeLens||this.isEnabled===!1)return;let r=Vi.commands.registerCommand(IR,async(n,i)=>{let o=this._client,s=Vi.window?.activeTextEditor?.document;if(!s)return;let a=new Vi.Position(n.line,n.character),c={includeDeclaration:i.includeDeclaration},u=o.getFeature(OR.ReferencesRequest.method).getProvider(s);if(!u)return;let l=new Vi.CancellationTokenSource,p=await u.provideReferences(s,a,c,l.token);await Vi.commands.executeCommand(lH,s.uri,a,p)});this.registeredCommands.push(r)}dispose(){this.registeredCommands.forEach(function(e,r,n){e.dispose(),n.splice(r,1)})}};var Up=class{constructor(e,r){this._client=e;this.manifest=r}clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){if(!e.textDocument||!e.textDocument.semanticTokens)return;let r=this.tokenTypesFromExtManifest(this.manifest),n=this.tokenModifiersFromExtManifest(this.manifest),i=e.textDocument.semanticTokens.tokenTypes;e.textDocument.semanticTokens.tokenTypes=i.concat(r);let o=e.textDocument.semanticTokens.tokenModifiers;e.textDocument.semanticTokens.tokenModifiers=o.concat(n)}initialize(e){}dispose(){}tokenTypesFromExtManifest(e){return e.contributes.semanticTokenTypes?e.contributes.semanticTokenTypes.map(r=>r.id):[]}tokenModifiersFromExtManifest(e){return e.contributes.semanticTokenModifiers?e.contributes.semanticTokenModifiers.map(r=>r.id):[]}};var Xc=$e(require("vscode")),AR="client.refreshModuleProviders",$p=class{constructor(e,r){this.client=e;this.view=r}disposables=[];clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental||(e.experimental={}),e.experimental.refreshModuleProvidersCommandId=AR}async initialize(e){if(this.disposables.push(Xc.window.registerTreeDataProvider("terraform.providers",this.view)),!e.experimental?.refreshModuleProviders){console.log("Server doesn't support client.refreshModuleProviders"),await Xc.commands.executeCommand("setContext","terraform.providers.supported",!1);return}await Xc.commands.executeCommand("setContext","terraform.providers.supported",!0);let r=this.client.onRequest(AR,()=>{this.view?.refresh()});this.disposables.push(r)}dispose(){this.disposables.forEach(e=>e.dispose())}};var Qc=$e(require("vscode")),kR="client.refreshModuleCalls",Hp=class{constructor(e,r){this.client=e;this.view=r}disposables=[];clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental||(e.experimental={}),e.experimental.refreshModuleCallsCommandId=kR}async initialize(e){if(this.disposables.push(Qc.window.registerTreeDataProvider("terraform.modules",this.view)),!e.experimental?.refreshModuleCalls){console.log("Server does not support client.refreshModuleCalls"),await Qc.commands.executeCommand("setContext","terraform.modules.supported",!1);return}await Qc.commands.executeCommand("setContext","terraform.modules.supported",!0);let r=this.client.onRequest(kR,()=>{this.view?.refresh()});this.disposables.push(r)}dispose(){this.disposables.forEach(e=>e.dispose())}};var Yc=$e(require("vscode")),vi=Yc.languages.createLanguageStatusItem("terraform-ls.status",[{language:"terraform"},{language:"terraform-vars"},{language:"terraform-stack"},{language:"terraform-deploy"},{language:"terraform-test"},{language:"terraform-mock"}]);vi.name="Terraform LS";vi.detail="Terraform LS";function NR(t){vi.text=t}function Zc(){vi.busy=!1}function MR(){vi.busy=!0}function qR(){vi.busy=!0}function LR(){vi.severity=Yc.LanguageStatusSeverity.Warning,vi.busy=!1}function cy(t,e,r=Yc.LanguageStatusSeverity.Information){vi.busy=e,vi.detail=t,vi.severity=r}var jR=$e(require("vscode")),Jc=jR.languages.createLanguageStatusItem("terraform.installedVersion",[{language:"terraform"},{language:"terraform-vars"}]);Jc.name="TerraformInstalledVersion";Jc.detail="Terraform Installed";function FR(t){Jc.text=t}function ly(){Jc.busy=!1}function UR(){Jc.busy=!0}var $R=$e(require("vscode")),eu=$R.languages.createLanguageStatusItem("terraform.requiredVersion",[{language:"terraform"},{language:"terraform-vars"}]);eu.name="TerraformRequiredVersion";eu.detail="Terraform Required";function HR(t){eu.text=t}function py(){eu.busy=!1}function BR(){eu.busy=!0}var Bp=class{constructor(e,r,n){this.client=e;this.reporter=r;this.outputChannel=n}disposables=[];clientTerraformVersionCommandId="client.refreshTerraformVersion";clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental=e.experimental||{},e.experimental.refreshTerraformVersionCommandId=this.clientTerraformVersionCommandId}async initialize(e){if(!e.experimental?.refreshTerraformVersion){this.outputChannel.appendLine("Server doesn't support client.refreshTerraformVersion");return}let r=this.client.onRequest(this.clientTerraformVersionCommandId,async()=>{let n=_o();if(n===void 0)return;let i=xo.dirname(n.document.uri);try{UR(),BR(),qR();let o=await Y0(i.toString(),this.client,this.reporter);FR(o.discovered_version||"unknown"),HR(o.required_version||"any"),Zc(),ly(),py()}catch(o){let s="Unknown Error";o instanceof Error?s=o.message:typeof o=="string"&&(s=o),this.outputChannel.appendLine(s),Zc(),ly(),py()}});this.disposables.push(r)}dispose(){this.disposables.forEach((e,r,n)=>{e.dispose(),n.splice(r,1)})}};var zp=class{constructor(e,r,n){this.client=e;this.reporter=r;this.outputChannel=n}disposables=[];clear(){}getState(){return{kind:"static"}}fillClientCapabilities(e){e.experimental||(e.experimental={})}initialize(){this.reporter.sendTelemetryEvent("startClient"),this.outputChannel.appendLine("Started client");let e=this.client.initializeResult;e!==void 0&&NR(e.serverInfo?.version??"")}dispose(){this.disposables.forEach(e=>e.dispose())}};function zR(){let t=wr("terraform").get("validation",{enableEnhancedValidation:!0}),e=wr("terraform").get("languageServer.terraform",{path:"",timeout:"",logFilePath:""}),r=wr("terraform").get("languageServer.indexing",{ignoreDirectoryNames:[],ignorePaths:[]}),n=wr("terraform").get("languageServer.ignoreSingleFileWarning",!1),i=wr("terraform").get("experimentalFeatures"),o=wr("terraform").get("languageServer.rootModules",[]);if(o.length>0&&r.ignorePaths.length>0)throw new Error("Only one of rootModules and indexing.ignorePaths can be set at the same time, please remove the conflicting config and reload");return{validation:t,experimentalFeatures:i,ignoreSingleFileWarning:n,terraform:e,...o.length>0&&{rootModulePaths:o},indexing:r}}var ni=$e(require("vscode"));var Vp=class{commands;constructor(){this.commands=[ni.workspace.onDidChangeConfiguration(async e=>{(e.affectsConfiguration("terraform")||e.affectsConfiguration("terraform-ls"))&&await ni.window.showInformationMessage("Reload VSCode window to apply language server changes","Reload")==="Reload"&&ni.commands.executeCommand("workbench.action.reloadWindow")}),ni.commands.registerCommand("terraform.enableLanguageServer",async()=>{if(wr("terraform").get("languageServer.enable")===!0)return;let e=iy("terraform","languageServer.enable");await wr("terraform").update("languageServer.enable",!0,e)}),ni.commands.registerCommand("terraform.disableLanguageServer",async()=>{if(wr("terraform").get("languageServer.enable")===!1)return;let e=iy("terraform","languageServer.enable");await wr("terraform").update("languageServer.enable",!1,e)}),ni.commands.registerCommand("terraform.openSettingsJson",async()=>await ni.workspace.getConfiguration("workbench").get("settings.editor")==="json"?await ni.commands.executeCommand("workbench.action.openSettingsJson",{revealSetting:{key:"terraform.languageServer.enable",edit:!0}}):await ni.commands.executeCommand("workbench.action.openSettings",{focusSearch:!0,query:"@ext:hashicorp.terraform"}))]}dispose(){this.commands.forEach(e=>e.dispose())}};var va=$e(require("vscode"));var Wp=class{constructor(e,r){this.client=e;this.reporter=r;this.commands=[va.commands.registerCommand("terraform.init",async()=>{await eR(this.client,this.reporter)}),va.commands.registerCommand("terraform.initCurrent",async()=>{await tR(this.client,this.reporter)}),va.commands.registerCommand("terraform.apply",async()=>{await Op("apply",this.client,this.reporter,!0)}),va.commands.registerCommand("terraform.plan",async()=>{await Op("plan",this.client,this.reporter,!0)}),va.commands.registerCommand("terraform.validate",async()=>{await Op("validate",this.client,this.reporter)})]}commands;dispose(){this.commands.forEach(e=>e.dispose())}};var Yt=$e(require("vscode"));var Ze=$e(require("vscode"));var Xa=$e(require("vscode"));function tu(t,e){return function(){return t.apply(e,arguments)}}var{toString:fH}=Object.prototype,{getPrototypeOf:my}=Object,Kp=(t=>e=>{let r=fH.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yi=t=>(t=t.toLowerCase(),e=>Kp(e)===t),Xp=t=>e=>typeof e===t,{isArray:ya}=Array,ru=Xp("undefined");function mH(t){return t!==null&&!ru(t)&&t.constructor!==null&&!ru(t.constructor)&&$n(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var GR=yi("ArrayBuffer");function hH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&GR(t.buffer),e}var gH=Xp("string"),$n=Xp("function"),KR=Xp("number"),Qp=t=>t!==null&&typeof t=="object",vH=t=>t===!0||t===!1,Gp=t=>{if(Kp(t)!=="object")return!1;let e=my(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yH=yi("Date"),bH=yi("File"),_H=yi("Blob"),xH=yi("FileList"),wH=t=>Qp(t)&&$n(t.pipe),CH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$n(t.append)&&((e=Kp(t))==="formdata"||e==="object"&&$n(t.toString)&&t.toString()==="[object FormData]"))},EH=yi("URLSearchParams"),[SH,TH,RH,PH]=["ReadableStream","Request","Response","Headers"].map(yi),DH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nu(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ya(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function XR(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var Jo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QR=t=>!ru(t)&&t!==Jo;function fy(){let{caseless:t}=QR(this)&&this||{},e={},r=(n,i)=>{let o=t&&XR(e,i)||i;Gp(e[o])&&Gp(n)?e[o]=fy(e[o],n):Gp(n)?e[o]=fy({},n):ya(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&nu(arguments[n],r);return e}var IH=(t,e,r,{allOwnKeys:n}={})=>(nu(e,(i,o)=>{r&&$n(i)?t[o]=tu(i,r):t[o]=i},{allOwnKeys:n}),t),OH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),AH=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},kH=(t,e,r,n)=>{let i,o,s,a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&my(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},NH=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},MH=t=>{if(!t)return null;if(ya(t))return t;let e=t.length;if(!KR(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},qH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&my(Uint8Array)),LH=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let o=i.value;e.call(t,o[0],o[1])}},jH=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},FH=yi("HTMLFormElement"),UH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),VR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),$H=yi("RegExp"),YR=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};nu(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},HH=t=>{YR(t,(e,r)=>{if($n(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if($n(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},BH=(t,e)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0})};return ya(t)?n(t):n(String(t).split(e)),r},zH=()=>{},VH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,dy="abcdefghijklmnopqrstuvwxyz",WR="0123456789",ZR={DIGIT:WR,ALPHA:dy,ALPHA_DIGIT:dy+dy.toUpperCase()+WR},WH=(t=16,e=ZR.ALPHA_DIGIT)=>{let r="",{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function GH(t){return!!(t&&$n(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var KH=t=>{let e=new Array(10),r=(n,i)=>{if(Qp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let o=ya(n)?[]:{};return nu(n,(s,a)=>{let c=r(s,i+1);!ru(c)&&(o[a]=c)}),e[i]=void 0,o}}return n};return r(t,0)},XH=yi("AsyncFunction"),QH=t=>t&&(Qp(t)||$n(t))&&$n(t.then)&&$n(t.catch),JR=((t,e)=>t?setImmediate:e?((r,n)=>(Jo.addEventListener("message",({source:i,data:o})=>{i===Jo&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Jo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",$n(Jo.postMessage)),YH=typeof queueMicrotask<"u"?queueMicrotask.bind(Jo):typeof process<"u"&&process.nextTick||JR,G={isArray:ya,isArrayBuffer:GR,isBuffer:mH,isFormData:CH,isArrayBufferView:hH,isString:gH,isNumber:KR,isBoolean:vH,isObject:Qp,isPlainObject:Gp,isReadableStream:SH,isRequest:TH,isResponse:RH,isHeaders:PH,isUndefined:ru,isDate:yH,isFile:bH,isBlob:_H,isRegExp:$H,isFunction:$n,isStream:wH,isURLSearchParams:EH,isTypedArray:qH,isFileList:xH,forEach:nu,merge:fy,extend:IH,trim:DH,stripBOM:OH,inherits:AH,toFlatObject:kH,kindOf:Kp,kindOfTest:yi,endsWith:NH,toArray:MH,forEachEntry:LH,matchAll:jH,isHTMLForm:FH,hasOwnProperty:VR,hasOwnProp:VR,reduceDescriptors:YR,freezeMethods:HH,toObjectSet:BH,toCamelCase:UH,noop:zH,toFiniteNumber:VH,findKey:XR,global:Jo,isContextDefined:QR,ALPHABET:ZR,generateString:WH,isSpecCompliantForm:GH,toJSONObject:KH,isAsyncFn:XH,isThenable:QH,setImmediate:JR,asap:YH};function ba(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}G.inherits(ba,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var eP=ba.prototype,tP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tP[t]={value:t}});Object.defineProperties(ba,tP);Object.defineProperty(eP,"isAxiosError",{value:!0});ba.from=(t,e,r,n,i,o)=>{let s=Object.create(eP);return G.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ba.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var Se=ba;var LP=$e(qP(),1),Jp=LP.default;function Sy(t){return G.isPlainObject(t)||G.isArray(t)}function FP(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function jP(t,e,r){return t?t.concat(e).map(function(i,o){return i=FP(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function N2(t){return G.isArray(t)&&!t.some(Sy)}var M2=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function q2(t,e,r){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new(Jp||FormData),r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!G.isUndefined(y[g])});let n=r.metaTokens,i=r.visitor||l,o=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(G.isDate(m))return m.toISOString();if(!c&&G.isBlob(m))throw new Se("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(m)||G.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function l(m,g,y){let b=m;if(m&&!y&&typeof m=="object"){if(G.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(G.isArray(m)&&N2(m)||(G.isFileList(m)||G.endsWith(g,"[]"))&&(b=G.toArray(m)))return g=FP(g),b.forEach(function(w,C){!(G.isUndefined(w)||w===null)&&e.append(s===!0?jP([g],C,o):s===null?g:g+"[]",u(w))}),!1}return Sy(m)?!0:(e.append(jP(y,g,o),u(m)),!1)}let p=[],d=Object.assign(M2,{defaultVisitor:l,convertValue:u,isVisitable:Sy});function f(m,g){if(!G.isUndefined(m)){if(p.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(m),G.forEach(m,function(b,x){(!(G.isUndefined(b)||b===null)&&i.call(e,b,G.isString(x)?x.trim():x,g,d))===!0&&f(b,g?g.concat(x):[x])}),p.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return f(t),e}var Co=q2;function UP(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function $P(t,e){this._pairs=[],t&&Co(t,this,e)}var HP=$P.prototype;HP.append=function(e,r){this._pairs.push([e,r])};HP.toString=function(e){let r=e?function(n){return e.call(this,n,UP)}:UP;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};var BP=$P;function L2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function es(t,e,r){if(!e)return t;let n=r&&r.encode||L2,i=r&&r.serialize,o;if(i?o=i(e,r):o=G.isURLSearchParams(e)?e.toString():new BP(e,r).toString(n),o){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var Ty=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(n){n!==null&&e(n)})}},Ry=Ty;var _a={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var zP=$e(require("url"),1),VP=zP.default.URLSearchParams;var WP={isNode:!0,classes:{URLSearchParams:VP,FormData:Jp,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]};var Dy={};j_(Dy,{hasBrowserEnv:()=>Py,hasStandardBrowserEnv:()=>j2,hasStandardBrowserWebWorkerEnv:()=>F2,origin:()=>U2});var Py=typeof window<"u"&&typeof document<"u",j2=(t=>Py&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),F2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U2=Py&&window.location.href||"http://localhost";var hr={...Dy,...WP};function Iy(t,e){return Co(t,new hr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return hr.isNode&&G.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function $2(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function H2(t){let e={},r=Object.keys(t),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function B2(t){function e(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;let a=Number.isFinite(+s),c=o>=r.length;return s=!s&&G.isArray(i)?i.length:s,c?(G.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!G.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&G.isArray(i[s])&&(i[s]=H2(i[s])),!a)}if(G.isFormData(t)&&G.isFunction(t.entries)){let r={};return G.forEachEntry(t,(n,i)=>{e($2(n),i,r,0)}),r}return null}var ed=B2;function z2(t,e,r){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Oy={transitional:_a,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=G.isObject(e);if(o&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(ed(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Iy(e,this.formSerializer).toString();if((a=G.isFileList(e))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return Co(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),z2(e)):e}],transformResponse:[function(e){let r=this.transitional||Oy.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(n&&!this.responseType||i)){let s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Se.from(a,Se.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hr.classes.FormData,Blob:hr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{Oy.headers[t]={}});var xa=Oy;var V2=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GP=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&V2[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};var KP=Symbol("internals");function iu(t){return t&&String(t).trim().toLowerCase()}function td(t){return t===!1||t==null?t:G.isArray(t)?t.map(td):String(t)}function W2(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var G2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ay(t,e,r,n,i){if(G.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!G.isString(e)){if(G.isString(n))return e.indexOf(n)!==-1;if(G.isRegExp(n))return n.test(e)}}function K2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function X2(t,e){let r=G.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}var wa=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function o(a,c,u){let l=iu(c);if(!l)throw new Error("header name must be a non-empty string");let p=G.findKey(i,l);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||c]=td(a))}let s=(a,c)=>G.forEach(a,(u,l)=>o(u,l,c));if(G.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(G.isString(e)&&(e=e.trim())&&!G2(e))s(GP(e),r);else if(G.isHeaders(e))for(let[a,c]of e.entries())o(c,a,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=iu(e),e){let n=G.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return W2(i);if(G.isFunction(r))return r.call(this,i,n);if(G.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=iu(e),e){let n=G.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ay(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function o(s){if(s=iu(s),s){let a=G.findKey(n,s);a&&(!r||Ay(n,n[a],a,r))&&(delete n[a],i=!0)}}return G.isArray(e)?e.forEach(o):o(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!e||Ay(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let r=this,n={};return G.forEach(this,(i,o)=>{let s=G.findKey(n,o);if(s){r[s]=td(i),delete r[o];return}let a=e?K2(o):String(o).trim();a!==o&&delete r[o],r[a]=td(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return G.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&G.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[KP]=this[KP]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=iu(s);n[a]||(X2(i,s),n[a]=!0)}return G.isArray(e)?e.forEach(o):o(e),this}};wa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(wa.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});G.freezeMethods(wa);var gr=wa;function ou(t,e){let r=this||xa,n=e||r,i=gr.from(n.headers),o=n.data;return G.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function su(t){return!!(t&&t.__CANCEL__)}function XP(t,e,r){Se.call(this,t??"canceled",Se.ERR_CANCELED,e,r),this.name="CanceledError"}G.inherits(XP,Se,{__CANCEL__:!0});var Hn=XP;function Ii(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Se("Request failed with status code "+r.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ky(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ny(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ts(t,e){return t&&!ky(e)?Ny(t,e):e}var OD=$e(YP(),1),AD=$e(require("http"),1),kD=$e(require("https"),1),ND=$e(require("util"),1),MD=$e(hD(),1),Gi=$e(require("zlib"),1);var is="1.7.4";function du(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var MB=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Qy(t,e,r){let n=r&&r.Blob||hr.classes.Blob,i=du(t);if(e===void 0&&n&&(e=!0),i==="data"){t=i.length?t.slice(i.length+1):t;let o=MB.exec(t);if(!o)throw new Se("Invalid URL",Se.ERR_INVALID_URL);let s=o[1],a=o[2],c=o[3],u=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!n)throw new Se("Blob is not supported",Se.ERR_NOT_SUPPORT);return new n([u],{type:s})}return u}throw new Se("Unsupported protocol "+i,Se.ERR_NOT_SUPPORT)}var os=$e(require("stream"),1);var gD=$e(require("stream"),1);var Yy=Symbol("internals"),Zy=class extends gD.default.Transform{constructor(e){e=G.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(n,i)=>!G.isUndefined(i[n])),super({readableHighWaterMark:e.chunkSize});let r=this[Yy]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",n=>{n==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[Yy];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,n){let i=this[Yy],o=i.maxRate,s=this.readableHighWaterMark,a=i.timeWindow,c=1e3/a,u=o/c,l=i.minChunkSize!==!1?Math.max(i.minChunkSize,u*.01):0,p=(f,m)=>{let g=Buffer.byteLength(f);i.bytesSeen+=g,i.bytes+=g,i.isCaptured&&this.emit("progress",i.bytesSeen),this.push(f)?process.nextTick(m):i.onReadCallback=()=>{i.onReadCallback=null,process.nextTick(m)}},d=(f,m)=>{let g=Buffer.byteLength(f),y=null,b=s,x,w=0;if(o){let C=Date.now();(!i.ts||(w=C-i.ts)>=a)&&(i.ts=C,x=u-i.bytes,i.bytes=x<0?-x:0,w=0),x=u-i.bytes}if(o){if(x<=0)return setTimeout(()=>{m(null,f)},a-w);x<b&&(b=x)}b&&g>b&&g-b>l&&(y=f.subarray(b),f=f.subarray(0,b)),p(f,y?()=>{process.nextTick(m,null,y)}:m)};d(e,function f(m,g){if(m)return n(m);g?d(g,f):n(null)})}},Jy=Zy;var qD=require("events");var yD=require("util"),bD=require("stream");var{asyncIterator:vD}=Symbol,qB=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[vD]?yield*t[vD]():yield t},sd=qB;var LB=G.ALPHABET.ALPHA_DIGIT+"-_",fu=new yD.TextEncoder,Eo=`\r
`,jB=fu.encode(Eo),FB=2,eb=class{constructor(e,r){let{escapeName:n}=this.constructor,i=G.isString(r),o=`Content-Disposition: form-data; name="${n(e)}"${!i&&r.name?`; filename="${n(r.name)}"`:""}${Eo}`;i?r=fu.encode(String(r).replace(/\r?\n|\r\n?/g,Eo)):o+=`Content-Type: ${r.type||"application/octet-stream"}${Eo}`,this.headers=fu.encode(o+Eo),this.contentLength=i?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+FB,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;G.isTypedArray(e)?yield e:yield*sd(e),yield jB}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},UB=(t,e,r)=>{let{tag:n="form-data-boundary",size:i=25,boundary:o=n+"-"+G.generateString(i,LB)}=r||{};if(!G.isFormData(t))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");let s=fu.encode("--"+o+Eo),a=fu.encode("--"+o+"--"+Eo+Eo),c=a.byteLength,u=Array.from(t.entries()).map(([p,d])=>{let f=new eb(p,d);return c+=f.size,f});c+=s.byteLength*u.length,c=G.toFiniteNumber(c);let l={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(c)&&(l["Content-Length"]=c),e&&e(l),bD.Readable.from(async function*(){for(let p of u)yield s,yield*p.encode();yield a}())},_D=UB;var xD=$e(require("stream"),1),tb=class extends xD.default.Transform{__transform(e,r,n){this.push(e),n()}_transform(e,r,n){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let i=Buffer.alloc(2);i[0]=120,i[1]=156,this.push(i,r)}this.__transform(e,r,n)}},wD=tb;var $B=(t,e)=>G.isAsyncFn(t)?function(...r){let n=r.pop();t.apply(this,r).then(i=>{try{e?n(null,...e(i)):n(null,i)}catch(o){n(o)}},n)}:t,CD=$B;function HB(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=n[o];s||(s=u),r[i]=c,n[i]=u;let p=o,d=0;for(;p!==i;)d+=r[p++],p=p%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;let f=l&&u-l;return f?Math.round(d*1e3/f):void 0}}var ED=HB;function BB(t,e){let r=0,n=1e3/e,i,o,s=(u,l=Date.now())=>{r=l,i=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{let l=Date.now(),p=l-r;p>=n?s(u,l):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},n-p)))},()=>i&&s(i)]}var SD=BB;var Wi=(t,e,r=3)=>{let n=0,i=ED(50,250);return SD(o=>{let s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-n,u=i(c),l=s<=a;n=s;let p={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},r)},Pa=(t,e)=>{let r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Da=t=>(...e)=>G.asap(()=>t(...e));var TD={flush:Gi.default.constants.Z_SYNC_FLUSH,finishFlush:Gi.default.constants.Z_SYNC_FLUSH},zB={flush:Gi.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Gi.default.constants.BROTLI_OPERATION_FLUSH},RD=G.isFunction(Gi.default.createBrotliDecompress),{http:VB,https:WB}=MD.default,GB=/https:?/,PD=hr.protocols.map(t=>t+":"),DD=(t,[e,r])=>(t.on("end",r).on("error",r),e);function KB(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function LD(t,e,r){let n=e;if(!n&&n!==!1){let i=(0,OD.getProxyForUrl)(r);i&&(n=new URL(i))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let o=Buffer.from(n.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+o}t.headers.host=t.hostname+(t.port?":"+t.port:"");let i=n.hostname||n.host;t.hostname=i,t.host=i,t.port=n.port,t.path=r,n.protocol&&(t.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}t.beforeRedirects.proxy=function(o){LD(o,e,o.href)}}var XB=typeof process<"u"&&G.kindOf(process)==="process",QB=t=>new Promise((e,r)=>{let n,i,o=(c,u)=>{i||(i=!0,n&&n(c,u))},s=c=>{o(c),e(c)},a=c=>{o(c,!0),r(c)};t(s,a,c=>n=c).catch(a)}),YB=({address:t,family:e})=>{if(!G.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},ID=(t,e)=>YB(G.isObject(t)?t:{address:t,family:e}),jD=XB&&function(e){return QB(async function(n,i,o){let{data:s,lookup:a,family:c}=e,{responseType:u,responseEncoding:l}=e,p=e.method.toUpperCase(),d,f=!1,m;if(a){let z=CD(a,Z=>G.isArray(Z)?Z:[Z]);a=(Z,te,de)=>{z(Z,te,(he,Pe,Te)=>{if(he)return de(he);let Be=G.isArray(Pe)?Pe.map(We=>ID(We)):[ID(Pe,Te)];te.all?de(he,Be):de(he,Be[0].address,Be[0].family)})}}let g=new qD.EventEmitter,y=()=>{e.cancelToken&&e.cancelToken.unsubscribe(b),e.signal&&e.signal.removeEventListener("abort",b),g.removeAllListeners()};o((z,Z)=>{d=!0,Z&&(f=!0,y())});function b(z){g.emit("abort",!z||z.type?new Hn(null,e,m):z)}g.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(b),e.signal&&(e.signal.aborted?b():e.signal.addEventListener("abort",b)));let x=ts(e.baseURL,e.url),w=new URL(x,G.hasBrowserEnv?hr.origin:void 0),C=w.protocol||PD[0];if(C==="data:"){let z;if(p!=="GET")return Ii(n,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{z=Qy(e.url,u==="blob",{Blob:e.env&&e.env.Blob})}catch(Z){throw Se.from(Z,Se.ERR_BAD_REQUEST,e)}return u==="text"?(z=z.toString(l),(!l||l==="utf8")&&(z=G.stripBOM(z))):u==="stream"&&(z=os.default.Readable.from(z)),Ii(n,i,{data:z,status:200,statusText:"OK",headers:new gr,config:e})}if(PD.indexOf(C)===-1)return i(new Se("Unsupported protocol "+C,Se.ERR_BAD_REQUEST,e));let D=gr.from(e.headers).normalize();D.set("User-Agent","axios/"+is,!1);let{onUploadProgress:N,onDownloadProgress:M}=e,F=e.maxRate,Q,ne;if(G.isSpecCompliantForm(s)){let z=D.getContentType(/boundary=([-_\w\d]{10,70})/i);s=_D(s,Z=>{D.set(Z)},{tag:`axios-${is}-boundary`,boundary:z&&z[1]||void 0})}else if(G.isFormData(s)&&G.isFunction(s.getHeaders)){if(D.set(s.getHeaders()),!D.hasContentLength())try{let z=await ND.default.promisify(s.getLength).call(s);Number.isFinite(z)&&z>=0&&D.setContentLength(z)}catch{}}else if(G.isBlob(s))s.size&&D.setContentType(s.type||"application/octet-stream"),D.setContentLength(s.size||0),s=os.default.Readable.from(sd(s));else if(s&&!G.isStream(s)){if(!Buffer.isBuffer(s))if(G.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(G.isString(s))s=Buffer.from(s,"utf-8");else return i(new Se("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Se.ERR_BAD_REQUEST,e));if(D.setContentLength(s.length,!1),e.maxBodyLength>-1&&s.length>e.maxBodyLength)return i(new Se("Request body larger than maxBodyLength limit",Se.ERR_BAD_REQUEST,e))}let X=G.toFiniteNumber(D.getContentLength());G.isArray(F)?(Q=F[0],ne=F[1]):Q=ne=F,s&&(N||Q)&&(G.isStream(s)||(s=os.default.Readable.from(s,{objectMode:!1})),s=os.default.pipeline([s,new Jy({maxRate:G.toFiniteNumber(Q)})],G.noop),N&&s.on("progress",DD(s,Pa(X,Wi(Da(N),!1,3)))));let H;if(e.auth){let z=e.auth.username||"",Z=e.auth.password||"";H=z+":"+Z}if(!H&&w.username){let z=w.username,Z=w.password;H=z+":"+Z}H&&D.delete("authorization");let ae;try{ae=es(w.pathname+w.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(z){let Z=new Error(z.message);return Z.config=e,Z.url=e.url,Z.exists=!0,i(Z)}D.set("Accept-Encoding","gzip, compress, deflate"+(RD?", br":""),!1);let ee={path:ae,method:p,headers:D.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:H,protocol:C,family:c,beforeRedirect:KB,beforeRedirects:{}};!G.isUndefined(a)&&(ee.lookup=a),e.socketPath?ee.socketPath=e.socketPath:(ee.hostname=w.hostname,ee.port=w.port,LD(ee,e.proxy,C+"//"+w.hostname+(w.port?":"+w.port:"")+ee.path));let xe,pe=GB.test(ee.protocol);if(ee.agent=pe?e.httpsAgent:e.httpAgent,e.transport?xe=e.transport:e.maxRedirects===0?xe=pe?kD.default:AD.default:(e.maxRedirects&&(ee.maxRedirects=e.maxRedirects),e.beforeRedirect&&(ee.beforeRedirects.config=e.beforeRedirect),xe=pe?WB:VB),e.maxBodyLength>-1?ee.maxBodyLength=e.maxBodyLength:ee.maxBodyLength=1/0,e.insecureHTTPParser&&(ee.insecureHTTPParser=e.insecureHTTPParser),m=xe.request(ee,function(Z){if(m.destroyed)return;let te=[Z],de=+Z.headers["content-length"];if(M||ne){let We=new Jy({maxRate:G.toFiniteNumber(ne)});M&&We.on("progress",DD(We,Pa(de,Wi(Da(M),!0,3)))),te.push(We)}let he=Z,Pe=Z.req||m;if(e.decompress!==!1&&Z.headers["content-encoding"])switch((p==="HEAD"||Z.statusCode===204)&&delete Z.headers["content-encoding"],(Z.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":te.push(Gi.default.createUnzip(TD)),delete Z.headers["content-encoding"];break;case"deflate":te.push(new wD),te.push(Gi.default.createUnzip(TD)),delete Z.headers["content-encoding"];break;case"br":RD&&(te.push(Gi.default.createBrotliDecompress(zB)),delete Z.headers["content-encoding"])}he=te.length>1?os.default.pipeline(te,G.noop):te[0];let Te=os.default.finished(he,()=>{Te(),y()}),Be={status:Z.statusCode,statusText:Z.statusMessage,headers:new gr(Z.headers),config:e,request:Pe};if(u==="stream")Be.data=he,Ii(n,i,Be);else{let We=[],mt=0;he.on("data",function(ke){We.push(ke),mt+=ke.length,e.maxContentLength>-1&&mt>e.maxContentLength&&(f=!0,he.destroy(),i(new Se("maxContentLength size of "+e.maxContentLength+" exceeded",Se.ERR_BAD_RESPONSE,e,Pe)))}),he.on("aborted",function(){if(f)return;let ke=new Se("maxContentLength size of "+e.maxContentLength+" exceeded",Se.ERR_BAD_RESPONSE,e,Pe);he.destroy(ke),i(ke)}),he.on("error",function(ke){m.destroyed||i(Se.from(ke,null,e,Pe))}),he.on("end",function(){try{let ke=We.length===1?We[0]:Buffer.concat(We);u!=="arraybuffer"&&(ke=ke.toString(l),(!l||l==="utf8")&&(ke=G.stripBOM(ke))),Be.data=ke}catch(ke){return i(Se.from(ke,null,e,Be.request,Be))}Ii(n,i,Be)})}g.once("abort",We=>{he.destroyed||(he.emit("error",We),he.destroy())})}),g.once("abort",z=>{i(z),m.destroy(z)}),m.on("error",function(Z){i(Se.from(Z,null,e,m))}),m.on("socket",function(Z){Z.setKeepAlive(!0,1e3*60)}),e.timeout){let z=parseInt(e.timeout,10);if(Number.isNaN(z)){i(new Se("error trying to parse `config.timeout` to int",Se.ERR_BAD_OPTION_VALUE,e,m));return}m.setTimeout(z,function(){if(d)return;let te=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",de=e.transitional||_a;e.timeoutErrorMessage&&(te=e.timeoutErrorMessage),i(new Se(te,de.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,m)),b()})}if(G.isStream(s)){let z=!1,Z=!1;s.on("end",()=>{z=!0}),s.once("error",te=>{Z=!0,m.destroy(te)}),s.on("close",()=>{!z&&!Z&&b(new Hn("Request stream has been aborted",e,m))}),s.pipe(m)}else m.end(s)})};var FD=hr.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){let s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){let a=G.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();var UD=hr.hasStandardBrowserEnv?{write(t,e,r,n,i,o){let s=[t+"="+encodeURIComponent(e)];G.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),G.isString(n)&&s.push("path="+n),G.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var $D=t=>t instanceof gr?{...t}:t;function xi(t,e){e=e||{};let r={};function n(u,l,p){return G.isPlainObject(u)&&G.isPlainObject(l)?G.merge.call({caseless:p},u,l):G.isPlainObject(l)?G.merge({},l):G.isArray(l)?l.slice():l}function i(u,l,p){if(G.isUndefined(l)){if(!G.isUndefined(u))return n(void 0,u,p)}else return n(u,l,p)}function o(u,l){if(!G.isUndefined(l))return n(void 0,l)}function s(u,l){if(G.isUndefined(l)){if(!G.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function a(u,l,p){if(p in e)return n(u,l);if(p in t)return n(void 0,u)}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,l)=>i($D(u),$D(l),!0)};return G.forEach(Object.keys(Object.assign({},t,e)),function(l){let p=c[l]||i,d=p(t[l],e[l],l);G.isUndefined(d)&&p!==a||(r[l]=d)}),r}var ad=t=>{let e=xi({},t),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=gr.from(s),e.url=es(ts(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(G.isFormData(r)){if(hr.hasStandardBrowserEnv||hr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){let[u,...l]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...l].join("; "))}}if(hr.hasStandardBrowserEnv&&(n&&G.isFunction(n)&&(n=n(e)),n||n!==!1&&FD(e.url))){let u=i&&o&&UD.read(o);u&&s.set(i,u)}return e};var ZB=typeof XMLHttpRequest<"u",HD=ZB&&function(t){return new Promise(function(r,n){let i=ad(t),o=i.data,s=gr.from(i.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,l,p,d,f,m;function g(){f&&f(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function b(){if(!y)return;let w=gr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};Ii(function(M){r(M),g()},function(M){n(M),g()},D),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(n(new Se("Request aborted",Se.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new Se("Network Error",Se.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",D=i.transitional||_a;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),n(new Se(C,D.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&G.forEach(s.toJSON(),function(C,D){y.setRequestHeader(D,C)}),G.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([d,m]=Wi(u,!0),y.addEventListener("progress",d)),c&&y.upload&&([p,f]=Wi(c),y.upload.addEventListener("progress",p),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(l=w=>{y&&(n(!w||w.type?new Hn(null,t,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));let x=du(i.url);if(x&&hr.protocols.indexOf(x)===-1){n(new Se("Unsupported protocol "+x+":",Se.ERR_BAD_REQUEST,t));return}y.send(o||null)})};var JB=(t,e)=>{let r=new AbortController,n,i=function(c){if(!n){n=!0,s();let u=c instanceof Error?c:this.reason;r.abort(u instanceof Se?u:new Hn(u instanceof Error?u.message:u))}},o=e&&setTimeout(()=>{i(new Se(`timeout ${e} of ms exceeded`,Se.ETIMEDOUT))},e),s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),t=null)};t.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));let{signal:a}=r;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},BD=JB;var ez=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},tz=async function*(t,e,r){for await(let n of t)yield*ez(ArrayBuffer.isView(n)?n:await r(String(n)),e)},rb=(t,e,r,n,i)=>{let o=tz(t,e,i),s=0,a,c=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{let{done:l,value:p}=await o.next();if(l){c(),u.close();return}let d=p.byteLength;if(r){let f=s+=d;r(f)}u.enqueue(new Uint8Array(p))}catch(l){throw c(l),l}},cancel(u){return c(u),o.return()}},{highWaterMark:2})};var ud=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",VD=ud&&typeof ReadableStream=="function",nb=ud&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),WD=(t,...e)=>{try{return!!t(...e)}catch{return!1}},rz=VD&&WD(()=>{let t=!1,e=new Request(hr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zD=64*1024,ib=VD&&WD(()=>G.isReadableStream(new Response("").body)),cd={stream:ib&&(t=>t.body)};ud&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!cd[e]&&(cd[e]=G.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Se(`Response type '${e}' is not supported`,Se.ERR_NOT_SUPPORT,n)})})})(new Response);var nz=async t=>{if(t==null)return 0;if(G.isBlob(t))return t.size;if(G.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(G.isArrayBufferView(t)||G.isArrayBuffer(t))return t.byteLength;if(G.isURLSearchParams(t)&&(t=t+""),G.isString(t))return(await nb(t)).byteLength},iz=async(t,e)=>{let r=G.toFiniteNumber(t.getContentLength());return r??nz(e)},GD=ud&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:p="same-origin",fetchOptions:d}=ad(t);u=u?(u+"").toLowerCase():"text";let[f,m]=i||o||s?BD([i,o],s):[],g,y,b=()=>{!g&&setTimeout(()=>{f&&f.unsubscribe()}),g=!0},x;try{if(c&&rz&&r!=="get"&&r!=="head"&&(x=await iz(l,n))!==0){let N=new Request(e,{method:"POST",body:n,duplex:"half"}),M;if(G.isFormData(n)&&(M=N.headers.get("content-type"))&&l.setContentType(M),N.body){let[F,Q]=Pa(x,Wi(Da(c)));n=rb(N.body,zD,F,Q,nb)}}G.isString(p)||(p=p?"include":"omit"),y=new Request(e,{...d,signal:f,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:p});let w=await fetch(y),C=ib&&(u==="stream"||u==="response");if(ib&&(a||C)){let N={};["status","statusText","headers"].forEach(ne=>{N[ne]=w[ne]});let M=G.toFiniteNumber(w.headers.get("content-length")),[F,Q]=a&&Pa(M,Wi(Da(a),!0))||[];w=new Response(rb(w.body,zD,F,()=>{Q&&Q(),C&&b()},nb),N)}u=u||"text";let D=await cd[G.findKey(cd,u)||"text"](w,t);return!C&&b(),m&&m(),await new Promise((N,M)=>{Ii(N,M,{data:D,headers:gr.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:y})})}catch(w){throw b(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,t,y),{cause:w.cause||w}):Se.from(w,w&&w.code,t,y)}});var ob={http:jD,xhr:HD,fetch:GD};G.forEach(ob,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var KD=t=>`- ${t}`,oz=t=>G.isFunction(t)||t===null||t===!1,ld={getAdapter:t=>{t=G.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!oz(r)&&(n=ob[(s=String(r)).toLowerCase()],n===void 0))throw new Se(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){let o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?o.length>1?`since :
`+o.map(KD).join(`
`):" "+KD(o[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:ob};function sb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hn(null,t)}function pd(t){return sb(t),t.headers=gr.from(t.headers),t.data=ou.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ld.getAdapter(t.adapter||xa.adapter)(t).then(function(n){return sb(t),n.data=ou.call(t,t.transformResponse,n),n.headers=gr.from(n.headers),n},function(n){return su(n)||(sb(t),n&&n.response&&(n.response.data=ou.call(t,t.transformResponse,n.response),n.response.headers=gr.from(n.response.headers))),Promise.reject(n)})}var ab={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ab[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var XD={};ab.transitional=function(e,r,n){function i(o,s){return"[Axios v"+is+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new Se(i(s," has been removed"+(r?" in "+r:"")),Se.ERR_DEPRECATED);return r&&!XD[s]&&(XD[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function sz(t,e,r){if(typeof t!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let o=n[i],s=e[o];if(s){let a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new Se("option "+o+" must be "+c,Se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Se("Unknown option "+o,Se.ERR_BAD_OPTION)}}var dd={assertOptions:sz,validators:ab};var So=dd.validators,Ia=class{constructor(e){this.defaults=e,this.interceptors={request:new Ry,response:new Ry}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;let o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=xi(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&dd.assertOptions(n,{silentJSONParsing:So.transitional(So.boolean),forcedJSONParsing:So.transitional(So.boolean),clarifyTimeoutError:So.transitional(So.boolean)},!1),i!=null&&(G.isFunction(i)?r.paramsSerializer={serialize:i}:dd.assertOptions(i,{encode:So.function,serialize:So.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&G.merge(o.common,o[r.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),r.headers=gr.concat(s,o);let a=[],c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});let u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,p=0,d;if(!c){let m=[pd.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),d=m.length,l=Promise.resolve(r);p<d;)l=l.then(m[p++],m[p++]);return l}d=a.length;let f=r;for(p=0;p<d;){let m=a[p++],g=a[p++];try{f=m(f)}catch(y){g.call(this,y);break}}try{l=pd.call(this,f)}catch(m){return Promise.reject(m)}for(p=0,d=u.length;p<d;)l=l.then(u[p++],u[p++]);return l}getUri(e){e=xi(this.defaults,e);let r=ts(e.baseURL,e.url);return es(r,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){Ia.prototype[e]=function(r,n){return this.request(xi(n||{},{method:e,url:r,data:(n||{}).data}))}});G.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(xi(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ia.prototype[e]=r(),Ia.prototype[e+"Form"]=r(!0)});var mu=Ia;var cb=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new Hn(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},QD=cb;function ub(t){return function(r){return t.apply(null,r)}}function lb(t){return G.isObject(t)&&t.isAxiosError===!0}var pb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pb).forEach(([t,e])=>{pb[e]=t});var YD=pb;function ZD(t){let e=new mu(t),r=tu(mu.prototype.request,e);return G.extend(r,mu.prototype,e,{allOwnKeys:!0}),G.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return ZD(xi(t,i))},r}var Nr=ZD(xa);Nr.Axios=mu;Nr.CanceledError=Hn;Nr.CancelToken=QD;Nr.isCancel=su;Nr.VERSION=is;Nr.toFormData=Co;Nr.AxiosError=Se;Nr.Cancel=Nr.CanceledError;Nr.all=function(e){return Promise.all(e)};Nr.spread=ub;Nr.isAxiosError=lb;Nr.mergeConfig=xi;Nr.AxiosHeaders=gr;Nr.formToJSON=t=>ed(G.isHTMLForm(t)?new FormData(t):t);Nr.getAdapter=ld.getAdapter;Nr.HttpStatusCode=YD;Nr.default=Nr;var vr=Nr;var{Axios:kY,AxiosError:JD,CanceledError:NY,isCancel:MY,CancelToken:qY,VERSION:LY,all:jY,Cancel:FY,isAxiosError:UY,spread:$Y,toFormData:HY,AxiosHeaders:BY,HttpStatusCode:zY,formToJSON:VY,getAdapter:WY,mergeConfig:GY}=vr;var Lt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(let s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Lt||(Lt={}));var fb;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(fb||(fb={}));var De=Lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),To=t=>{switch(typeof t){case"undefined":return De.undefined;case"string":return De.string;case"number":return isNaN(t)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(t)?De.array:t===null?De.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?De.promise:typeof Map<"u"&&t instanceof Map?De.map:typeof Set<"u"&&t instanceof Set?De.set:typeof Date<"u"&&t instanceof Date?De.date:De.object;default:return De.unknown}},_e=Lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),az=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),zn=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,c=0;for(;c<s.path.length;){let u=s.path[c];c===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(s))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};zn.create=t=>new zn(t);var hu=(t,e)=>{let r;switch(t.code){case _e.invalid_type:t.received===De.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case _e.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Lt.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:r=`Unrecognized key(s) in object: ${Lt.joinValues(t.keys,", ")}`;break;case _e.invalid_union:r="Invalid input";break;case _e.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Lt.joinValues(t.options)}`;break;case _e.invalid_enum_value:r=`Invalid enum value. Expected ${Lt.joinValues(t.options)}, received '${t.received}'`;break;case _e.invalid_arguments:r="Invalid function arguments";break;case _e.invalid_return_type:r="Invalid function return type";break;case _e.invalid_date:r="Invalid date";break;case _e.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Lt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case _e.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case _e.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case _e.custom:r="Invalid input";break;case _e.invalid_intersection_types:r="Intersection results could not be merged";break;case _e.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case _e.not_finite:r="Number must be finite";break;default:r=e.defaultError,Lt.assertNever(t)}return{message:r}},rI=hu;function cz(t){rI=t}function md(){return rI}var hd=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],s={...i,path:o},a="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)a=u(s,{data:e,defaultError:a}).message;return{...i,path:o,message:i.message||a}},uz=[];function Ae(t,e){let r=hd({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,md(),hu].filter(n=>!!n)});t.common.issues.push(r)}var un=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return ct;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return ct;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:e.value,value:n}}},ct=Object.freeze({status:"aborted"}),nI=t=>({status:"dirty",value:t}),yn=t=>({status:"valid",value:t}),mb=t=>t.status==="aborted",hb=t=>t.status==="dirty",gu=t=>t.status==="valid",gd=t=>typeof Promise<"u"&&t instanceof Promise,Ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ve||(Ve={}));var ii=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},eI=(t,e)=>{if(gu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new zn(t.common.issues);return this._error=r,this._error}}};function vt(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>s.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}var yt=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return To(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:To(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new un,ctx:{common:e.parent.common,data:e.data,parsedType:To(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(gd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:To(e)},o=this._parseSync({data:e,path:i.path,parent:i});return eI(i,o)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:To(e)},i=this._parse({data:e,path:n.path,parent:n}),o=await(gd(i)?i:Promise.resolve(i));return eI(n,o)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{let s=e(i),a=()=>o.addIssue({code:_e.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Vn({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return wi.create(this,this._def)}nullable(){return Qi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xi.create(this,this._def)}promise(){return Do.create(this,this._def)}or(e){return ds.create([this,e],this._def)}and(e){return fs.create(this,e,this._def)}transform(e){return new Vn({...vt(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new ys({...vt(this._def),innerType:this,defaultValue:r,typeName:Xe.ZodDefault})}brand(){return new _d({typeName:Xe.ZodBranded,type:this,...vt(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new qa({...vt(this._def),innerType:this,catchValue:r,typeName:Xe.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return vu.create(this,e)}readonly(){return ja.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},lz=/^c[^\s-]{8,}$/i,pz=/^[a-z][a-z0-9]*$/,dz=/^[0-9A-HJKMNP-TV-Z]{26}$/,fz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mz=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",db,gz=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,vz=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,yz=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function bz(t,e){return!!((e==="v4"||!e)&&gz.test(t)||(e==="v6"||!e)&&vz.test(t))}var Ro=class t extends yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==De.string){let o=this._getOrReturnCtx(e);return Ae(o,{code:_e.invalid_type,expected:De.string,received:o.parsedType}),ct}let n=new un,i;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:_e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:_e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?Ae(i,{code:_e.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&Ae(i,{code:_e.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")mz.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"email",code:_e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")db||(db=new RegExp(hz,"u")),db.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"emoji",code:_e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")fz.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"uuid",code:_e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")lz.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"cuid",code:_e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")pz.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"cuid2",code:_e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")dz.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"ulid",code:_e.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ae(i,{validation:"url",code:_e.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"regex",code:_e.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:_e.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:_e.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:_e.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?yz(o).test(e.data)||(i=this._getOrReturnCtx(e,i),Ae(i,{code:_e.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="ip"?bz(e.data,o.version)||(i=this._getOrReturnCtx(e,i),Ae(i,{validation:"ip",code:_e.invalid_string,message:o.message}),n.dirty()):Lt.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:_e.invalid_string,...Ve.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ve.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...Ve.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ve.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Ve.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ve.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ve.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ve.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ve.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ve.errToObj(r)})}nonempty(e){return this.min(1,Ve.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ro.create=t=>{var e;return new Ro({checks:[],typeName:Xe.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};function _z(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}var ss=class t extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==De.number){let o=this._getOrReturnCtx(e);return Ae(o,{code:_e.invalid_type,expected:De.number,received:o.parsedType}),ct}let n,i=new un;for(let o of this._def.checks)o.kind==="int"?Lt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ae(n,{code:_e.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:_e.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:_e.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?_z(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:_e.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ae(n,{code:_e.not_finite,message:o.message}),i.dirty()):Lt.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ve.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Lt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};ss.create=t=>new ss({checks:[],typeName:Xe.ZodNumber,coerce:t?.coerce||!1,...vt(t)});var as=class t extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==De.bigint){let o=this._getOrReturnCtx(e);return Ae(o,{code:_e.invalid_type,expected:De.bigint,received:o.parsedType}),ct}let n,i=new un;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:_e.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:_e.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ae(n,{code:_e.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Lt.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ve.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};as.create=t=>{var e;return new as({checks:[],typeName:Xe.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};var cs=class extends yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==De.boolean){let n=this._getOrReturnCtx(e);return Ae(n,{code:_e.invalid_type,expected:De.boolean,received:n.parsedType}),ct}return yn(e.data)}};cs.create=t=>new cs({typeName:Xe.ZodBoolean,coerce:t?.coerce||!1,...vt(t)});var us=class t extends yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==De.date){let o=this._getOrReturnCtx(e);return Ae(o,{code:_e.invalid_type,expected:De.date,received:o.parsedType}),ct}if(isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return Ae(o,{code:_e.invalid_date}),ct}let n=new un,i;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:_e.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),Ae(i,{code:_e.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Lt.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ve.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ve.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};us.create=t=>new us({checks:[],coerce:t?.coerce||!1,typeName:Xe.ZodDate,...vt(t)});var Aa=class extends yt{_parse(e){if(this._getType(e)!==De.symbol){let n=this._getOrReturnCtx(e);return Ae(n,{code:_e.invalid_type,expected:De.symbol,received:n.parsedType}),ct}return yn(e.data)}};Aa.create=t=>new Aa({typeName:Xe.ZodSymbol,...vt(t)});var ls=class extends yt{_parse(e){if(this._getType(e)!==De.undefined){let n=this._getOrReturnCtx(e);return Ae(n,{code:_e.invalid_type,expected:De.undefined,received:n.parsedType}),ct}return yn(e.data)}};ls.create=t=>new ls({typeName:Xe.ZodUndefined,...vt(t)});var ps=class extends yt{_parse(e){if(this._getType(e)!==De.null){let n=this._getOrReturnCtx(e);return Ae(n,{code:_e.invalid_type,expected:De.null,received:n.parsedType}),ct}return yn(e.data)}};ps.create=t=>new ps({typeName:Xe.ZodNull,...vt(t)});var Po=class extends yt{constructor(){super(...arguments),this._any=!0}_parse(e){return yn(e.data)}};Po.create=t=>new Po({typeName:Xe.ZodAny,...vt(t)});var Ki=class extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yn(e.data)}};Ki.create=t=>new Ki({typeName:Xe.ZodUnknown,...vt(t)});var Ci=class extends yt{_parse(e){let r=this._getOrReturnCtx(e);return Ae(r,{code:_e.invalid_type,expected:De.never,received:r.parsedType}),ct}};Ci.create=t=>new Ci({typeName:Xe.ZodNever,...vt(t)});var ka=class extends yt{_parse(e){if(this._getType(e)!==De.undefined){let n=this._getOrReturnCtx(e);return Ae(n,{code:_e.invalid_type,expected:De.void,received:n.parsedType}),ct}return yn(e.data)}};ka.create=t=>new ka({typeName:Xe.ZodVoid,...vt(t)});var Xi=class t extends yt{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==De.array)return Ae(r,{code:_e.invalid_type,expected:De.array,received:r.parsedType}),ct;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(Ae(r,{code:s?_e.too_big:_e.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ae(r,{code:_e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ae(r,{code:_e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new ii(r,s,r.path,a)))).then(s=>un.mergeArray(n,s));let o=[...r.data].map((s,a)=>i.type._parseSync(new ii(r,s,r.path,a)));return un.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:Ve.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:Ve.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:Ve.toString(r)}})}nonempty(e){return this.min(1,e)}};Xi.create=(t,e)=>new Xi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...vt(e)});function Oa(t){if(t instanceof On){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=wi.create(Oa(n))}return new On({...t._def,shape:()=>e})}else return t instanceof Xi?new Xi({...t._def,type:Oa(t.element)}):t instanceof wi?wi.create(Oa(t.unwrap())):t instanceof Qi?Qi.create(Oa(t.unwrap())):t instanceof Oi?Oi.create(t.items.map(e=>Oa(e))):t}var On=class t extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Lt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==De.object){let u=this._getOrReturnCtx(e);return Ae(u,{code:_e.invalid_type,expected:De.object,received:u.parsedType}),ct}let{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ci&&this._def.unknownKeys==="strip"))for(let u in i.data)s.includes(u)||a.push(u);let c=[];for(let u of s){let l=o[u],p=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ii(i,p,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ci){let u=this._def.unknownKeys;if(u==="passthrough")for(let l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(u==="strict")a.length>0&&(Ae(i,{code:_e.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let l of a){let p=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ii(i,p,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let l of c){let p=await l.key;u.push({key:p,value:await l.value,alwaysSet:l.alwaysSet})}return u}).then(u=>un.mergeObjectSync(n,u)):un.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Ve.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o,s,a;let c=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Ve.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return Lt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return Lt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return Oa(this)}partial(e){let r={};return Lt.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return Lt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof wi;)o=o._def.innerType;r[n]=o}}),new t({...this._def,shape:()=>r})}keyof(){return iI(Lt.objectKeys(this.shape))}};On.create=(t,e)=>new On({shape:()=>t,unknownKeys:"strip",catchall:Ci.create(),typeName:Xe.ZodObject,...vt(e)});On.strictCreate=(t,e)=>new On({shape:()=>t,unknownKeys:"strict",catchall:Ci.create(),typeName:Xe.ZodObject,...vt(e)});On.lazycreate=(t,e)=>new On({shape:t,unknownKeys:"strip",catchall:Ci.create(),typeName:Xe.ZodObject,...vt(e)});var ds=class extends yt{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new zn(a.ctx.common.issues));return Ae(r,{code:_e.invalid_union,unionErrors:s}),ct}if(r.common.async)return Promise.all(n.map(async o=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let o,s=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!o&&(o={result:l,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(c=>new zn(c));return Ae(r,{code:_e.invalid_union,unionErrors:a}),ct}}get options(){return this._def.options}};ds.create=(t,e)=>new ds({options:t,typeName:Xe.ZodUnion,...vt(e)});var fd=t=>t instanceof ms?fd(t.schema):t instanceof Vn?fd(t.innerType()):t instanceof hs?[t.value]:t instanceof gs?t.options:t instanceof vs?Object.keys(t.enum):t instanceof ys?fd(t._def.innerType):t instanceof ls?[void 0]:t instanceof ps?[null]:null,vd=class t extends yt{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.object)return Ae(r,{code:_e.invalid_type,expected:De.object,received:r.parsedType}),ct;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Ae(r,{code:_e.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ct)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let o of r){let s=fd(o.shape[e]);if(!s)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new t({typeName:Xe.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...vt(n)})}};function gb(t,e){let r=To(t),n=To(e);if(t===e)return{valid:!0,data:t};if(r===De.object&&n===De.object){let i=Lt.objectKeys(e),o=Lt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(let a of o){let c=gb(t[a],e[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(r===De.array&&n===De.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let s=t[o],a=e[o],c=gb(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===De.date&&n===De.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var fs=class extends yt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(o,s)=>{if(mb(o)||mb(s))return ct;let a=gb(o.value,s.value);return a.valid?((hb(o)||hb(s))&&r.dirty(),{status:r.value,value:a.data}):(Ae(n,{code:_e.invalid_intersection_types}),ct)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};fs.create=(t,e,r)=>new fs({left:t,right:e,typeName:Xe.ZodIntersection,...vt(r)});var Oi=class t extends yt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.array)return Ae(n,{code:_e.invalid_type,expected:De.array,received:n.parsedType}),ct;if(n.data.length<this._def.items.length)return Ae(n,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&n.data.length>this._def.items.length&&(Ae(n,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((s,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new ii(n,s,n.path,a)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>un.mergeArray(r,s)):un.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Oi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oi({items:t,typeName:Xe.ZodTuple,rest:null,...vt(e)})};var yd=class t extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.object)return Ae(n,{code:_e.invalid_type,expected:De.object,received:n.parsedType}),ct;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in n.data)i.push({key:o._parse(new ii(n,a,n.path,a)),value:s._parse(new ii(n,n.data[a],n.path,a))});return n.common.async?un.mergeObjectAsync(r,i):un.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof yt?new t({keyType:e,valueType:r,typeName:Xe.ZodRecord,...vt(n)}):new t({keyType:Ro.create(),valueType:e,typeName:Xe.ZodRecord,...vt(r)})}},Na=class extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.map)return Ae(n,{code:_e.invalid_type,expected:De.map,received:n.parsedType}),ct;let i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,c],u)=>({key:i._parse(new ii(n,a,n.path,[u,"key"])),value:o._parse(new ii(n,c,n.path,[u,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of s){let u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return ct;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of s){let u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return ct;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}};Na.create=(t,e,r)=>new Na({valueType:e,keyType:t,typeName:Xe.ZodMap,...vt(r)});var Ma=class t extends yt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.set)return Ae(n,{code:_e.invalid_type,expected:De.set,received:n.parsedType}),ct;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ae(n,{code:_e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ae(n,{code:_e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function s(c){let u=new Set;for(let l of c){if(l.status==="aborted")return ct;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}let a=[...n.data.values()].map((c,u)=>o._parse(new ii(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:Ve.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:Ve.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ma.create=(t,e)=>new Ma({valueType:t,minSize:null,maxSize:null,typeName:Xe.ZodSet,...vt(e)});var bd=class t extends yt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.function)return Ae(r,{code:_e.invalid_type,expected:De.function,received:r.parsedType}),ct;function n(a,c){return hd({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,md(),hu].filter(u=>!!u),issueData:{code:_e.invalid_arguments,argumentsError:c}})}function i(a,c){return hd({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,md(),hu].filter(u=>!!u),issueData:{code:_e.invalid_return_type,returnTypeError:c}})}let o={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Do){let a=this;return yn(async function(...c){let u=new zn([]),l=await a._def.args.parseAsync(c,o).catch(f=>{throw u.addIssue(n(c,f)),u}),p=await Reflect.apply(s,this,l);return await a._def.returns._def.type.parseAsync(p,o).catch(f=>{throw u.addIssue(i(p,f)),u})})}else{let a=this;return yn(function(...c){let u=a._def.args.safeParse(c,o);if(!u.success)throw new zn([n(c,u.error)]);let l=Reflect.apply(s,this,u.data),p=a._def.returns.safeParse(l,o);if(!p.success)throw new zn([i(l,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Oi.create(e).rest(Ki.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Oi.create([]).rest(Ki.create()),returns:r||Ki.create(),typeName:Xe.ZodFunction,...vt(n)})}},ms=class extends yt{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};ms.create=(t,e)=>new ms({getter:t,typeName:Xe.ZodLazy,...vt(e)});var hs=class extends yt{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return Ae(r,{received:r.data,code:_e.invalid_literal,expected:this._def.value}),ct}return{status:"valid",value:e.data}}get value(){return this._def.value}};hs.create=(t,e)=>new hs({value:t,typeName:Xe.ZodLiteral,...vt(e)});function iI(t,e){return new gs({values:t,typeName:Xe.ZodEnum,...vt(e)})}var gs=class t extends yt{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return Ae(r,{expected:Lt.joinValues(n),received:r.parsedType,code:_e.invalid_type}),ct}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return Ae(r,{received:r.data,code:_e.invalid_enum_value,options:n}),ct}return yn(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return t.create(e)}exclude(e){return t.create(this.options.filter(r=>!e.includes(r)))}};gs.create=iI;var vs=class extends yt{_parse(e){let r=Lt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==De.string&&n.parsedType!==De.number){let i=Lt.objectValues(r);return Ae(n,{expected:Lt.joinValues(i),received:n.parsedType,code:_e.invalid_type}),ct}if(r.indexOf(e.data)===-1){let i=Lt.objectValues(r);return Ae(n,{received:n.data,code:_e.invalid_enum_value,options:i}),ct}return yn(e.data)}get enum(){return this._def.values}};vs.create=(t,e)=>new vs({values:t,typeName:Xe.ZodNativeEnum,...vt(e)});var Do=class extends yt{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.promise&&r.common.async===!1)return Ae(r,{code:_e.invalid_type,expected:De.promise,received:r.parsedType}),ct;let n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return yn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Do.create=(t,e)=>new Do({type:t,typeName:Xe.ZodPromise,...vt(e)});var Vn=class extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{Ae(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(n.data,o);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(s).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:s,path:n.path,parent:n})}if(i.type==="refinement"){let s=a=>{let c=i.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ct:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ct:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!gu(s))return s;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>gu(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:r.value,value:a})):s);Lt.assertNever(i)}};Vn.create=(t,e,r)=>new Vn({schema:t,typeName:Xe.ZodEffects,effect:e,...vt(r)});Vn.createWithPreprocess=(t,e,r)=>new Vn({schema:e,effect:{type:"preprocess",transform:t},typeName:Xe.ZodEffects,...vt(r)});var wi=class extends yt{_parse(e){return this._getType(e)===De.undefined?yn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};wi.create=(t,e)=>new wi({innerType:t,typeName:Xe.ZodOptional,...vt(e)});var Qi=class extends yt{_parse(e){return this._getType(e)===De.null?yn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Qi.create=(t,e)=>new Qi({innerType:t,typeName:Xe.ZodNullable,...vt(e)});var ys=class extends yt{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};ys.create=(t,e)=>new ys({innerType:t,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});var qa=class extends yt{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gd(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new zn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};qa.create=(t,e)=>new qa({innerType:t,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});var La=class extends yt{_parse(e){if(this._getType(e)!==De.nan){let n=this._getOrReturnCtx(e);return Ae(n,{code:_e.invalid_type,expected:De.nan,received:n.parsedType}),ct}return{status:"valid",value:e.data}}};La.create=t=>new La({typeName:Xe.ZodNaN,...vt(t)});var xz=Symbol("zod_brand"),_d=class extends yt{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},vu=class t extends yt{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ct:o.status==="dirty"?(r.dirty(),nI(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ct:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:Xe.ZodPipeline})}},ja=class extends yt{_parse(e){let r=this._def.innerType._parse(e);return gu(r)&&(r.value=Object.freeze(r.value)),r}};ja.create=(t,e)=>new ja({innerType:t,typeName:Xe.ZodReadonly,...vt(e)});var oI=(t,e={},r)=>t?Po.create().superRefine((n,i)=>{var o,s;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(s=(o=a.fatal)!==null&&o!==void 0?o:r)!==null&&s!==void 0?s:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:c})}}):Po.create(),wz={object:On.lazycreate},Xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));var Cz=(t,e={message:`Input not instance of ${t.name}`})=>oI(r=>r instanceof t,e),sI=Ro.create,aI=ss.create,Ez=La.create,Sz=as.create,cI=cs.create,Tz=us.create,Rz=Aa.create,Pz=ls.create,Dz=ps.create,Iz=Po.create,Oz=Ki.create,Az=Ci.create,kz=ka.create,Nz=Xi.create,Mz=On.create,qz=On.strictCreate,Lz=ds.create,jz=vd.create,Fz=fs.create,Uz=Oi.create,$z=yd.create,Hz=Na.create,Bz=Ma.create,zz=bd.create,Vz=ms.create,Wz=hs.create,Gz=gs.create,Kz=vs.create,Xz=Do.create,tI=Vn.create,Qz=wi.create,Yz=Qi.create,Zz=Vn.createWithPreprocess,Jz=vu.create,eV=()=>sI().optional(),tV=()=>aI().optional(),rV=()=>cI().optional(),nV={string:t=>Ro.create({...t,coerce:!0}),number:t=>ss.create({...t,coerce:!0}),boolean:t=>cs.create({...t,coerce:!0}),bigint:t=>as.create({...t,coerce:!0}),date:t=>us.create({...t,coerce:!0})},iV=ct,B=Object.freeze({__proto__:null,defaultErrorMap:hu,setErrorMap:cz,getErrorMap:md,makeIssue:hd,EMPTY_PATH:uz,addIssueToContext:Ae,ParseStatus:un,INVALID:ct,DIRTY:nI,OK:yn,isAborted:mb,isDirty:hb,isValid:gu,isAsync:gd,get util(){return Lt},get objectUtil(){return fb},ZodParsedType:De,getParsedType:To,ZodType:yt,ZodString:Ro,ZodNumber:ss,ZodBigInt:as,ZodBoolean:cs,ZodDate:us,ZodSymbol:Aa,ZodUndefined:ls,ZodNull:ps,ZodAny:Po,ZodUnknown:Ki,ZodNever:Ci,ZodVoid:ka,ZodArray:Xi,ZodObject:On,ZodUnion:ds,ZodDiscriminatedUnion:vd,ZodIntersection:fs,ZodTuple:Oi,ZodRecord:yd,ZodMap:Na,ZodSet:Ma,ZodFunction:bd,ZodLazy:ms,ZodLiteral:hs,ZodEnum:gs,ZodNativeEnum:vs,ZodPromise:Do,ZodEffects:Vn,ZodTransformer:Vn,ZodOptional:wi,ZodNullable:Qi,ZodDefault:ys,ZodCatch:qa,ZodNaN:La,BRAND:xz,ZodBranded:_d,ZodPipeline:vu,ZodReadonly:ja,custom:oI,Schema:yt,ZodSchema:yt,late:wz,get ZodFirstPartyTypeKind(){return Xe},coerce:nV,any:Iz,array:Nz,bigint:Sz,boolean:cI,date:Tz,discriminatedUnion:jz,effect:tI,enum:Gz,function:zz,instanceof:Cz,intersection:Fz,lazy:Vz,literal:Wz,map:Hz,nan:Ez,nativeEnum:Kz,never:Az,null:Dz,nullable:Yz,number:aI,object:Mz,oboolean:rV,onumber:tV,optional:Qz,ostring:eV,pipeline:Jz,preprocess:Zz,promise:Xz,record:$z,set:Bz,strictObject:qz,string:sI,symbol:Rz,transformer:tI,tuple:Uz,undefined:Pz,union:Lz,unknown:Oz,void:kz,NEVER:iV,ZodIssueCode:_e,quotelessJson:az,ZodError:zn});function oV(t,e){let r={...t};for(let n of e)delete r[n];return r}var mI=/:([a-zA-Z_][a-zA-Z0-9_]*)/g;function sV(t){let e=t.url,r=t.params;return r&&(e=e.replace(mI,(n,i)=>i in r?`${r[i]}`:n)),e}function uI(t,e,r){return t.find(n=>n.method===e&&n.path===r)}function aV(t,e){return t.find(r=>r.alias===e)}function cV(t,e){var r,n;let i=(r=t.errors)==null?void 0:r.filter(o=>o.status===e.response.status);return i&&i.length>0?i:(n=t.errors)==null?void 0:n.filter(o=>o.status==="default")}function uV(t,e,r){let n=aV(t,e);return n&&r.config&&r.config.url&&n.method===r.config.method&&lV(n.path,r.config.url)?cV(n,r):void 0}function lV(t,e){return new RegExp(`^${t.replace(mI,()=>"([^/]*)")}$`).test(e)}function pV(t){let e=new FormData;for(let r in t)e.append(r,t[r]);return{data:e}}var Br=class extends Error{constructor(t,e,r,n){super(t),this.config=e,this.data=r,this.cause=n}},dV={name:"form-data",request:async(t,e)=>{if(typeof e.data!="object"||Array.isArray(e.data))throw new Br("Zodios: multipart/form-data body must be an object",e);let r=pV(e.data);return{...e,data:r.data,headers:{...e.headers,...r.headers}}}};function fV(){return dV}var mV={name:"form-url",request:async(t,e)=>{if(typeof e.data!="object"||Array.isArray(e.data))throw new Br("Zodios: application/x-www-form-urlencoded body must be an object",e);return{...e,data:new URLSearchParams(e.data).toString(),headers:{...e.headers,"Content-Type":"application/x-www-form-urlencoded"}}}};function hV(){return mV}function lI(t,e){return{request:async(r,n)=>({...n,headers:{...n.headers,[t]:e}})}}function pI(t){return[!0,"response","all"].includes(t)}function dI(t){return[!0,"request","all"].includes(t)}function gV({validate:t,transform:e,sendDefaults:r}){return{name:"zod-validation",request:dI(t)?async(n,i)=>{let o=uI(n,i.method,i.url);if(!o)throw new Error(`No endpoint found for ${i.method} ${i.url}`);let{parameters:s}=o;if(!s)return i;let a={...i,queries:{...i.queries},headers:{...i.headers},params:{...i.params}},c={Query:p=>{var d;return(d=a.queries)==null?void 0:d[p]},Body:p=>a.data,Header:p=>{var d;return(d=a.headers)==null?void 0:d[p]},Path:p=>{var d;return(d=a.params)==null?void 0:d[p]}},u={Query:(p,d)=>a.queries[p]=d,Body:(p,d)=>a.data=d,Header:(p,d)=>a.headers[p]=d,Path:(p,d)=>a.params[p]=d},l=dI(e);for(let p of s){let{name:d,schema:f,type:m}=p,g=c[m](d);if(r||g!==void 0){let y=await f.safeParseAsync(g);if(!y.success)throw new Br(`Zodios: Invalid ${m} parameter '${d}'`,i,g,y.error);l&&u[m](d,y.data)}}return a}:void 0,response:pI(t)?async(n,i,o)=>{var s,a,c,u;let l=uI(n,i.method,i.url);if(!l)throw new Error(`No endpoint found for ${i.method} ${i.url}`);if((a=(s=o.headers)==null?void 0:s["content-type"])!=null&&a.includes("application/json")||(u=(c=o.headers)==null?void 0:c["content-type"])!=null&&u.includes("application/vnd.api+json")){let p=await l.response.safeParseAsync(o.data);if(!p.success)throw new Br(`Zodios: Invalid response from endpoint '${l.method} ${l.path}'
status: ${o.status} ${o.statusText}
cause:
${p.error.message}
received:
${JSON.stringify(o.data,null,2)}`,i,o.data,p.error);pI(e)&&(o.data=p.data)}return o}:void 0}}var fI=class{constructor(t,e){this.plugins=[],this.key=`${t}-${e}`}indexOf(t){return this.plugins.findIndex(e=>e?.name===t)}use(t){if(t.name){let e=this.indexOf(t.name);if(e!==-1)return this.plugins[e]=t,{key:this.key,value:e}}return this.plugins.push(t),{key:this.key,value:this.plugins.length-1}}eject(t){if(typeof t=="string"){let e=this.indexOf(t);if(e===-1)throw new Error(`Plugin with name '${t}' not found`);this.plugins[e]=void 0}else{if(t.key!==this.key)throw new Error(`Plugin with key '${t.key}' is not registered for endpoint '${this.key}'`);this.plugins[t.value]=void 0}}async interceptRequest(t,e){let r=e;for(let n of this.plugins)n!=null&&n.request&&(r=await n.request(t,r));return r}async interceptResponse(t,e,r){let n=r;for(let i=this.plugins.length-1;i>=0;i--){let o=this.plugins[i];o&&(n=n.then(o!=null&&o.response?s=>o.response(t,e,s):void 0,o!=null&&o.error?s=>o.error(t,e,s):void 0))}return n}count(){return this.plugins.reduce((t,e)=>e?t+1:t,0)}};function hI(t){let e=new Set;for(let n of t){let i=`${n.method} ${n.path}`;if(e.has(i))throw new Error(`Zodios: Duplicate path '${i}'`);e.add(i)}let r=new Set;for(let n of t)if(n.alias){if(r.has(n.alias))throw new Error(`Zodios: Duplicate alias '${n.alias}'`);r.add(n.alias)}for(let n of t)if(n.parameters&&n.parameters.filter(i=>i.type==="Body").length>1)throw new Error(`Zodios: Multiple body parameters in endpoint '${n.path}'`)}function Er(t){return hI(t),t}var vV=class{constructor(t,e,r){this.endpointPlugins=new Map;let n;if(!t)throw Array.isArray(e)?new Error("Zodios: missing base url"):new Error("Zodios: missing api description");let i;if(typeof t=="string"&&Array.isArray(e))i=t,this.api=e,n=r||{};else if(Array.isArray(t)&&!Array.isArray(e))this.api=t,n=e||{};else throw new Error("Zodios: api must be an array");hI(this.api),this.options={validate:!0,transform:!0,sendDefaults:!1,...n},this.options.axiosInstance?this.axiosInstance=this.options.axiosInstance:this.axiosInstance=vr.create({...this.options.axiosConfig}),i&&(this.axiosInstance.defaults.baseURL=i),this.injectAliasEndpoints(),this.initPlugins(),[!0,"all","request","response"].includes(this.options.validate)&&this.use(gV(this.options))}initPlugins(){this.endpointPlugins.set("any-any",new fI("any","any")),this.api.forEach(t=>{let e=new fI(t.method,t.path);switch(t.requestFormat){case"binary":e.use(lI("Content-Type","application/octet-stream"));break;case"form-data":e.use(fV());break;case"form-url":e.use(hV());break;case"text":e.use(lI("Content-Type","text/plain"));break}this.endpointPlugins.set(`${t.method}-${t.path}`,e)})}getAnyEndpointPlugins(){return this.endpointPlugins.get("any-any")}findAliasEndpointPlugins(t){let e=this.api.find(r=>r.alias===t);if(e)return this.endpointPlugins.get(`${e.method}-${e.path}`)}findEnpointPlugins(t,e){return this.endpointPlugins.get(`${t}-${e}`)}get baseURL(){return this.axiosInstance.defaults.baseURL}get axios(){return this.axiosInstance}use(...t){if(typeof t[0]=="object")return this.getAnyEndpointPlugins().use(t[0]);if(typeof t[0]=="string"&&typeof t[1]=="object"){let e=this.findAliasEndpointPlugins(t[0]);if(!e)throw new Error(`Zodios: no alias '${t[0]}' found to register plugin`);return e.use(t[1])}else if(typeof t[0]=="string"&&typeof t[1]=="string"&&typeof t[2]=="object"){let e=this.findEnpointPlugins(t[0],t[1]);if(!e)throw new Error(`Zodios: no endpoint '${t[0]} ${t[1]}' found to register plugin`);return e.use(t[2])}throw new Error("Zodios: invalid plugin registration")}eject(t){var e;if(typeof t=="string"){this.getAnyEndpointPlugins().eject(t);return}(e=this.endpointPlugins.get(t.key))==null||e.eject(t)}injectAliasEndpoints(){this.api.forEach(t=>{t.alias&&(["post","put","patch","delete"].includes(t.method)?this[t.alias]=(e,r)=>this.request({...r,method:t.method,url:t.path,data:e}):this[t.alias]=e=>this.request({...e,method:t.method,url:t.path}))})}async request(t){let e=t,r=this.getAnyEndpointPlugins(),n=this.findEnpointPlugins(e.method,e.url);e=await r.interceptRequest(this.api,e),n&&(e=await n.interceptRequest(this.api,e));let i=this.axiosInstance.request({...oV(e,["params","queries"]),url:sV(e),params:e.queries});return n&&(i=n.interceptResponse(this.api,e,i)),i=r.interceptResponse(this.api,e,i),(await i).data}async get(t,...[e]){return this.request({...e,method:"get",url:t})}async post(t,e,...[r]){return this.request({...r,method:"post",url:t,data:e})}async put(t,e,...[r]){return this.request({...r,method:"put",url:t,data:e})}async patch(t,e,...[r]){return this.request({...r,method:"patch",url:t,data:e})}async delete(t,e,...[r]){return this.request({...r,method:"delete",url:t,data:e})}},yu=vV;function yV(t,e){if(t instanceof JD||t&&typeof t=="object"&&"isAxiosError"in t){let r=t;if(r.response){let n=e(r);if(n)return n.some(i=>i.schema.safeParse(r.response.data).success)}}return!1}function Ei(t,e,r){return yV(r,n=>uV(t,e,n))}var vW=$e(JO(),1),Bb=t=>e=>{let r=`[object ${t}]`;return e&&(toString.call(e)===r||typeof e.toString=="function"&&e.toString()===r)},OZ=Bb("FormData"),AZ=Bb("Blob"),kZ=Bb("File");function qd(t,e){return{request:async(r,n)=>({...n,headers:{...n.headers,[t]:await e()}})}}function yW(t,e){var r;return t&&((r=e.config)!=null&&r.headers)?!e.config.headers.Authorization.includes(t):!1}function zb(t){return{request:async(e,r)=>{let n=await t.getToken();return n?{...r,headers:{...r.headers,Authorization:`Bearer ${n}`}}:r},error:t.renewToken?async(e,r,n)=>{var i;if(vr.isAxiosError(n)&&t.renewToken&&n.config&&((i=n.response)==null?void 0:i.status)===401){let o=await t.renewToken();if(yW(o,n)){let s={...n.config};return s.headers={...s.headers,Authorization:`Bearer ${o}`},vr(s)}}throw n}:void 0}}function Vb(t){return{name:"pluginBaseURL",request:async(e,r)=>({...r,baseURL:t})}}var Wb=$e(require("os")),Gb=$e(require("path")),Dt=$e(require("vscode"));var bW=B.object({status:B.string(),title:B.string(),detail:B.string().nullish()});function Ni(t){if(t.length===1)return _W(t[0]);let e=`${t.length} errors occured: `;for(let r=0;r<t.length;r++)r>0&&(e+=", "),e+=`${t[r].status}: ${t[r].title}`;return e}function _W(t){let e=`${t.status}: ${t.title}`;return t.detail&&(e+=` - ${t.detail}`),e}var xW=B.object({errors:B.array(bW)}),dn=[{status:"default",schema:xW}];var Cs=$e(require("vscode"));var Ga=class{constructor(e){this.resource=e;this.quickPick=Cs.window.createQuickPick(),this.quickPick.title=e.title,this.quickPick.placeholder=e.placeholder,this.quickPick.onDidChangeValue(this.onDidChangeValue,this),this.quickPick.ignoreFocusOut=e.ignoreFocusOut??!1}quickPick;fetchTimerKey;onDidChangeValue(){clearTimeout(this.fetchTimerKey),this.fetchTimerKey=setTimeout(()=>this.fetchResource.apply(this),300)}async fetchResource(){this.quickPick.busy=!0,this.quickPick.show(),this.quickPick.items=await this.resource.fetchItems(this.quickPick.value),this.quickPick.busy=!1}async pick(e=!0){await this.fetchResource();let r=await new Promise(n=>{this.quickPick.onDidAccept(()=>n(this.quickPick.selectedItems[0])),this.quickPick.onDidHide(()=>n(void 0)),this.quickPick.show()});return e&&this.quickPick.hide(),r}hide(){this.quickPick.hide()}};async function An(t,e,r,n){if(n.sendTelemetryException(t),r.append(JSON.stringify({cause:t.cause},void 0,2)),await Cs.window.showErrorMessage(`${e} Response validation failed. Please report this as a bug.`,"Report bug")==="Report bug"){r.show(!0),Cs.commands.executeCommand("terraform.generateBugReport");return}}async function oi(){await Cs.authentication.getSession(Pr.providerID,[],{createIfNone:!1,forceNewSession:{detail:"Your token is invalid or has expired. Please generate a new token"}})}var Kb=class{constructor(e,r,n){this.accessToken=e;this.hostName=r;this.account=n}id=Pr.providerID;scopes=[]},Ld=class extends Error{constructor(){super("Invalid token")}},Xb=class{constructor(e,r,n,i){this.outputChannel=e;this.reporter=r;this.secretStorage=n;this.sessionKey=i}async get(){let e=await this.secretStorage.get(this.sessionKey);return e?JSON.parse(e):void 0}async store(e,r){try{let n=await Es.getAccount({headers:{authorization:`Bearer ${r}`}}),i=new Kb(r,e,{label:n.data.attributes.username,id:n.data.id});return await this.secretStorage.store(this.sessionKey,JSON.stringify(i)),Yb(i.hostName),i}catch(n){throw n instanceof Br?(An(n,"Failed to process user details",this.outputChannel,this.reporter),n):Ei(Es.api,"getAccount",n)?n.response.status===401?new Ld:(this.reporter.sendTelemetryException(n),new Error(`Failed to login: ${Ni(n.response.data.errors)}`)):(n instanceof Error&&this.reporter.sendTelemetryException(n),n)}}async delete(){return this.secretStorage.delete(this.sessionKey)}},Pr=class t{constructor(e,r,n,i){this.secretStorage=e;this.ctx=r;this.reporter=n;this.outputChannel=i;this.logger=Dt.window.createOutputChannel("HashiCorp Authentication",{log:!0}),this.sessionHandler=new Xb(this.outputChannel,this.reporter,this.secretStorage,this.sessionKey),this.ctx.subscriptions.push(Dt.commands.registerCommand("terraform.cloud.login",async()=>{let o=await Dt.authentication.getSession(t.providerID,[],{createIfNone:!0});Dt.window.showInformationMessage(`Hello ${o.account.label}`)})),this.sessionPromise=this.sessionHandler.get(),this.disposable=Dt.Disposable.from(this.secretStorage.onDidChange(o=>{o.key===this.sessionKey&&this.checkForUpdates()}))}static providerLabel="HashiCorp Cloud Platform Terraform";static providerID="HashiCorpTerraformCloud";sessionKey="HashiCorpTerraformCloudSession";logger;sessionHandler;sessionPromise;disposable;_onDidChangeSessions=new Dt.EventEmitter;get onDidChangeSessions(){return this._onDidChangeSessions.event}async getSessions(e){try{let r=await this.sessionPromise;return r?((r.hostName===""||r.hostName===void 0)&&(r=await this.sessionHandler.store(Si,r.accessToken)),Qb(r.hostName),Yb(r.hostName),this.logger.info("Successfully fetched HCP Terraform session"),await Dt.commands.executeCommand("setContext","terraform.cloud.signed-in",!0),[r]):[]}catch(r){let n="Failed to get HCP Terraform session";return r instanceof Error?n=r.message:typeof r=="string"&&(n=r),this.logger.info(n),Dt.window.showErrorMessage(n),[]}}async createSession(e){let r=await this.promptForTFCHostname();if(!r)throw this.logger.error("User did not provide a TFC instance"),new Error("TFC instance is required");Qb(r);let n=await this.promptForToken();if(!n)return this.logger.error("User did not provide a token"),this.reporter.sendTelemetryEvent("tfc-login-fail",{reason:"Invalid token"}),Dt.window.showErrorMessage("Invalid token. Please try again"),this.createSession(e);try{let i=await this.sessionHandler.store(r,n);return this.reporter.sendTelemetryEvent("tfc-login-success"),this.logger.info("Successfully logged in to HCP Terraform"),await Dt.commands.executeCommand("setContext","terraform.cloud.signed-in",!0),this._onDidChangeSessions.fire({added:[i],removed:[],changed:[]}),i}catch(i){if(i instanceof Ld)return this.reporter.sendTelemetryEvent("tfc-login-fail",{reason:"Invalid token"}),Dt.window.showErrorMessage(`${i.message}. Please try again`),this.createSession(e);throw i instanceof Error?(Dt.window.showErrorMessage(i.message),this.reporter.sendTelemetryException(i),this.logger.error(i.message)):typeof i=="string"&&(Dt.window.showErrorMessage(i),this.reporter.sendTelemetryException(new Error(i)),this.logger.error(i)),i}}async removeSession(e){let r=await this.sessionPromise;r&&(this.reporter.sendTelemetryEvent("tfc-logout"),this.logger.info("Removing current session"),await this.sessionHandler.delete(),await Dt.commands.executeCommand("setContext","terraform.cloud.signed-in",!1),this._onDidChangeSessions.fire({added:[],removed:[r],changed:[]}))}async checkForUpdates(){let e=await this.sessionPromise;this.sessionPromise=this.sessionHandler.get();let r=await this.sessionPromise,n=[],i=[],o=[];if(r?.accessToken&&!e?.accessToken)this.logger.info("Session added"),n.push(r);else if(!r?.accessToken&&e?.accessToken)this.logger.info("Session removed"),i.push(e);else if(r&&e&&r.accessToken!==e.accessToken)this.logger.info("Session changed"),o.push(r);else return;this._onDidChangeSessions.fire({added:n,removed:i,changed:o})}async promptForTFCHostname(){let e=[];try{let o=await this.getTerraformCLICredentials();for(let s of o.keys()){eA(s);let a=await Ss.ping();a&&e.push({detail:s,label:`${a.appName} instance`})}}catch{this.logger.info("Terraform credential file not yet initialized.");let s={detail:"app.terraform.io",label:"Default HCP Terraform instance"};e.push(s)}let r={label:"New Instance",detail:"Connect to a new HCP Terraform or Terraform enterprise instance"};e.push(r);let n=await Dt.window.showQuickPick(e,{canPickMany:!1,ignoreFocusOut:!0,placeHolder:"Choose the HCP Terraform or Terraform Enterprise instance to connect to",title:"HashiCorp Authentication"});if(n===void 0)return;let i;switch(n.label){case r.label:i=await Dt.window.showInputBox({ignoreFocusOut:!0,placeHolder:"app.terraform.io",value:"app.terraform.io",prompt:"Enter a HCP Terraform hostname",password:!1});break;default:i=n.detail;break}return i}async promptForToken(){let e=await Dt.window.showQuickPick([{label:"Stored user token",detail:"Use a token stored in the Terraform CLI configuration file"},{label:"Existing user token",detail:"Enter a token manually"},{label:"Generate a user token",detail:"Open the HCP Terraform website to generate a new token"}],{canPickMany:!1,ignoreFocusOut:!0,placeHolder:"Choose a method to enter a HCP Terraform user token",title:"HCP Terraform Authentication"});if(e===void 0)return;let r=`${kn}/settings/tokens?source=vscode-terraform`,n;switch(e.label){case"Generate a user token":this.reporter.sendTelemetryEvent("tfc-login",{method:"browser"}),await Dt.env.openExternal(Dt.Uri.parse(r)),n=await Dt.window.showInputBox({ignoreFocusOut:!0,placeHolder:"User access token",prompt:"Enter a HCP Terraform user access token",password:!0});break;case"Existing user token":this.reporter.sendTelemetryEvent("tfc-login",{method:"existing"}),n=await Dt.window.showInputBox({ignoreFocusOut:!0,placeHolder:"User access token",prompt:"Enter a HCP Terraform user access token",password:!0});break;case"Stored user token":this.reporter.sendTelemetryEvent("tfc-login",{method:"stored"}),n=await this.getTerraformCLIToken();break;default:break}return n}async getTerraformCLICredentials(){let e=process.platform==="win32"?Gb.join(Wb.homedir(),"AppData","Roaming","terraform.d","credentials.tfrc.json"):Gb.join(Wb.homedir(),".terraform.d","credentials.tfrc.json");if(await this.pathExists(e)===!1)throw new Ka("Terraform credential file not found. Please login using the Terraform CLI and try again.");let r=await Dt.workspace.fs.readFile(Dt.Uri.file(e)),n;try{n=Buffer.from(r).toString("utf8")}catch{throw new Ka("Failed to read configuration file. Please login using the Terraform CLI and try again")}try{let i=JSON.parse(n);return new Map(Object.entries(i.credentials))}catch{throw new Ka("Failed to parse configuration file. Please login using the Terraform CLI and try again")}}async getTerraformCLIToken(){let e;try{return e=await this.getTerraformCLICredentials(),e.get(Si)?.token}catch(r){if(r instanceof Ka){Dt.window.showErrorMessage(r.message);return}}}async pathExists(e){try{return await Dt.workspace.fs.stat(Dt.Uri.file(e)),!0}catch{return!1}}dispose(){this.disposable?.dispose()}},Ka=class extends Error{constructor(e){super(e),this.name="TerraformCredentialFileError"}};var wW=B.object({data:B.object({id:B.string(),type:B.string(),attributes:B.object({username:B.string(),email:B.string()})})}),Zb=Er([{method:"get",path:"/account/details",alias:"getAccount",description:"Get account details",response:wW,errors:dn}]);var ko=[{name:"page[number]",type:"Query",description:"Page number",schema:B.number().positive().optional()},{name:"page[size]",type:"Query",description:"Count of records",schema:B.number().positive().optional()}],No=B.object({"current-page":B.number(),"page-size":B.number(),"next-page":B.number().nullable(),"prev-page":B.number().nullable(),"total-count":B.number(),"total-pages":B.number()});var tA=[{name:"filter[project][id]",type:"Query",description:"Restricts results to workspaces in the specific project",schema:B.string().optional()}],rA=[{name:"include",type:"Query",description:"Includes related resources for workspaces when specified",schema:B.array(B.enum(["current_run"])).transform(t=>t?.join(",")).optional()}],jd=[{name:"q",type:"Query",description:" A search query string.",schema:B.string().optional()}];var CW=B.object({id:B.string(),attributes:B.object({"external-id":B.string(),name:B.string()})}),EW=B.object({data:B.array(CW),meta:B.object({pagination:No.optional()}).optional()}),SW=B.object({id:B.string(),attributes:B.object({status:B.enum(["active","invited"])}),relationships:B.object({organization:B.object({data:B.object({id:B.string()})})})}),TW=B.object({data:B.array(SW)}),nA=Er([{method:"get",path:"/organizations",alias:"listOrganizations",description:"List organizations of the current user",response:EW,parameters:[...ko,...jd],errors:dn},{method:"get",path:"/organization-memberships",alias:"listOrganizationMemberships",description:"List organization memberships of the current user",response:TW,errors:dn}]);var iA=B.object({id:B.string(),attributes:B.object({name:B.string()})}),RW=B.object({data:B.array(iA),meta:B.object({pagination:No})}),oA=Er([{method:"get",path:"/organizations/:organization_name/projects",alias:"listProjects",description:"List projects in the organization",response:RW,parameters:[...ko,...jd],errors:dn},{method:"get",path:"/projects/:project_id",alias:"getProject",description:"Get details on a project",response:B.object({data:iA}),errors:dn}]);var PW=B.enum(["pending","fetching","fetching_completed","pre_plan_running","pre_plan_completed","queuing","plan_queued","planning","planned","cost_estimating","cost_estimated","policy_checking","policy_override","policy_soft_failed","policy_checked","confirmed","post_plan_running","post_plan_completed","planned_and_finished","apply_queued","applying","applied","discarded","errored","canceled","force_canceled"]),e_={unknown:"unknown",manual:"manually triggered run",disabled:"file change detected in VCS",matched:"file change detected in tracked directory",inconclusive:"unable to detect changed files",git_tag:"automatically triggered run"},DW=Object.keys(e_),t_={terraform:"CLI","terraform+cloud":"CLI","tfe-api":"API","tfe-configuration-version":"configuration version","tfe-infrastructure-lifecycle":"infrastructure lifecycle","tfe-module":"no-code provision","tfe-run-trigger":"run trigger","tfe-ui":"UI"},IW=Object.keys(t_),r_=B.object({"created-at":B.coerce.date(),message:B.string(),source:B.enum(IW),status:PW,"trigger-reason":B.enum(DW),"terraform-version":B.string()}),Su=B.object({data:B.object({id:B.string(),type:B.string()}).nullable()}).nullish(),OW=B.object({plan:Su.optional(),apply:Su.optional(),workspace:Su,"configuration-version":Su,"created-by":Su}),sA=B.object({id:B.string(),attributes:r_,relationships:OW}),AW=B.object({data:B.array(sA),meta:B.object({pagination:No})}),kW=[{name:"include",type:"Query",description:"Related attributes to include",schema:B.array(B.enum(["plan","apply","created_by","cost_estimate","configuration_version","configuration_version.ingress_attributes"])).transform(t=>t?.join(",")).optional()}],aA=Er([{method:"get",path:"/workspaces/:workspace_id/runs",alias:"listRuns",description:"List Runs in a Workspace",response:AW,parameters:[...ko,...kW],errors:dn},{method:"get",path:"/runs/:run_id",alias:"getRun",description:"Show details of a specific run",response:B.object({data:sA}),errors:dn}]);var NW=B.enum(["remote","local","agent"]),MW=B.object({id:B.string(),attributes:r_}),qW=B.object({description:B.string().nullable(),environment:B.string(),"execution-mode":NW,name:B.string(),source:B.string().nullable(),"updated-at":B.coerce.date(),"run-failures":B.number().nullable(),"resource-count":B.number(),"terraform-version":B.string(),locked:B.boolean(),"vcs-repo-identifier":B.string().nullable(),"vcs-repo":B.object({"repository-http-url":B.string()}).nullable(),"auto-apply":B.boolean()}),cA=B.object({data:B.object({id:B.string(),type:B.string()}).nullable()}).nullish(),LW=B.object({"latest-run":cA,project:cA}),uA=B.object({id:B.string(),attributes:qW,relationships:LW,links:B.object({self:B.string(),"self-html":B.string()})}),jW=B.object({data:B.array(uA),meta:B.object({pagination:No}),included:B.array(MW).optional()}),FW=[{name:"sort",type:"Query",description:"Allows sorting the organization's workspaces by a provided value.",schema:B.enum(["name","current-run.created-at","latest-change-at","-name","-current-run.created-at","-latest-change-at"]).optional()}],lA=Er([{method:"get",path:"/organizations/:organization_name/workspaces",alias:"listWorkspaces",description:"List workspaces in the organization",response:jW,parameters:[...ko,...tA,...rA,...FW],errors:dn},{method:"get",path:"/workspaces/:workspace_id",alias:"getWorkspace",description:"Get details on a workspace",response:B.object({data:uA}),errors:dn}]);var UW=B.object({actions:B.object({"is-exportable":B.boolean()}),"execution-details":B.object({mode:B.string()}).nullable(),"has-changes":B.boolean(),permissions:B.object({"can-export":B.boolean()}),"resource-additions":B.number().nullable(),"resource-changes":B.number().nullable(),"resource-destructions":B.number().nullable(),"structured-run-output-enabled":B.boolean(),status:B.string(),"status-timestamps":B.object({"queued-at":B.string().optional(),"pending-at":B.string().optional(),"started-at":B.string().optional(),"finished-at":B.string().optional()}),"log-read-url":B.string()}),$W=B.object({id:B.string(),type:B.literal("plans"),attributes:UW}),HW=B.object({format_version:B.string(),terraform_version:B.string()}),pA=Er([{method:"get",path:"/plans/:plan_id",alias:"getPlan",description:"Show details of a specific plan",response:B.object({data:$W})},{method:"get",path:"/plans/:plan_id/json-output",alias:"getPlanJSON",description:"Show JSON details of a specific plan",response:B.object({data:HW})}]);var BW=B.object({"resource-additions":B.number().nullable(),"resource-changes":B.number().nullable(),"resource-destructions":B.number().nullable(),"structured-run-output-enabled":B.boolean(),status:B.string(),"status-timestamps":B.object({"queued-at":B.string().optional(),"started-at":B.string().optional(),"finished-at":B.string().optional()}),"log-read-url":B.string()}),zW=B.object({id:B.string(),type:B.literal("applies"),attributes:BW}),dA=Er([{method:"get",path:"/applies/:apply_id",alias:"getApply",description:"Show details of a specific apply",response:B.object({data:zW})}]);var VW=B.object({username:B.string(),"is-service-account":B.boolean(),"avatar-url":B.string()}),WW=B.object({id:B.string(),type:B.literal("users"),attributes:VW}),fA=Er([{method:"get",path:"/users/:user_id",alias:"getUser",description:"Get user information",response:B.object({data:WW})}]);var n_={ado:"Azure DevOps",bitbucket:"Bitbucket",gitlab:"GitLab",github:"GitHub",terraform:"Terraform","terraform+cloud":"Terraform Cloud",tfeAPI:"API","tfe-api":"API",module:"No-code Module"},GW=Object.keys(n_),KW=B.object({data:B.object({id:B.string(),type:B.string()}).nullable()}).nullish(),XW=B.object({"ingress-attributes":KW}),QW=B.object({source:B.enum(GW).nullish()}),YW=B.object({id:B.string(),type:B.literal("configuration-versions"),attributes:QW,relationships:XW}),mA=Er([{method:"get",path:"/configuration-versions/:configuration_id",alias:"getConfigurationVersion",description:"Show details of a specific configurationVersion",response:B.object({data:YW})}]);var ZW=B.object({branch:B.string(),"clone-url":B.string(),"commit-message":B.string(),"commit-sha":B.string(),"commit-url":B.string(),"compare-url":B.string().nullable(),identifier:B.string(),"is-pull-request":B.boolean(),"on-default-branch":B.boolean(),"pull-request-number":B.number().nullable(),"pull-request-url":B.string().nullable(),"pull-request-title":B.string().nullable(),"pull-request-body":B.string().nullable(),tag:B.string().nullable(),"sender-username":B.string(),"sender-avatar-url":B.string(),"sender-html-url":B.string()}),JW=B.object({id:B.string(),type:B.literal("ingress-attributes"),attributes:ZW}),hA=Er([{method:"get",path:"/configuration-versions/:configuration_id/ingress-attributes",alias:"getIngressAttributes",description:"Show details of a specific IngressAttributes",response:B.object({data:JW})}]);var eG=B.object({appName:B.string().nullish(),apiVersion:B.string().nullish()}),eJ=B.object({data:eG}),i_=Er([{method:"get",path:"/ping",alias:"ping",description:"Get instance details",response:B.object({appName:B.string().nullish(),apiVersion:B.string().nullish()}),errors:dn}]);var Si="app.terraform.io",Ts=`https://${Si}/api/v2`,kn=`https://${Si}/app`,o_=qd("Content-Type",async()=>"application/vnd.api+json"),tG=Xa.extensions.getExtension("hashicorp.terraform")?.packageJSON.version,s_=qd("User-Agent",async()=>`VSCode/${Xa.version} hashicorp.terraform/${tG}`);function a_(){return{response:async(t,e,r)=>(console.log(r),r)}}function rG(){return{response:async(t,e,r)=>(console.log("Response appname:",r.headers["tfp-appname"]),console.log("Response api-version:",r.headers["tfp-api-version"]),r.data={appName:r.headers["tfp-appname"],apiVersion:r.headers["tfp-api-version"],...r.data},r)}}var Ss=new yu(Ts,i_),Es=new yu(Ts,Zb);Es.use(o_);Es.use(s_);Es.use(a_());var Xt=new yu(Ts,[...Zb,...nA,...oA,...lA,...aA,...pA,...dA,...fA,...mA,...hA]);Xt.use(o_);Xt.use(s_);Xt.use(a_());var vJ=Xt.use(zb({getToken:async()=>{let t=await Xa.authentication.getSession(Pr.providerID,[],{createIfNone:!0});return t?t.accessToken:void 0}}));function eA(t){let e=`https://${t}/api/v2`;Ss=new yu(e,i_),Ss.use(o_),Ss.use(s_),Ss.use(a_()),Ss.use(rG())}function Qb(t){Si=t,Ts=`https://${Si}/api/v2`,kn=`https://${Si}/app`,Es.use(Vb(Ts))}function Yb(t){Si=t,Ts=`https://${Si}/api/v2`,kn=`https://${Si}/app`,Xt.use(Vb(Ts))}var gA=$e(require("vscode"));var Tu=class{get label(){return"$(clear-all) Clear project filter. Show all workspaces"}get description(){return""}get alwaysShow(){return!0}},c_=class{constructor(e){this.project=e}get label(){return this.project.attributes.name}get description(){return this.project.id}},Fd=class{constructor(e,r,n){this.organizationName=e;this.outputChannel=r;this.reporter=n}name="projects";title="Filter workspaces";placeholder="Select a project (type to search)";async createProjectItems(e,r){return(await Xt.listProjects({params:{organization_name:e},...r&&{queries:{q:r}}})).data.map(i=>new c_(i))}async fetchItems(e){let n=[new Tu,{label:"",kind:gA.QuickPickItemKind.Separator}];try{n.push(...await this.createProjectItems(this.organizationName,e))}catch(i){let o="Failed to fetch projects";if(i instanceof Br)return An(i,o,this.outputChannel,this.reporter),n;if(vr.isAxiosError(i)&&i.response?.status===401)return oi(),n;Ei(Xt.api,"listProjects",i)?(o+=Ni(i.response.data.errors),this.reporter.sendTelemetryException(i)):i instanceof Error?(o+=i.message,this.reporter.sendTelemetryException(i)):typeof i=="string"&&(o+=i),n.push({label:`$(error) ${o}`,alwaysShow:!0})}return n}};var ye=$e(require("vscode"));function u_(t){switch(t){case"pending":return new ye.ThemeIcon("debug-pause",new ye.ThemeColor("charts.gray"));case"managed_queued":return new ye.ThemeIcon("debug-pause",new ye.ThemeColor("charts.gray"));case"queued":return new ye.ThemeIcon("debug-pause",new ye.ThemeColor("charts.gray"));case"running":return new ye.ThemeIcon("run-status-running",new ye.ThemeColor("charts.gray"));case"errored":return new ye.ThemeIcon("error",new ye.ThemeColor("charts.red"));case"canceled":return new ye.ThemeIcon("error",new ye.ThemeColor("charts.gray"));case"finished":return new ye.ThemeIcon("pass",new ye.ThemeColor("charts.green"));case"unreachable":return new ye.ThemeIcon("dash")}return new ye.ThemeIcon("dash")}function Ru(t){switch(t){case"pending":return new ye.ThemeIcon("debug-pause",new ye.ThemeColor("charts.gray"));case"fetching":return new ye.ThemeIcon("sync~spin",new ye.ThemeColor("charts.gray"));case"pre_plan_running":return new ye.ThemeIcon("run-status-running",new ye.ThemeColor("charts.gray"));case"queuing":return new ye.ThemeIcon("debug-pause",new ye.ThemeColor("charts.gray"));case"planning":return new ye.ThemeIcon("run-status-running",new ye.ThemeColor("charts.gray"));case"cost_estimating":return new ye.ThemeIcon("sync~spin",new ye.ThemeColor("charts.gray"));case"policy_checking":return new ye.ThemeIcon("sync~spin",new ye.ThemeColor("charts.gray"));case"apply_queued":return new ye.ThemeIcon("debug-pause",new ye.ThemeColor("charts.gray"));case"applying":return new ye.ThemeIcon("sync~spin",new ye.ThemeColor("charts.gray"));case"post_plan_running":return new ye.ThemeIcon("run-status-running",new ye.ThemeColor("charts.gray"));case"plan_queued":return new ye.ThemeIcon("debug-pause");case"fetching_completed":return new ye.ThemeIcon("pass",new ye.ThemeColor("charts.green"));case"pre_plan_completed":return new ye.ThemeIcon("pass",new ye.ThemeColor("charts.green"));case"planned":return new ye.ThemeIcon("warning",new ye.ThemeColor("charts.yellow"));case"cost_estimated":return new ye.ThemeIcon("info",new ye.ThemeColor("charts.orange"));case"policy_override":return new ye.ThemeIcon("warning",new ye.ThemeColor("charts.yellow"));case"policy_checked":return new ye.ThemeIcon("pass",new ye.ThemeColor("charts.green"));case"confirmed":return new ye.ThemeIcon("pass",new ye.ThemeColor("charts.green"));case"post_plan_completed":return new ye.ThemeIcon("pass",new ye.ThemeColor("charts.green"));case"planned_and_finished":return new ye.ThemeIcon("pass-filled",new ye.ThemeColor("charts.green"));case"policy_soft_failed":return new ye.ThemeIcon("warning",new ye.ThemeColor("charts.yellow"));case"applied":return new ye.ThemeIcon("pass-filled",new ye.ThemeColor("charts.green"));case"discarded":return new ye.ThemeIcon("close",new ye.ThemeColor("charts.gray"));case"canceled":return new ye.ThemeIcon("error",new ye.ThemeColor("charts.gray"));case"force_canceled":return new ye.ThemeIcon("error");case"errored":return new ye.ThemeIcon("error",new ye.ThemeColor("charts.red"))}return new ye.ThemeIcon("dash")}function Ud(t){switch(t){case"pending":return"Pending";case"fetching":return"Fetching";case"queuing":return"Queuing";case"planning":return"Planning";case"cost_estimating":return"Estimating costs";case"policy_checking":return"Checking policies";case"apply_queued":return"Apply queued";case"applying":return"Applying";case"post_plan_running":return"Tasks - post-plan (running)";case"plan_queued":return"Plan queued";case"fetching_completed":return"Fetching completed";case"pre_plan_running":return"Tasks - pre-plan (running)";case"pre_plan_completed":return"Tasks - pre-plan (passed)";case"planned":return"Planned";case"cost_estimated":return"Cost estimated";case"policy_override":return"Policy override";case"policy_checked":return"Policy checked";case"confirmed":return"Confirmed";case"post_plan_completed":return"Tasks - post-plan (passed)";case"planned_and_finished":return"Planned and finished";case"policy_soft_failed":return"Policy Soft Failure";case"applied":return"Applied";case"discarded":return"Discarded";case"canceled":return"Canceled";case"force_canceled":return"Force canceled";case"errored":return"Errored"}return"No runs available"}function Rs(t){switch(t){case"create":return new ye.ThemeIcon("diff-added",new ye.ThemeColor("charts.green"));case"delete":return new ye.ThemeIcon("diff-removed",new ye.ThemeColor("charts.red"));case"update":return new ye.ThemeIcon("diff-modified",new ye.ThemeColor("charts.orange"));case"move":return new ye.ThemeIcon("diff-renamed",new ye.ThemeColor("charts.orange"));case"replace":return new ye.ThemeIcon("arrow-swap",new ye.ThemeColor("charts.orange"));case"read":return new ye.ThemeIcon("git-fetch",new ye.ThemeColor("charts.blue"));case"import":return new ye.ThemeIcon("export",new ye.ThemeColor("charts.blue"));case"noop":return new ye.ThemeIcon("diff-ignored",new ye.ThemeColor("charts.grey"))}}function vA(t){switch(t){case"update":return"updated";case"delete":return"deleted";default:return"unknown"}}function yA(t){switch(t){case"warning":return new ye.ThemeIcon("warning",new ye.ThemeColor("charts.orange"));case"error":return new ye.ThemeIcon("error",new ye.ThemeColor("charts.red"))}}function $d(t){let a=new Intl.RelativeTimeFormat("en",{style:"long",numeric:"auto"}),c=Date.now()/1e3,u=t.getTime()/1e3,l=c-u;if(l<60)return a.format(-l,"second");if(l<3600){let d=Math.round(l/60);return a.format(-d,"minute")}if(l<86400){let d=Math.round(l/3600);return a.format(-d,"hour")}if(l<604800){let d=Math.round(l/86400);return a.format(-d,"day")}if(l<2592e3){let d=Math.round(l/604800);return a.format(-d,"week")}if(l<31536e3){let d=Math.round(l/2592e3);return a.format(-d,"month")}let p=Math.round(l/31536e3);return a.format(-p,"year")}var nG=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),"g");function l_(t){return t.replace(nG,"")}var Hd=class{constructor(e,r,n,i){this.ctx=e;this.runDataProvider=r;this.reporter=n;this.outputChannel=i;this.ctx.subscriptions.push(Ze.commands.registerCommand("terraform.cloud.workspaces.refresh",o=>{this.reporter.sendTelemetryEvent("tfc-workspaces-refresh"),this.reset(),this.refresh(),this.runDataProvider.refresh(o)}),Ze.commands.registerCommand("terraform.cloud.workspaces.resetProjectFilter",()=>{this.reporter.sendTelemetryEvent("tfc-workspaces-filter-reset"),this.projectFilter=void 0,this.reset(),this.refresh(),this.runDataProvider.refresh()}),Ze.commands.registerCommand("terraform.cloud.workspaces.viewInBrowser",o=>{this.reporter.sendTelemetryEvent("tfc-workspaces-viewInBrowser");let s=`${kn}/${o.organization}/workspaces/${o.attributes.name}`;Ze.env.openExternal(Ze.Uri.parse(s))}),Ze.commands.registerCommand("terraform.cloud.organization.viewInBrowser",()=>{this.reporter.sendTelemetryEvent("tfc-organization-viewInBrowser");let o=this.ctx.workspaceState.get("terraform.cloud.organization",""),s=`${kn}/${o}`;Ze.env.openExternal(Ze.Uri.parse(s))}),Ze.commands.registerCommand("terraform.cloud.workspaces.filterByProject",()=>{this.reporter.sendTelemetryEvent("tfc-workspaces-filter"),this.filterByProject()}),Ze.commands.registerCommand("terraform.cloud.workspaces.loadMore",async()=>{this.reporter.sendTelemetryEvent("tfc-workspaces-loadMore"),this.refresh(),this.runDataProvider.refresh()}))}didChangeTreeData=new Ze.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;projectFilter;pageSize=50;cache=[];nextPage=null;refresh(){this.didChangeTreeData.fire()}reset(){this.nextPage=null,this.cache=[]}async filterByProject(){if(await Ze.authentication.getSession(Pr.providerID,[],{createIfNone:!1})===void 0)return;let r=this.ctx.workspaceState.get("terraform.cloud.organization",""),n=new Fd(r,this.outputChannel,this.reporter),o=await new Ga(n).pick();o===void 0||o instanceof Tu?(this.projectFilter=void 0,await Ze.commands.executeCommand("setContext","terraform.cloud.projectFilterUsed",!1)):(this.projectFilter=o.description,await Ze.commands.executeCommand("setContext","terraform.cloud.projectFilterUsed",!0)),this.reset(),this.refresh(),this.runDataProvider.refresh()}getTreeItem(e){return e}getChildren(e){return e?[e]:this.buildChildren()}async buildChildren(){try{this.cache=[...this.cache,...await this.getWorkspaces()]}catch{return[]}let e=this.cache.slice(0);return this.nextPage!==null&&e.push(new p_),e}async getWorkspaces(){let e=this.ctx.workspaceState.get("terraform.cloud.organization","");if(e==="")return[];if(await Ze.authentication.getSession(Pr.providerID,[],{createIfNone:!1})===void 0)return[];try{let n=await Xt.listWorkspaces({params:{organization_name:e},queries:{include:["current_run"],...this.projectFilter&&{"filter[project][id]":this.projectFilter},"page[size]":this.pageSize,"page[number]":this.nextPage??1,sort:"-current-run.created-at"}});this.nextPage=n.meta.pagination["next-page"],this.reporter.sendTelemetryEvent("tfc-fetch-workspaces",void 0,{totalCount:n.meta.pagination["total-count"]});let i=await Xt.listProjects({params:{organization_name:e}});Ze.commands.executeCommand("setContext","terraform.cloud.organizationsExist",!0);let o=n.data;if(o.length<=0)return await Ze.commands.executeCommand("setContext","terraform.cloud.workspacesExist",!1),(await Xt.listOrganizationMemberships({})).data.filter(l=>l.relationships.organization.data.id===e&&l.attributes.status==="invited").length>0?await Ze.commands.executeCommand("setContext","terraform.cloud.pendingOrgMembership",!0):await Ze.commands.executeCommand("setContext","terraform.cloud.pendingOrgMembership",!1),[];await Ze.commands.executeCommand("setContext","terraform.cloud.workspacesExist",!0),await Ze.commands.executeCommand("setContext","terraform.cloud.pendingOrgMembership",!1);let s=i.data,a=[];for(let c=0;c<o.length;c++){let u=o[c],l=s.find(g=>g.id===u.relationships.project?.data?.id),p=l?l.attributes.name:"",d=u.relationships["latest-run"]?.data?.id,f=n.included?n.included.find(g=>g.id===d):void 0,m=Ze.Uri.joinPath(Ze.Uri.parse(kn),u.links["self-html"]);a.push(new Ps(u.attributes,u.id,p,e,m,f?.attributes))}return a}catch(n){let i=`Failed to list workspaces in ${e}: `;if(n instanceof Br)return An(n,i,this.outputChannel,this.reporter),[];if(vr.isAxiosError(n)){if(n.response?.status===401)return oi(),[];if(n.response?.status===404)return Ze.commands.executeCommand("setContext","terraform.cloud.organizationsExist",!1),Ze.window.showWarningMessage(`Organization '${e}' not found, please pick another one`),Ze.commands.executeCommand("terraform.cloud.organization.picker"),[];if(Ei(Xt.api,"listWorkspaces",n)||Ei(Xt.api,"listProjects",n))return i+=Ni(n.response.data.errors),Ze.window.showErrorMessage(i),this.reporter.sendTelemetryException(n),[]}return n instanceof Error?(i+=n.message,Ze.window.showErrorMessage(i),this.reporter.sendTelemetryException(n),[]):(typeof n=="string"&&(i+=n),Ze.window.showErrorMessage(i),[])}}dispose(){}},p_=class extends Ze.TreeItem{constructor(){super("Load more...",Ze.TreeItemCollapsibleState.None),this.iconPath=new Ze.ThemeIcon("ellipsis",new Ze.ThemeColor("charts.gray")),this.command={command:"terraform.cloud.workspaces.loadMore",title:"Load more"}}},Ps=class extends Ze.TreeItem{constructor(r,n,i,o,s,a){super(r.name,Ze.TreeItemCollapsibleState.None);this.attributes=r;this.id=n;this.projectName=i;this.organization=o;this.weblink=s;this.lastRun=a;this.description=`[${this.projectName}]`,this.iconPath=Ru(this.lastRun?.status),this.contextValue="hasLink";let c=this.attributes.locked?"$(lock) Locked":"$(unlock) Unlocked",u=this.attributes["vcs-repo-identifier"]&&this.attributes["vcs-repo"]?`$(source-control) [${this.attributes["vcs-repo-identifier"]}](${this.attributes["vcs-repo"]["repository-http-url"]})`:"",l=Ud(this.lastRun?.status),p=$d(this.attributes["updated-at"]),d=`
## $(${this.iconPath.id}) [${this.attributes.name}](${this.weblink})

#### ID: *${this.id}*

Run Status: $(${this.iconPath.id}) ${l}

${c}
___
| | |
--|--
| **Resources**         | ${this.attributes["resource-count"]}|
| **Terraform Version** | ${this.attributes["terraform-version"]}|
| **Updated**           | ${p}|

___
| | |
--|--
| ${u} | |
| **$(zap) Execution Mode** | ${this.attributes["execution-mode"]}|
| **$(gear) Auto Apply**    | ${p}|
`;this.tooltip=new Ze.MarkdownString(d,!0)}};var ut=$e(require("vscode"));var Dk=$e(Pk());var Gd=class{constructor(e,r,n,i,o){this.ctx=e;this.reporter=r;this.outputChannel=n;this.planDataProvider=i;this.applyDataProvider=o;this.ctx.subscriptions.push(ut.commands.registerCommand("terraform.cloud.run.plan.downloadLog",async s=>{this.downloadPlanLog(s)}),ut.commands.registerCommand("terraform.cloud.run.apply.downloadLog",async s=>this.downloadApplyLog(s)),ut.commands.registerCommand("terraform.cloud.runs.refresh",()=>{this.reporter.sendTelemetryEvent("tfc-runs-refresh"),this.refresh(this.activeWorkspace)}),ut.commands.registerCommand("terraform.cloud.run.viewInBrowser",s=>{this.reporter.sendTelemetryEvent("tfc-runs-viewInBrowser"),ut.env.openExternal(s.websiteUri)}),ut.commands.registerCommand("terraform.cloud.run.viewPlan",async s=>{if(!s.logReadUrl){await ut.window.showErrorMessage(`No plan found for ${s.id}`);return}await ut.commands.executeCommand("setContext","terraform.cloud.run.viewingPlan",!0),await ut.commands.executeCommand("terraform.cloud.run.plan.focus"),this.planDataProvider.refresh(s)}),ut.commands.registerCommand("terraform.cloud.run.viewApply",async s=>{if(!s.logReadUrl){await ut.window.showErrorMessage(`No apply log found for ${s.id}`);return}await ut.commands.executeCommand("setContext","terraform.cloud.run.viewingApply",!0),await ut.commands.executeCommand("terraform.cloud.run.apply.focus"),this.applyDataProvider.refresh(s)}))}didChangeTreeData=new ut.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;activeWorkspace;refresh(e){this.activeWorkspace=e,this.didChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){if(!this.activeWorkspace||!(this.activeWorkspace instanceof Ps))return[];if(e)return this.getRunDetails(e);try{return this.getRuns(this.activeWorkspace)}catch{return[]}}async resolveTreeItem(e,r){return r instanceof Kd&&(e.tooltip=await BK(r)),e}async getRuns(e){let r=this.ctx.workspaceState.get("terraform.cloud.organization","");if(r==="")return[];if(await ut.authentication.getSession(Pr.providerID,[],{createIfNone:!1})===void 0)return[];if(!this.activeWorkspace)return[];try{let i=await Xt.listRuns({params:{workspace_id:e.id},queries:{"page[size]":100}});if(this.reporter.sendTelemetryEvent("tfc-fetch-runs",void 0,{totalCount:i.meta.pagination["total-count"]}),i.data.length===0)return[{label:`No runs found for ${this.activeWorkspace.attributes.name}`,tooltip:`No runs found for ${this.activeWorkspace.attributes.name}`,contextValue:"empty"}];let o=[];for(let s=0;s<i.data.length;s++){let a=i.data[s],c=new Kd(a.id,a.attributes,this.activeWorkspace);c.contextValue="isRun",c.organizationName=r,c.configurationVersionId=a.relationships["configuration-version"]?.data?.id,c.createdByUserId=a.relationships["created-by"]?.data?.id,c.planId=a.relationships.plan?.data?.id,c.applyId=a.relationships.apply?.data?.id,(c.planId||c.applyId)&&(c.collapsibleState=ut.TreeItemCollapsibleState.Collapsed),o.push(c)}return o}catch(i){let o=`Failed to list runs in ${this.activeWorkspace.attributes.name} (${e.id}): `;if(i instanceof Br)return An(i,o,this.outputChannel,this.reporter),[];if(vr.isAxiosError(i)){if(i.response?.status===401)return oi(),[];if(i.response?.status===404)return ut.window.showWarningMessage(`Workspace ${this.activeWorkspace.attributes.name} (${e.id}) not found, please pick another one`),[];if(Ei(Xt.api,"listRuns",i))return o+=Ni(i.response.data.errors),ut.window.showErrorMessage(o),this.reporter.sendTelemetryException(i),[]}return i instanceof Error?(o+=i.message,ut.window.showErrorMessage(o),this.reporter.sendTelemetryException(i),[]):(typeof i=="string"&&(o+=i),ut.window.showErrorMessage(o),[])}}async getRunDetails(e){let r=[],n=e;if(n.planId){let i=await Xt.getPlan({params:{plan_id:n.planId}});if(i){let o=i.data.attributes.status,s=o==="unreachable"?"Plan will not run":`Plan ${o}`,a=new v_(n.planId,s,i.data.attributes);o==="unreachable"||o==="pending"?a.label=s:this.isJsonExpected(i.data.attributes,n.attributes["terraform-version"])?a.contextValue="hasStructuredPlan":a.contextValue="hasRawPlan",r.push(a)}}if(n.applyId){let i=await Xt.getApply({params:{apply_id:n.applyId}});if(i){let o=i.data.attributes.status,s=o==="unreachable"?"Apply will not run":`Apply ${o}`,a=new y_(n.applyId,s,i.data.attributes);o==="unreachable"||o==="pending"?a.label=s:this.isJsonExpected(i.data.attributes,n.attributes["terraform-version"])?a.contextValue="hasStructuredApply":a.contextValue="hasRawApply",r.push(a)}}return r}isJsonExpected(e,r){return Dk.default.satisfies(r,"> 0.15.2")?e["structured-run-output-enabled"]:!1}async downloadPlanLog(e){if(!e.id){await ut.window.showErrorMessage(`No plan found for ${e.id}`);return}let r=await ut.workspace.openTextDocument(e.documentUri);return await ut.window.showTextDocument(r,{preview:!1})}async downloadApplyLog(e){if(!e.id){await ut.window.showErrorMessage(`No apply found for ${e.id}`);return}let r=await ut.workspace.openTextDocument(e.documentUri);return await ut.window.showTextDocument(r,{preview:!1})}dispose(){}},Kd=class extends ut.TreeItem{constructor(r,n,i){super(n.message,ut.TreeItemCollapsibleState.None);this.id=r;this.attributes=n;this.workspace=i;this.id=r,this.workspace=i,this.iconPath=Ru(n.status),this.description=`${n["trigger-reason"]} ${n["created-at"]}`}organizationName;configurationVersionId;createdByUserId;planAttributes;planId;applyAttributes;applyId;get websiteUri(){return ut.Uri.parse(`${kn}/${this.organizationName}/workspaces/${this.workspace.attributes.name}/runs/${this.id}`)}},v_=class extends ut.TreeItem{constructor(r,n,i){super(n);this.id=r;this.label=n;this.attributes=i;this.iconPath=u_(i.status),i&&(this.logReadUrl=i["log-read-url"]??"")}logReadUrl="";get documentUri(){return ut.Uri.parse(`vscode-terraform://plan/${this.id}`)}},y_=class extends ut.TreeItem{constructor(r,n,i){super(n);this.id=r;this.label=n;this.attributes=i;this.iconPath=u_(i.status),i&&(this.logReadUrl=i["log-read-url"]??"")}logReadUrl="";get documentUri(){return ut.Uri.parse(`vscode-terraform://apply/${this.id}`)}};async function BK(t){let e=new ut.MarkdownString;e.supportHtml=!0,e.supportThemeIcons=!0;let r=t.configurationVersionId?await Xt.getConfigurationVersion({params:{configuration_id:t.configurationVersionId}}):void 0,n=r?.data.relationships["ingress-attributes"]?.data?.id?await Xt.getIngressAttributes({params:{configuration_id:r.data.id}}):void 0,i=$d(t.attributes["created-at"]);if(t.createdByUserId){let c=await Xt.getUser({params:{user_id:t.createdByUserId}});e.appendMarkdown(`<img src="${c.data.attributes["avatar-url"]}" width="20"> **${c.data.attributes.username}**`)}else n&&e.appendMarkdown(`<img src="${n.data.attributes["sender-avatar-url"]}" width="20"> **${n.data.attributes["sender-username"]}**`);let o=e_[t.attributes["trigger-reason"]],s=Ru(t.attributes.status),a=Ud(t.attributes.status);if(e.appendMarkdown(` ${o} from ${t_[t.attributes.source]} ${i}`),e.appendMarkdown(`

-----
_____
| | |
-:|--
| **Run ID**   | \`${t.id}\` |
| **Status** | $(${s.id}) ${a} |
`),n&&r&&r.data.attributes.source){let c=n.data.attributes["commit-sha"].slice(0,8),u=n_[r.data.attributes.source];e.appendMarkdown(`| **Configuration** | From ${u} by <img src="${n.data.attributes["sender-avatar-url"]}" width="20"> ${n.data.attributes["sender-username"]} **Branch** ${n.data.attributes.branch} **Repo** [${n.data.attributes.identifier}](${n.data.attributes["clone-url"]}) |
| **Commit** | [${c}](${n.data.attributes["commit-url"]}): ${n.data.attributes["commit-message"].split(`
`)[0]} |
`)}else e.appendMarkdown(`| **Configuration** | From ${t.attributes.source} |
`);return e.appendMarkdown(`| **Trigger** | ${o} |
| **Execution Mode** | ${t.workspace.attributes["execution-mode"]} |
`),e}var Sr=$e(require("vscode")),Ik=$e(require("readline")),Ok=require("stream");var si=$e(require("vscode"));function Xd(t){return"getChildren"in t}var Qa=class extends si.TreeItem{constructor(r){let n=Object.keys(r).length;super(`${n} outputs`,si.TreeItemCollapsibleState.Expanded);this.outputs=r}getChildren(){let r=[];return Object.entries(this.outputs).forEach(([n,i])=>{r.push(new b_(n,i))}),r}},b_=class extends si.TreeItem{constructor(e,r){super(e,si.TreeItemCollapsibleState.None),this.id="output/"+r.action+"/"+e,r.action&&(this.iconPath=Rs(r.action)),this.description=r.action,r.sensitive&&(this.description+=" (sensitive)")}},Ya=class extends si.TreeItem{constructor(r,n){let i=[];n.warningCount===1?i.push("1 warning"):n.warningCount>1&&i.push(`${n.warningCount} warnings`),n.errorCount===1?i.push("1 error"):n.errorCount>1&&i.push(`${n.errorCount} errors`);super(i.join(", "),si.TreeItemCollapsibleState.Expanded);this.diagnostics=r}getChildren(){return this.diagnostics.map(r=>new __(r))}},__=class extends si.TreeItem{constructor(e){super(e.summary,si.TreeItemCollapsibleState.None),this.description=e.severity;let r=yA(e.severity);this.iconPath=r;let n=new si.MarkdownString;n.supportThemeIcons=!0,n.appendMarkdown(`$(${r.id}) **${e.summary}**

`),n.appendMarkdown(e.detail),this.tooltip=n}};var Qd=class{constructor(e,r,n){this.ctx=e;this.reporter=r;this.outputChannel=n;this.ctx.subscriptions.push(Sr.commands.registerCommand("terraform.cloud.run.plan.refresh",()=>{this.reporter.sendTelemetryEvent("tfc-run-plan-refresh"),this.refresh(this.plan)}))}didChangeTreeData=new Sr.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;plan;refresh(e){this.plan=e,this.didChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){if(!this.plan)return[];if(!e)try{return this.getRootChildren(this.plan)}catch{return[]}if(Xd(e))return e.getChildren()}async getRootChildren(e){let r=await this.getPlanFromUrl(e),n=[];return r&&r.plannedChanges&&n.push(new x_(r.plannedChanges,r.changeSummary)),r&&r.driftChanges&&n.push(new C_(r.driftChanges,r.driftSummary)),r&&r.outputs&&n.push(new Qa(r.outputs)),r&&r.diagnostics&&r.diagnosticSummary&&r.diagnostics.length>0&&n.push(new Ya(r.diagnostics,r.diagnosticSummary)),n}async getPlanFromUrl(e){if(await Sr.authentication.getSession(Pr.providerID,[],{createIfNone:!1})!==void 0)try{let n=await vr.get(e.logReadUrl,{headers:{Accept:"text/plain"},responseType:"stream"}),i=Ik.createInterface({input:n.data,output:new Ok.Writable}),o={};for await(let s of i)try{let a=JSON.parse(s);if(a.type==="planned_change"&&a.change){o.plannedChanges||(o.plannedChanges=[]),o.plannedChanges.push(a.change);continue}if(a.type==="resource_drift"&&a.change){o.driftChanges||(o.driftChanges=[]),o.driftSummary||(o.driftSummary={changed:0,deleted:0}),o.driftChanges.push(a.change),a.change.action==="update"&&(o.driftSummary.changed+=1),a.change.action==="delete"&&(o.driftSummary.deleted+=1);continue}if(a.type==="change_summary"&&a.changes){o.changeSummary=a.changes;continue}if(a.type==="outputs"&&a.outputs){o.outputs=a.outputs;continue}if(a.type==="diagnostic"&&a.diagnostic){o.diagnostics||(o.diagnostics=[]),o.diagnosticSummary||(o.diagnosticSummary={errorCount:0,warningCount:0}),o.diagnostics.push(a.diagnostic),a.diagnostic.severity==="warning"&&(o.diagnosticSummary.warningCount+=1),a.diagnostic.severity==="error"&&(o.diagnosticSummary.errorCount+=1);continue}}catch{continue}return o}catch(n){let i=`Failed to obtain plan from ${e.logReadUrl}: `;if(n instanceof Br){An(n,i,this.outputChannel,this.reporter);return}if(vr.isAxiosError(n)&&n.response?.status===401){oi();return}if(n instanceof Error){i+=n.message,Sr.window.showErrorMessage(i),this.reporter.sendTelemetryException(n);return}typeof n=="string"&&(i+=n),Sr.window.showErrorMessage(i);return}}dispose(){}},x_=class extends Sr.TreeItem{constructor(r,n){let i="Planned changes";if(n){let o=[];n.import>0&&o.push(`${n.import} to import`),n.add>0&&o.push(`${n.add} to add`),n.change>0&&o.push(`${n.change} to change`),n.remove>0&&o.push(`${n.remove} to destroy`),o.length>0&&(i=`Planned changes: ${o.join(", ")}`)}super(i,Sr.TreeItemCollapsibleState.Expanded);this.plannedChanges=r}getChildren(){return this.plannedChanges.map(r=>new w_(r))}},w_=class extends Sr.TreeItem{constructor(r){let n=r.resource.addr;r.previous_resource&&(n=`${r.previous_resource.addr} \u2192 ${r.resource.addr}`);super(n,Sr.TreeItemCollapsibleState.None);this.change=r;this.id=r.action+"/"+r.resource.addr,this.iconPath=Rs(r.action),this.description=r.action;let i=new Sr.MarkdownString;r.previous_resource?i.appendMarkdown(`\`${r.previous_resource.addr}\` planned to _${r.action}_ to \`${r.resource.addr}\``):r.importing?i.appendMarkdown(`Planned to _${r.action}_ \`${r.resource.addr}\` (id=\`${r.importing.id}\`)`):i.appendMarkdown(`Planned to _${r.action}_ \`${r.resource.addr}\``),this.tooltip=i}},C_=class extends Sr.TreeItem{constructor(r,n){let i="Drifted resources";if(n){let o=[];n.changed>0&&o.push(`${n.changed} changed`),n.deleted>0&&o.push(`${n.deleted} deleted`),i=`Drifted resources: ${o.join(", ")}`}super(i,Sr.TreeItemCollapsibleState.Expanded);this.driftChanges=r}getChildren(){return this.driftChanges.map(r=>new E_(r))}},E_=class extends Sr.TreeItem{constructor(r){let n=r.resource.addr;r.previous_resource&&(n=`${r.previous_resource.addr} \u2192 ${r.resource.addr}`);super(n,Sr.TreeItemCollapsibleState.None);this.change=r;this.id="drift/"+r.action+"/"+r.resource.addr,this.iconPath=Rs(r.action);let i=vA(r.action);this.description=i,this.tooltip=new Sr.MarkdownString(`\`${r.resource.addr}\` _${i}_`)}};var Zi=$e(require("vscode"));var Du=class{get label(){return"$(add) Create new organization"}get detail(){return"Open the browser to create a new organization"}async open(){await Zi.env.openExternal(Zi.Uri.parse(`${kn}/organizations/new`))}get alwaysShow(){return!0}},Iu=class{get label(){return"$(refresh) Refresh organizations"}get detail(){return"Refetch all organizations"}get alwaysShow(){return!0}},S_=class{constructor(e){this.organization=e}get label(){return this.organization.attributes.name}},Yd=class{constructor(e,r){this.outputChannel=e;this.reporter=r}name="organizations";title="Welcome to HCP Terraform";placeholder="Choose an organization (type to search)";ignoreFocusOut=!0;async createOrganizationItems(e){let r=await Xt.listOrganizations({...e&&{queries:{q:e}}});return r.data.length<=0?await Zi.commands.executeCommand("setContext","terraform.cloud.organizationsExist",!1):await Zi.commands.executeCommand("setContext","terraform.cloud.organizationsExist",!0),r.data.map(n=>new S_(n))}async fetchItems(e){let r=new Du,n=new Iu,i=[r,n,{label:"",kind:Zi.QuickPickItemKind.Separator}];try{i.push(...await this.createOrganizationItems(e))}catch(o){let s="Failed to fetch organizations";if(o instanceof Br)return An(o,s,this.outputChannel,this.reporter),i;if(vr.isAxiosError(o)&&o.response?.status===401)return oi(),i;Ei(Xt.api,"listOrganizations",o)?(s+=Ni(o.response.data.errors),this.reporter.sendTelemetryException(o)):o instanceof Error?(s+=o.message,this.reporter.sendTelemetryException(o)):typeof o=="string"&&(s+=o),i.push({label:`$(error) ${s}`,alwaysShow:!0})}return i}};var Ou=$e(require("vscode"));var Zd=class{onDidChangeEmitter=new Ou.EventEmitter;onDidChange=this.onDidChangeEmitter.event;async provideTextDocumentContent(e){try{let r=await this.getLogUrl(e);if(!r)throw new Error("Unable to parse log URL");let n=await vr.get(r,{headers:{Accept:"text/plain"}});return this.parseLog(n.data)}catch(r){return r instanceof Error?await Ou.window.showErrorMessage("Failed to load log:",r.message):typeof r=="string"&&await Ou.window.showErrorMessage("Failed to load log:",r),console.error(r),""}}parseLog(e){return e=l_(e),e=e.replace("","").replace("",""),e}async getLogUrl(e){let r=e.path.replace("/","");switch(e.authority){case"plan":return await this.getPlanLogUrl(r);case"apply":return await this.getApplyLogUrl(r)}}async getPlanLogUrl(e){return(await Xt.getPlan({params:{plan_id:e}})).data.attributes["log-read-url"]}async getApplyLogUrl(e){return(await Xt.getApply({params:{apply_id:e}})).data.attributes["log-read-url"]}};var Zr=$e(require("vscode")),Ak=$e(require("readline")),kk=require("stream");var Jd=class{constructor(e,r,n){this.ctx=e;this.reporter=r;this.outputChannel=n;this.ctx.subscriptions.push(Zr.commands.registerCommand("terraform.cloud.run.apply.refresh",()=>{this.reporter.sendTelemetryEvent("tfc-run-apply-refresh"),this.refresh(this.apply)}))}didChangeTreeData=new Zr.EventEmitter;onDidChangeTreeData=this.didChangeTreeData.event;apply;refresh(e){this.apply=e,this.didChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){if(!this.apply)return[];if(!e)try{return this.getRootChildren(this.apply)}catch{return[]}if(Xd(e))return e.getChildren()}async getRootChildren(e){let r=await this.getApplyFromUrl(e),n=[];return r&&r.appliedChanges&&n.push(new T_(r.appliedChanges,r.changeSummary)),r&&r.outputs&&Object.keys(r.outputs).length>0&&n.push(new Qa(r.outputs)),r&&r.diagnostics&&r.diagnosticSummary&&r.diagnostics.length>0&&n.push(new Ya(r.diagnostics,r.diagnosticSummary)),n}async getApplyFromUrl(e){if(await Zr.authentication.getSession(Pr.providerID,[],{createIfNone:!1})!==void 0)try{let n=await vr.get(e.logReadUrl,{headers:{Accept:"text/plain"},responseType:"stream"}),i=Ak.createInterface({input:n.data,output:new kk.Writable}),o={};for await(let s of i)try{let a=JSON.parse(s);if(a.type==="apply_complete"&&a.hook){o.appliedChanges||(o.appliedChanges=[]),o.appliedChanges.push(a.hook);continue}if(a.type==="change_summary"&&a.changes){o.changeSummary=a.changes;continue}if(a.type==="outputs"&&a.outputs){o.outputs=a.outputs;continue}if(a.type==="diagnostic"&&a.diagnostic){o.diagnostics||(o.diagnostics=[]),o.diagnosticSummary||(o.diagnosticSummary={errorCount:0,warningCount:0}),o.diagnostics.push(a.diagnostic),a.diagnostic.severity==="warning"&&(o.diagnosticSummary.warningCount+=1),a.diagnostic.severity==="error"&&(o.diagnosticSummary.errorCount+=1);continue}}catch{continue}return o}catch(n){let i=`Failed to obtain apply log from ${e.logReadUrl}: `;if(n instanceof Br){An(n,i,this.outputChannel,this.reporter);return}if(vr.isAxiosError(n)&&n.response?.status===401){oi();return}if(n instanceof Error){i+=n.message,Zr.window.showErrorMessage(i),this.reporter.sendTelemetryException(n);return}typeof n=="string"&&(i+=n),Zr.window.showErrorMessage(i);return}}dispose(){}},T_=class extends Zr.TreeItem{constructor(r,n){let i="Applied changes";if(n){let o=[];n.import>0&&o.push(`${n.import} imported`),n.add>0&&o.push(`${n.add} added`),n.change>0&&o.push(`${n.change} changed`),n.remove>0&&o.push(`${n.remove} destroyed`),o.length>0&&(i=`Applied changes: ${o.join(", ")}`)}super(i,Zr.TreeItemCollapsibleState.Expanded);this.appliedChanges=r}getChildren(){return this.appliedChanges.map(r=>new R_(r))}},R_=class extends Zr.TreeItem{constructor(r){let n=r.resource.addr;super(n,Zr.TreeItemCollapsibleState.None);this.change=r;this.id=r.action+"/"+r.resource.addr,this.iconPath=Rs(r.action),this.description=r.action,r.id_key&&r.id_value&&(this.description=`${r.id_key}=${r.id_value}`);let i=new Zr.MarkdownString;i.appendMarkdown(`_${r.action}_ \`${r.resource.addr}\``),this.tooltip=i}};var ef=class{constructor(e,r,n){this.context=e;this.reporter=r;let i=new Pr(e.secrets,e,this.reporter,n);this.context.subscriptions.push(Yt.workspace.registerTextDocumentContentProvider("vscode-terraform",new Zd)),this.statusBar=new P_(e),i.onDidChangeSessions(async m=>{m&&m.added&&m.added.length>0&&(await Yt.commands.executeCommand("terraform.cloud.organization.picker"),this.statusBar.show()),m&&m.removed&&m.removed.length>0&&this.statusBar.reset()}),e.subscriptions.push(Yt.authentication.registerAuthenticationProvider(Pr.providerID,Pr.providerLabel,i,{supportsMultipleAccounts:!1}));let o=new Qd(this.context,this.reporter,n),s=Yt.window.createTreeView("terraform.cloud.run.plan",{canSelectMany:!1,showCollapseAll:!0,treeDataProvider:o}),a=new Jd(this.context,this.reporter,n),c=Yt.window.createTreeView("terraform.cloud.run.apply",{canSelectMany:!1,showCollapseAll:!0,treeDataProvider:a}),u=new Gd(this.context,this.reporter,n,o,a),l=Yt.window.createTreeView("terraform.cloud.runs",{canSelectMany:!1,showCollapseAll:!0,treeDataProvider:u}),p=new Hd(this.context,u,this.reporter,n),d=Yt.window.createTreeView("terraform.cloud.workspaces",{canSelectMany:!1,showCollapseAll:!0,treeDataProvider:p}),f=this.context.workspaceState.get("terraform.cloud.organization","");d.title=f!==""?`Workspaces - (${f})`:"Workspaces",this.context.subscriptions.push(l,s,o,c,a,u,p,d),d.onDidChangeSelection(m=>{if(m.selection.length<=0)return;let g=m.selection[0];g instanceof Ps&&(u.refresh(g),o.refresh(),a.refresh())}),Yt.authentication.onDidChangeSessions(m=>{m.provider.id===Pr.providerID&&(p.reset(),p.refresh(),u.refresh(),o.refresh(),a.refresh())}),d.onDidChangeVisibility(async m=>{m.visible?(this.statusBar.show(),await Yt.commands.executeCommand("setContext","terraform.cloud.views.visible",!0)):(this.statusBar.hide(),await Yt.commands.executeCommand("setContext","terraform.cloud.views.visible",!1))}),this.context.subscriptions.push(Yt.commands.registerCommand("terraform.cloud.workspaces.picker",async()=>{this.reporter.sendTelemetryEvent("tfc-new-workspace");let m=this.context.workspaceState.get("terraform.cloud.organization","");if(m==="")return[];let g=`${kn}/${m}/workspaces/new`;await Yt.env.openExternal(Yt.Uri.parse(g))}),Yt.commands.registerCommand("terraform.cloud.organization.picker",async()=>{this.reporter.sendTelemetryEvent("tfc-pick-organization");let m=new Yd(n,r),g=new Ga(m),y;for(;;){if(y=await g.pick(!1),y===void 0)return;if(y instanceof Du){this.reporter.sendTelemetryEvent("tfc-pick-organization-create"),y.open();continue}else if(y instanceof Iu){this.reporter.sendTelemetryEvent("tfc-pick-organization-refresh");continue}break}g.hide(),this.statusBar.show(y.label),d.title=`Workspace - (${y.label})`,await Yt.commands.executeCommand("terraform.cloud.workspaces.resetProjectFilter")}))}statusBar;dispose(){this.statusBar.dispose()}},P_=class{constructor(e){this.context=e;this.organizationStatusBar.name="TFCOrganizationBar",this.organizationStatusBar.command={command:"terraform.cloud.organization.picker",title:"Choose your HCP Terraform Organization"}}organizationStatusBar=Yt.window.createStatusBarItem(Yt.StatusBarAlignment.Left,0);dispose(){this.organizationStatusBar.dispose()}async show(e){e?await this.context.workspaceState.update("terraform.cloud.organization",e):e=this.context.workspaceState.get("terraform.cloud.organization",""),e?(this.organizationStatusBar.text=`$(account) TFC - ${e}`,await Yt.commands.executeCommand("setContext","terraform.cloud.organizationsChosen",!0)):await Yt.commands.executeCommand("setContext","terraform.cloud.organizationsChosen",!1),this.organizationStatusBar.show()}async reset(){await Yt.commands.executeCommand("setContext","terraform.cloud.organizationsChosen",!1),await this.context.workspaceState.update("terraform.cloud.organization",void 0),this.organizationStatusBar.text="",this.organizationStatusBar.hide()}hide(){this.organizationStatusBar.hide()}};var zK="terraform",VK="HashiCorp Terraform",WK=[{scheme:"file",language:"terraform"},{scheme:"file",language:"terraform-vars"},{scheme:"file",language:"terraform-stack"},{scheme:"file",language:"terraform-deploy"},{scheme:"file",language:"terraform-test"},{scheme:"file",language:"terraform-mock"}],ai=Dr.window.createOutputChannel(VK),GK=Dr.window.createOutputChannel("HCP Terraform"),fn,bn,Nk,D_=0;async function KK(t){let e=t.extension.packageJSON;if(fn=new Mk.default(t.extension.id,e.version,e.appInsightsKey),t.subscriptions.push(fn),t.subscriptions.push(new Vp),t.subscriptions.push(new ef(t,fn,GK)),wr("terraform").get("languageServer.enable")===!1){fn.sendTelemetryEvent("disabledTerraformLS");return}let r=new qp(t);r.hasCustomBinPath()&&fn.sendTelemetryEvent("usePathToBinary");let n=await G0(r,ai),i=zR(),o={documentSelector:WK,progressOnInitialization:!0,synchronize:{fileEvents:[Dr.workspace.createFileSystemWatcher("**/*.tf"),Dr.workspace.createFileSystemWatcher("**/*.tfvars"),Dr.workspace.createFileSystemWatcher("**/*.tfstack.hcl"),Dr.workspace.createFileSystemWatcher("**/*.tfdeploy.hcl"),Dr.workspace.createFileSystemWatcher("**/*.tftest.hcl"),Dr.workspace.createFileSystemWatcher("**/*.tfmock.hcl")]},diagnosticCollectionName:"HashiCorpTerraform",outputChannel:ai,revealOutputChannelOn:mn.RevealOutputChannelOn.Never,initializationOptions:i,initializationFailedHandler:s=>{Nk=s,fn.sendTelemetryException(s);let a="Failure to start terraform-ls. Please check your configuration settings and reload this window";return wr("terraform").get("languageServer.args",[])[0]!=="serve"&&(a='You need at least a "serve" argument in the `terraform.languageServer.args` setting. Please check your configuration settings and reload this window'),ai.appendLine(a),Dr.window.showErrorMessage(a,{detail:"",modal:!1},{title:"Open Settings"},{title:"Open Logs"},{title:"More Info"}).then(async u=>{if(u!==void 0)switch(u.title){case"Open Logs":ai.show();break;case"Open Settings":await Dr.commands.executeCommand("workbench.action.openSettings","@ext:hashicorp.terraform");break;case"More Info":await Dr.commands.executeCommand("vscode.open",Dr.Uri.parse("https://github.com/hashicorp/vscode-terraform#troubleshooting"));break}}),!1},errorHandler:{error:(s,a,c)=>({message:`Terraform LS connection error: (${c??0})
${s?.message}
${a?.jsonrpc}`,action:mn.ErrorAction.Shutdown}),closed:()=>Nk!==void 0?(ai.appendLine("Initialization error handled by handler"),{message:"",action:mn.CloseAction.DoNotRestart}):(D_=D_+1,D_<=1?(ai.appendLine("Server has failed. Restarting"),{action:mn.CloseAction.Restart}):(ai.appendLine("Failure to start terraform-ls. Please check your configuration settings and reload this window"),{message:"Failure to start terraform-ls. Please check your configuration settings and reload this window",action:mn.CloseAction.DoNotRestart}))}};bn=new mn.LanguageClient(zK,n,o),bn.onDidChangeState(s=>{switch(ai.appendLine(`Client: ${mn.State[s.oldState]} --> ${mn.State[s.newState]}`),s.newState){case mn.State.Starting:MR();break;case mn.State.Running:Zc();break;case mn.State.Stopped:LR(),fn.sendTelemetryEvent("stopClient");break}}),bn.registerFeatures([new zp(bn,fn,ai),new Up(bn,e),new $p(bn,new Np(t,bn,fn)),new Hp(bn,new kp(t,bn,fn)),new jp(bn,fn),new Fp(bn),new Bp(bn,fn,ai)]),t.subscriptions.push(new Ip(t),new Wp(bn,fn));try{await bn.start()}catch(s){await V0(s,t,fn)}}async function XK(){try{await bn?.stop()}catch(t){t instanceof Error?(ai.appendLine(t.message),fn.sendTelemetryException(t),Dr.window.showErrorMessage(t.message),cy(t.message,!1,Dr.LanguageStatusSeverity.Error)):typeof t=="string"&&(ai.appendLine(t),fn.sendTelemetryException(new Error(t)),Dr.window.showErrorMessage(t),cy(t,!1,Dr.LanguageStatusSeverity.Error))}}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
